/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"",""]);const o=i},340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"",""]);const o=i},538:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":root {\r\n\t--pad-and-gap: 0.4em;\r\n\t--primary-color: rgb(255, 0, 0);\r\n\t--secondary-color: #000000;\r\n\t--color-white: #ffffff;\r\n\t--primary-font: 'Poppins', sans-serif;\r\n\t--grey-color: #c2c2c2;\r\n\t--dark-grey-color: #d8d8d8;\r\n\t--silver-color: #d2d2d2;\r\n}\r\n\r\n*, *::before, *::after {\r\n\tbox-sizing: border-box;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\nhtml {\r\n\tfont-family: var(--primary-font);\r\n}\r\n\r\nbody {\r\n\tline-height: 1.5;\r\n}\r\n\r\np, span, a {\r\n\tcolor: var(--secondary-color);\r\n\ttext-decoration: none;\r\n}\r\n\r\n/* Preview each of these suggested resets before beginning your project styling */\r\n\r\nimg {\r\n\tmax-width: 100%;\r\n\theight: auto;\r\n\tvertical-align: bottom;\r\n}\r\n\r\nul, ol, dl {\r\n\tlist-style: none;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\nli>ul, li>ol {\r\n\tpadding-left: 2.5em;\r\n}\r\n\r\ninput, button {\r\n\tmargin: 0;\r\n\tfont: inherit;\r\n}\r\n\r\nfieldset {\r\n\tdisplay: flex;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: none;\r\n}\r\n\r\nlegend {\r\n\tpadding: 0;\r\n\tborder: none;\r\n}\r\n\r\n.hidden {\r\n\tdisplay: none;\r\n}\r\n\r\n.container {\r\n\tmax-width: 1300px;\r\n\twidth: 95%;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n/* These will make \"User agent stylesheet\" values (Chrome) available when needed, using classes */\r\n\r\nul.ul {\r\n\tlist-style-type: disc;\r\n}\r\n\r\nol.ol {\r\n\tlist-style-type: decimal;\r\n}\r\n\r\nul.ul, ol.ol {\r\n\tmargin-block-start: 1em;\r\n\tmargin-block-end: 1em;\r\n\tmargin-inline-start: 0px;\r\n\tmargin-inline-end: 0px;\r\n\tpadding-inline-start: 2.5em;\r\n}\r\n\r\nfieldset.fieldset {\r\n\tdisplay: block;\r\n\tmargin-inline-start: 0.125em;\r\n\tmargin-inline-end: 0.125em;\r\n\tpadding-block-start: 0.35em;\r\n\tpadding-inline-start: 0.75em;\r\n\tpadding-inline-end: 0.75em;\r\n\tpadding-block-end: 0.625em;\r\n\tmin-inline-size: min-content;\r\n\tborder-width: 0.125em;\r\n\tborder-style: groove;\r\n\tborder-color: threedface;\r\n\tborder-image: initial;\r\n}\r\n\r\nlegend.legend {\r\n\tdisplay: block;\r\n\tpadding-inline-start: 0.125em;\r\n\tpadding-inline-end: 0.125em;\r\n\tborder-width: initial;\r\n\tborder-style: none;\r\n\tborder-color: initial;\r\n\tborder-image: initial;\r\n}\r\n\r\n.color-red {\r\n\tcolor: var(--primary-color);\r\n}\r\n\r\n.btn-red {\r\n\tbackground-color: var(--primary-color);\r\n\tcolor: var(--color-white);\r\n\tborder: 0.3em solid var(--primary-color);\r\n}\r\n\r\n.grid {\r\n\tdisplay: grid;\r\n}\r\n\r\n.flex {\r\n\tdisplay: flex;\r\n}\r\n\r\n.flex-gap {\r\n\tjustify-content: center;\r\n}\r\n\r\n.grid-2 {\r\n\tgrid-template-columns: repeat(2, auto);\r\n}\r\n\r\n.grid-1 {\r\n\tgrid-template-columns: repeat(1, auto);\r\n}\r\n\r\n.grid-desktop {\r\n\tgrid-template-columns: repeat(3, auto);\r\n}\r\n\r\n.text-left {\r\n\ttext-align: left;\r\n\tjustify-content: start;\r\n}\r\n\r\n.text-center {\r\n\ttext-align: center;\r\n\tjustify-content: space-around;\r\n}\r\n\r\n.text-right {\r\n\ttext-align: right;\r\n\tjustify-content: flex-end;\r\n}\r\n\r\n.flex-even {\r\n\tjustify-content: space-evenly;\r\n}\r\n\r\n.hidden-on-mobile-view {\r\n\tdisplay: none;\r\n}\r\n\r\n.navigation {\r\n\tbackground-color: var(--color-white);\r\n\tz-index: 2;\r\n\tposition: relative;\r\n\tpadding: var(--pad-and-gap) 0;\r\n\tborder: 0.1em solid var(--grey-color);\r\n\tmargin-top: 0.3em;\r\n}\r\n\r\n.pad-3 {\r\n\tpadding: var(--pad-and-gap) 0;\r\n}\r\n\r\n.submenu {\r\n\tpadding-left: 0;\r\n}\r\n\r\n.float-right {\r\n\tfloat: right;\r\n}\r\n\r\n.transparent-background {\r\n\tbackground: transparent;\r\n\tborder: none;\r\n}\r\n\r\n.fa-star, .fa-star-half-alt {\r\n\tcolor: var(--primary-color);\r\n}",""]);const o=i},583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,"/* Small devices (landscape phones, 576px and up) */\r\n\r\n@media (min-width: 576px) and (max-width: 767.98px) {\r\n    .heading-header {\r\n        padding-top: 0.3em;\r\n    }\r\n    .grid-webview {\r\n        grid-template-columns: repeat(3, 1fr);\r\n    }\r\n    .grid-webview-products {\r\n        grid-template-columns: repeat(1, 1fr);\r\n        column-gap: 1em;\r\n    }\r\n    .grid-webview-product-section {\r\n        grid-column: 2/ 4;\r\n    }\r\n    .pad-left-4 {\r\n        padding-left: var(--pad-and-gap);\r\n    }\r\n    .hide-on-webview {\r\n        display: none;\r\n    }\r\n    .pad-left-10 {\r\n        padding-left: 2em;\r\n    }\r\n    .show-on-tablet {\r\n        display: inline-block;\r\n    }\r\n    .width-100 {\r\n        width: 14em;\r\n    }\r\n}\r\n\r\n/* Medium devices (tablets, 768px and up) */\r\n\r\n@media (min-width: 768px) and (max-width: 991.98px) {\r\n    .grid-webview {\r\n        grid-template-columns: repeat(3, 1fr);\r\n    }\r\n    .grid-webview-products {\r\n        grid-template-columns: repeat(2, 1fr);\r\n        column-gap: 1em;\r\n    }\r\n    .grid-webview-product-section {\r\n        grid-column: 2/ 5;\r\n    }\r\n    .hide-on-webview {\r\n        display: none;\r\n    }\r\n    .heading-header {\r\n        padding-top: 3em;\r\n    }\r\n    .heading-header h3 {\r\n        font-size: 2em;\r\n    }\r\n    .cart-button {\r\n        width: 100%;\r\n    }\r\n    .pad-left-10 {\r\n        padding-left: 2em;\r\n    }\r\n    .filters {\r\n        position: sticky;\r\n        height: fit-content;\r\n    }\r\n    .show-on-tablet {\r\n        display: inline-block;\r\n    }\r\n    .width-100 {\r\n        width: 14em;\r\n    }\r\n    .hidden-on-mobile-view {\r\n        display: inline-block;\r\n    }\r\n}\r\n\r\n/* Large devices (desktops, 992px and up) */\r\n\r\n@media (min-width: 992px) and (max-width: 1199.98px) {\r\n    .grid-webview {\r\n        grid-template-columns: repeat(3, 1fr);\r\n    }\r\n    .grid-webview-products {\r\n        grid-template-columns: repeat(2, 1fr);\r\n        column-gap: 1em;\r\n    }\r\n    .grid-webview-product-section {\r\n        grid-column: 2/ 5;\r\n    }\r\n    .hide-on-webview {\r\n        display: none;\r\n    }\r\n    .heading-header {\r\n        padding-top: 0.4em;\r\n    }\r\n    .heading-header h3 {\r\n        font-size: 2.5em;\r\n    }\r\n    .cart-button {\r\n        width: 100%;\r\n    }\r\n    .pad-left-10 {\r\n        padding-left: 2em;\r\n    }\r\n    .footer-grid {\r\n        grid-template-columns: repeat(4, 1fr);\r\n    }\r\n    .filters {\r\n        position: sticky;\r\n        height: fit-content;\r\n    }\r\n    .show-on-webview {\r\n        display: inline-block;\r\n    }\r\n    .hidden-on-mobile-view {\r\n        display: inline-block;\r\n    }\r\n    .width-100 {\r\n        width: 14em;\r\n    }\r\n}\r\n\r\n/* Extra large devices (large desktops, 1200px and up) */\r\n\r\n@media (min-width: 1200px) {\r\n    .grid-webview {\r\n        grid-template-columns: repeat(4, 1fr);\r\n    }\r\n    .grid-webview-products {\r\n        grid-template-columns: repeat(3, 1fr);\r\n        column-gap: 1em;\r\n    }\r\n    .grid-webview-product-section {\r\n        grid-column: 2/ 6;\r\n    }\r\n    .hide-on-webview {\r\n        display: none;\r\n    }\r\n    .heading-header {\r\n        padding-top: 3em;\r\n    }\r\n    .heading-header h3 {\r\n        font-size: 2.5em;\r\n    }\r\n    .cart-button {\r\n        width: 100%;\r\n    }\r\n    .filters {\r\n        position: sticky;\r\n        height: fit-content;\r\n    }\r\n    .pad-left-10 {\r\n        padding-left: 2em;\r\n    }\r\n    .show-on-webview {\r\n        display: inline-block;\r\n    }\r\n    .hidden-on-mobile-view {\r\n        display: inline-block;\r\n    }\r\n    .width-100 {\r\n        width: 14em;\r\n    }\r\n}\r\n\r\n@media (min-width: 2000px) {\r\n    .grid-webview {\r\n        grid-template-columns: repeat(5, 1fr);\r\n    }\r\n    .container {\r\n        max-width: 2600px;\r\n        width: 95%;\r\n        margin: 0 auto;\r\n    }\r\n    .grid-webview-products {\r\n        grid-template-columns: repeat(3, 1fr);\r\n    }\r\n    .grid-webview-product-section {\r\n        grid-column: 2/ 6;\r\n    }\r\n}",""]);const o=i},402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(645),i=n.n(r),o=n(667),a=n.n(o),s=n(190),u=i()((function(e){return e[1]})),c=a()(s.Z);u.push([e.id,'/* Note there a few "reset" styles given in reset.css. Review those before you begin */\r\n\r\n.page-header {\r\n  height: 3em;\r\n}\r\n\r\n.page-header .icons ul li {\r\n  padding: var(--pad-and-gap) 0.5em;\r\n}\r\n\r\n.page-header .icons ul li .fa-icon {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.page-header .logo img {\r\n  height: 3em;\r\n}\r\n\r\n.legal a {\r\n  font-size: 0.9em;\r\n}\r\n\r\n.submenu-webview {\r\n  background-color: var(--color-white);\r\n  padding-top: var(--pad-and-gap);\r\n}\r\n\r\n.hero-header {\r\n  background: linear-gradient(rgba(0, 0, 0, 0.1), rgba(255, 255, 255, 0.1)), url('+c+') center center;\r\n  background-size: cover;\r\n  position: relative;\r\n  justify-content: left;\r\n  text-align: left;\r\n  min-height: 50vh;\r\n}\r\n\r\n.pad-left-3 {\r\n  padding-left: 0.3em;\r\n}\r\n\r\n.mar-top-10 {\r\n  margin-top: 1em;\r\n}\r\n\r\n.pad-top-20 {\r\n  padding-top: 2em;\r\n}\r\n\r\n.width-100 {\r\n  width: 10em;\r\n}\r\n\r\n.sort-by {\r\n  background-color: var(--color-white);\r\n  margin-top: 1.4em;\r\n}\r\n\r\n.shop-submenu-options {\r\n  z-index: 20;\r\n  position: relative;\r\n  background-color: var(--color-white);\r\n  padding: var(--pad-and-gap) 0;\r\n  margin-top: var(--pad-and-gap);\r\n  border: 0.1em solid #d2d2d2;\r\n}\r\n\r\n.page-footer {\r\n  padding-top: 0.6em;\r\n}\r\n\r\n.page-footer ul, .page-footer nav {\r\n  justify-content: center;\r\n  justify-items: legacy;\r\n  place-content: flex-end;\r\n}\r\n\r\n.heading-header {\r\n  padding-top: 3em;\r\n}\r\n\r\n.copyright {\r\n  margin-top: 0;\r\n  padding-bottom: var(--pad-and-gap);\r\n}\r\n\r\n.border-box {\r\n  background-color: transparent;\r\n  border: 0.05em solid var(--secondary-color);\r\n  border-radius: 10em;\r\n  height: 2em;\r\n  width: 2em;\r\n}\r\n\r\n.active-box, .border-box:hover {\r\n  background-color: var(--secondary-color);\r\n  color: var(--color-white);\r\n}\r\n\r\n.color-variant-fields input, .size-fields input {\r\n  display: none;\r\n}\r\n\r\n.color-variant-fields li, .size-fields li {\r\n  display: inline;\r\n}\r\n\r\n.color-variant-fields label, .size-fields label {\r\n  background: var(--color-white);\r\n  color: black;\r\n  border: 0.1em solid var(--secondary-color);\r\n  cursor: pointer;\r\n  border-radius: 0.8em;\r\n  padding: 0.2em 0.4em;\r\n}\r\n\r\nul.color-variant-fields li input[type=radio]:checked+label, ul.size-fields li input[type=radio]:checked+label {\r\n  background-color: var(--secondary-color);\r\n  color: var(--color-white);\r\n  transition: all .2s;\r\n}\r\n\r\n.cart-button {\r\n  background-color: var(--color-white);\r\n  border: 1px solid #cccccc;\r\n  padding: var(--pad-and-gap);\r\n  border-radius: var(--pad-and-gap);\r\n  width: 100%;\r\n  outline: 0;\r\n}\r\n\r\n.cart-button:not(.disabled):hover {\r\n  background-color: var(--secondary-color);\r\n  color: var(--color-white);\r\n}\r\n\r\n.product-footer {\r\n  padding: 1em 0;\r\n  text-align: center;\r\n}\r\n\r\n.grey-background {\r\n  background-color: #f1efef\r\n}\r\n\r\n.pad-top-4 {\r\n  padding-top: var(--pad-and-gap);\r\n}\r\n\r\n.font-bold {\r\n  font-weight: 600;\r\n}\r\n\r\ndel {\r\n  color: var(--primary-color);\r\n}\r\n\r\n.page-footer h5 {\r\n  margin-bottom: 0.1em;\r\n}\r\n\r\n.pages li {\r\n  padding: 0.1em;\r\n  width: 2em;\r\n  border: 1px solid black;\r\n  border-radius: 5em;\r\n  margin: 0 var(--pad-and-gap);\r\n  margin-bottom: 1em;\r\n}\r\n\r\n.pages li.active-page {\r\n  background-color: var(--secondary-color);\r\n}\r\n\r\n.pages li.active-page a {\r\n  color: var(--color-white);\r\n  font-weight: bold;\r\n}\r\n\r\n.search-text {\r\n  border: 0;\r\n  border-bottom: 1px solid var(--secondary-color);\r\n  width: 85%;\r\n  padding-right: 1.7em;\r\n}\r\n\r\n.menu, .submenu {\r\n  text-align: left;\r\n}\r\n\r\n.border-bottom {\r\n  border-bottom: 0.1em solid #cccccc;\r\n}\r\n\r\n.shop-arrow {\r\n  font-size: 0.5em;\r\n  position: relative;\r\n  bottom: 0.2em;\r\n  padding-left: 0.5em;\r\n}\r\n\r\n.search-icon {\r\n  position: relative;\r\n  right: 1em;\r\n}\r\n\r\n.disabled {\r\n  cursor: text;\r\n  color: #f1efef;\r\n}\r\n\r\n.filter-button {\r\n  padding: 0.6em;\r\n  border-radius: 0;\r\n  background-color: black;\r\n  color: var(--color-white);\r\n  margin: 0.6em 0;\r\n}\r\n\r\n.clear-both {\r\n  clear: both;\r\n  width: 100%;\r\n}\r\n\r\n.font-normal {\r\n  font-weight: 300;\r\n}\r\n\r\n.filter-button:hover {\r\n  background-color: var(--color-white);\r\n  color: black;\r\n}\r\n\r\n.filter-options {\r\n  padding: var(--pad-and-gap);\r\n  border: 0.1em solid #d2d2d2;\r\n}\r\n\r\n.social li {\r\n  padding: 0 0.5em;\r\n}\r\n\r\n.top-width-5 {\r\n  margin-top: 1em;\r\n}\r\n\r\n.extra-content {\r\n  color: var(--primary-color);\r\n}\r\n\r\n.radio-group input[type=radio] {\r\n  position: absolute;\r\n  visibility: hidden;\r\n  display: none;\r\n}\r\n\r\n.radio-group label {\r\n  color: #332f35;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  padding: 5px 15px;\r\n}\r\n\r\n.radio-group input[type=radio]:checked+label {\r\n  color: var(--primary-color);\r\n  font-weight: bold;\r\n}\r\n\r\n.radio-group label+input[type=radio]+label {\r\n  border-left: solid 3px var(--dark-grey-color);\r\n}\r\n\r\n.radio-group {\r\n  border: solid 3px var(--dark-grey-color);\r\n  display: inline-block;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n\r\n.verified-image {\r\n  height: 2em;\r\n}\r\n\r\n.verified-image-filter {\r\n  height: 1.5em;\r\n}\r\n\r\n.fa-foursquare {\r\n  color: red;\r\n  padding-right: var(--pad-and-gap);\r\n}\r\n\r\nul.ks-cboxtags {\r\n  list-style: none;\r\n}\r\n\r\nul.ks-cboxtags li {\r\n  display: inline;\r\n}\r\n\r\nul.ks-cboxtags li label {\r\n  display: inline-block;\r\n  background-color: rgba(255, 255, 255, .9);\r\n  border: 2px solid var(--dark-grey-color);\r\n  color: var(--secondary-color);\r\n  border-radius: 25px;\r\n  white-space: nowrap;\r\n  margin: 3px 0px;\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  -webkit-tap-highlight-color: transparent;\r\n  transition: all .2s;\r\n}\r\n\r\nul.ks-cboxtags li label {\r\n  padding: 1px 12px;\r\n  cursor: pointer;\r\n}\r\n\r\nul.ks-cboxtags li label::before {\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-variant: normal;\r\n  text-rendering: auto;\r\n  -webkit-font-smoothing: antialiased;\r\n  font-family: "Font Awesome 5 Free";\r\n  font-weight: 900;\r\n  font-size: 12px;\r\n  padding: 2px 6px 2px 2px;\r\n  content: "\\f067";\r\n  transition: transform .3s ease-in-out;\r\n}\r\n\r\nul.ks-cboxtags li input:checked+label::before {\r\n  content: "\\f00c";\r\n  transform: rotate(-360deg);\r\n  transition: transform .3s ease-in-out;\r\n}\r\n\r\nul.ks-cboxtags li input:checked+label {\r\n  border: 2px solid var(--secondary-color);\r\n  background-color: var(--secondary-color);\r\n  color: var(--color-white);\r\n  transition: all .2s;\r\n}\r\n\r\nul.ks-cboxtags li input {\r\n  display: absolute;\r\n}\r\n\r\nul.ks-cboxtags li input {\r\n  position: absolute;\r\n  opacity: 0;\r\n}\r\n\r\nul.ks-cboxtags li input:focus+label {\r\n  border: 2px solid var(--secondary-color);\r\n}\r\n\r\n.disabled-page {\r\n  background-color: var(--silver-color);\r\n  border: 0.11em solid var(--silver-color) !important;\r\n}\r\n\r\n.disabled-page a {\r\n  color: var(--color-white);\r\n  cursor: text;\r\n}\r\n\r\n.pad-top-10 {\r\n  padding-top: 1em;\r\n}\r\n\r\n.pad-bot-4 {\r\n  padding-bottom: var(--pad-and-gap);\r\n}\r\n\r\n.switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 3em;\r\n  height: 1.5em;\r\n}\r\n\r\n.switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.slider {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #ccc;\r\n  -webkit-transition: .4s;\r\n  transition: .4s;\r\n}\r\n\r\n.slider:before {\r\n  position: absolute;\r\n  content: "";\r\n  height: 1em;\r\n  width: 1em;\r\n  left: 4px;\r\n  bottom: 4px;\r\n  background-color: var(--color-white);\r\n  -webkit-transition: .4s;\r\n  transition: .4s;\r\n}\r\n\r\ninput:checked+.slider {\r\n  background-color: var(--primary-color);\r\n}\r\n\r\ninput:focus+.slider {\r\n  box-shadow: 0 0 1px var(--primary-color);\r\n}\r\n\r\ninput:checked+.slider:before {\r\n  -webkit-transform: translateX(1.6em);\r\n  -ms-transform: translateX(1.6em);\r\n  transform: translateX(1.6em);\r\n}\r\n\r\n/* Rounded sliders */\r\n\r\n.slider.round {\r\n  border-radius: 2em;\r\n}\r\n\r\n.slider.round:before {\r\n  border-radius: 50%;\r\n}',""]);const l=u},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},190:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"47239fae129dc1b7cd80bc891a315f4c.jpg"},35:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"30d770f1d4392ab859c6a2be6f599bf5.png"},529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"ce337cd6093c1d37da370f0f404920db.png"},149:function(e,t,n){e.exports=function(){"use strict";!function(e){var t,n,r,i,o,a,s,u,c,l;function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e?String(e):e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&r&&s(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n=v(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=g(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(e,t){var n,r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<c.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var n;e&&(e=(n=e.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),t.append(decodeURIComponent(e),decodeURIComponent(n)))})),t}function E(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,(o="ArrayBuffer"in e)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=h(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e},l=[301,302,303,307,308],E.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=w,e.Response=E,e.fetch=function(e,t){return new Promise((function(n,i){var o=new w(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",e=new p,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":");(t=n.shift().trim())&&(n=n.join(":").trim(),e.append(t,n))})),e)};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new E(r,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:void 0);var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function t(e){var t={exports:{}};return e(t,t.exports),t.exports}function r(e){try{return!!e()}catch(e){return!0}}function i(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function o(e){return b.call(e).slice(8,-1)}function a(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function s(e){return _(a(e))}function u(e){return"object"==typeof e?null!==e:"function"==typeof e}function c(e,t){if(!u(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!u(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!u(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!u(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}function l(e,t){return E.call(e,t)}function h(e){return S?I.createElement(e):{}}function f(e){if(!u(e))throw TypeError(String(e)+" is not an object");return e}function d(e,t){try{x(p,e,t)}catch(n){p[e]=t}return t}var p=(xt=function(e){return e&&e.Math==Math&&e})("object"==typeof globalThis&&globalThis)||xt("object"==typeof window&&window)||xt("object"==typeof self&&self)||xt("object"==typeof e&&e)||function(){return this}()||Function("return this")(),v=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),g={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,y={f:m&&!g.call({1:2},1)?function(e){return!!(e=m(this,e))&&e.enumerable}:g},b={}.toString,w="".split,_=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?w.call(e,""):Object(e)}:Object,E={}.hasOwnProperty,I=p.document,S=u(I)&&u(I.createElement),T=!v&&!r((function(){return 7!=Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a})),k=Object.getOwnPropertyDescriptor,C={f:v?k:function(e,t){if(e=s(e),t=c(t,!0),T)try{return k(e,t)}catch(e){}if(l(e,t))return i(!y.f.call(e,t),e[t])}},N=Object.defineProperty,A={f:v?N:function(e,t,n){if(f(e),t=c(t,!0),f(n),T)try{return N(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},x=v?function(e,t,n){return A.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e},P=p[Ot="__core-js_shared__"]||d(Ot,{}),O=Function.toString;function R(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++H+G).toString(36)}"function"!=typeof P.inspectSource&&(P.inspectSource=function(e){return O.call(e)});var D,L,M,F,j,U,q,V,B=P.inspectSource,z="function"==typeof(rt=p.WeakMap)&&/native code/.test(B(rt)),K=!1,W=t((function(e){(e.exports=function(e,t){return P[e]||(P[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),H=0,G=Math.random(),Q=W("keys"),$=function(e){return Q[e]||(Q[e]=R(e))},Y={},X=p.WeakMap;function J(e){return"function"==typeof e?e:void 0}function Z(e,t){return arguments.length<2?J(he[e])||J(p[e]):he[e]&&he[e][t]||p[e]&&p[e][t]}function ee(e){return isNaN(e=+e)?0:(0<e?de:fe)(e)}function te(e){return 0<e?pe(ee(e),9007199254740991):0}function ne(e,t){var n,r=s(e),i=0,o=[];for(n in r)!l(Y,n)&&l(r,n)&&o.push(n);for(;t.length>i;)l(r,n=t[i++])&&(~me(o,n)||o.push(n));return o}function re(e,t){for(var n=Ee(t),r=A.f,i=C.f,o=0;o<n.length;o++){var a=n[o];l(e,a)||r(e,a,i(t,a))}}function ie(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat,u=a?p:s?p[o]||d(o,{}):(p[o]||{}).prototype;if(u)for(n in t){if(r=t[n],i=e.noTargetGet?(i=Ae(u,n))&&i.value:u[n],!Ne(a?n:o+(s?".":"#")+n,e.forced)&&void 0!==i){if(typeof r==typeof i)continue;re(r,i)}(e.sham||i&&i.sham)&&x(r,"sham",!0),le(u,n,r,e)}}function oe(e){return Object(a(e))}function ae(){}function se(e){return"<script>"+e+"</"+je+">"}q=z?(D=P.state||(P.state=new X),L=D.get,M=D.has,F=D.set,j=function(e,t){return t.facade=e,F.call(D,e,t),t},U=function(e){return L.call(D,e)||{}},function(e){return M.call(D,e)}):(V=$("state"),Y[V]=!0,j=function(e,t){return t.facade=e,x(e,V,t),t},U=function(e){return l(e,V)?e[V]:{}},function(e){return l(e,V)});var ue,ce={set:j,get:U,has:q,enforce:function(e){return q(e)?U(e):j(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=U(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},le=t((function(e){var t=ce.get,n=ce.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||l(i,"name")||x(i,"name",t),(o=n(i)).source||(o.source=r.join("string"==typeof t?t:""))),e!==p?(a?!u&&e[t]&&(s=!0):delete e[t],s?e[t]=i:x(e,t,i)):s?e[t]=i:d(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||B(this)}))})),he=p,fe=Math.ceil,de=Math.floor,pe=Math.min,ve=Math.max,ge=Math.min,me=((Ct=function(e){return function(t,n,r){var i,o=s(t),a=te(o.length),u=function(e,t){return(e=ee(e))<0?ve(e+t,0):ge(e,t)}(r,a);if(e&&n!=n){for(;u<a;)if((i=o[u++])!=i)return!0}else for(;u<a;u++)if((e||u in o)&&o[u]===n)return e||u||0;return!e&&-1}})(!0),Ct(!1)),ye=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],be=ye.concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(e){return ne(e,be)}},_e={f:Object.getOwnPropertySymbols},Ee=Z("Reflect","ownKeys")||function(e){var t=we.f(f(e)),n=_e.f;return n?t.concat(n(e)):t},Ie=/#|\.prototype\./,Se=(xt=function(e,t){return(e=Te[Se(e)])==Ce||e!=ke&&("function"==typeof t?r(t):!!t)}).normalize=function(e){return String(e).replace(Ie,".").toLowerCase()},Te=xt.data={},ke=xt.NATIVE="N",Ce=xt.POLYFILL="P",Ne=xt,Ae=C.f,xe=(e=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),$("IE_PROTO")),Pe=Object.prototype,Oe=e?Object.getPrototypeOf:function(e){return l(e=oe(e),xe)?e[xe]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Pe:null},Re=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,r){return f(n),function(e){if(!u(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),De=Object.keys||function(e){return ne(e,ye)},Le=v?Object.defineProperties:function(e,t){f(e);for(var n,r=De(t),i=r.length,o=0;o<i;)A.f(e,n=r[o++],t[n]);return e},Me=Z("document","documentElement"),Fe="prototype",je="script",Ue=$("IE_PROTO"),qe=function(){try{ue=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e;qe=ue?function(e){e.write(se("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ue):((e=h("iframe")).style.display="none",Me.appendChild(e),e.src=String("javascript:"),(e=e.contentWindow.document).open(),e.write(se("document.F=Object")),e.close(),e.F);for(var t=ye.length;t--;)delete qe[Fe][ye[t]];return qe()};function Ve(e){return l(Ge,e)||(He&&l(Qe,e)?Ge[e]=Qe[e]:Ge[e]=$e("Symbol."+e)),Ge[e]}function Be(e){return void 0!==e&&(Ye.Array===e||Je[Xe]===e)}function ze(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}function Ke(e,t,n){if(ze(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}Y[Ue]=!0;var We=Object.create||function(e,t){var n;return null!==e?(ae[Fe]=f(e),n=new ae,ae[Fe]=null,n[Ue]=e):n=qe(),void 0===t?n:Le(n,t)},He=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())})),Ge=(g=He&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,W("wks")),Qe=p.Symbol,$e=g?Qe:Qe&&Qe.withoutSetter||R,Ye={},Xe=Ve("iterator"),Je=Array.prototype;function Ze(e){if(null!=e)return e[st]||e["@@iterator"]||Ye[at(e)]}function et(e){var t=e.return;return void 0!==t&&f(t.call(e)).value}function tt(e,t){this.stopped=e,this.result=t}function nt(e,t,n){function r(e){return o&&et(o),new tt(!0,e)}function i(e){return d?(f(e),v?g(e[0],e[1],r):g(e[0],e[1])):v?g(e,r):g(e)}var o,a,s,u,c,l,h=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),g=Ke(t,h,1+d+v);if(p)o=e;else{if("function"!=typeof(p=Ze(e)))throw TypeError("Target is not iterable");if(Be(p)){for(a=0,s=te(e.length);a<s;a++)if((u=i(e[a]))&&u instanceof tt)return u;return new tt(!1)}o=p.call(e)}for(c=o.next;!(l=c.call(o)).done;){try{u=i(l.value)}catch(e){throw et(o),e}if("object"==typeof u&&u&&u instanceof tt)return u}return new tt(!1)}(Ot={})[Ve("toStringTag")]="z";var rt="[object z]"===String(Ot),it=Ve("toStringTag"),ot="Arguments"==o(function(){return arguments}()),at=rt?o:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),it))?e:ot?o(t):"Object"==(e=o(t))&&"function"==typeof t.callee?"Arguments":e},st=Ve("iterator"),ut=function(e,t){var n=this;return n instanceof ut?(Re&&(n=Re(new Error(void 0),Oe(n))),void 0!==t&&x(n,"message",String(t)),nt(e,(t=[]).push,{that:t}),x(n,"errors",t),n):new ut(e,t)};function ct(e,t,n){for(var r in t)le(e,r,t[r],n);return e}function lt(e,t,n){e&&!l(e=n?e:e.prototype,vt)&&pt(e,vt,{configurable:!0,value:t})}function ht(e){var t=Z(e);e=A.f,v&&t&&!t[gt]&&e(t,gt,{configurable:!0,get:function(){return this}})}function ft(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}ut.prototype=We(Error.prototype,{constructor:i(5,ut),message:i(5,""),name:i(5,"AggregateError")}),ie({global:!0},{AggregateError:ut}),z=rt?{}.toString:function(){return"[object "+at(this)+"]"},rt||le(Object.prototype,"toString",z,{unsafe:!0});var dt=p.Promise,pt=A.f,vt=Ve("toStringTag"),gt=Ve("species"),mt=Ve("iterator"),yt=!1;try{var bt=0,wt={next:function(){return{done:!!bt++}},return:function(){yt=!0}};wt[mt]=function(){return this},Array.from(wt,(function(){throw 2}))}catch(Ca){}function _t(e,t){if(!t&&!yt)return!1;var n=!1;try{var r={};r[mt]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}function Et(e,t){var n;return void 0===(e=f(e).constructor)||null==(n=f(e)[kt])?t:ze(n)}function It(e){var t;Lt.hasOwnProperty(e)&&(t=Lt[e],delete Lt[e],t())}function St(e){return function(){It(e)}}var Tt,kt=Ve("species"),Ct=(X=Z("navigator","userAgent")||"",/(iphone|ipod|ipad).*applewebkit/i.test(X)),Nt="process"==o(p.process),At=p.location,xt=p.setImmediate,Pt=(e=p.clearImmediate,p.process),Ot=p.MessageChannel,Rt=p.Dispatch,Dt=0,Lt={},Mt="onreadystatechange";rt=function(e){It(e.data)},z=function(e){p.postMessage(e+"",At.protocol+"//"+At.host)},xt&&e||(xt=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return Lt[++Dt]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Tt(Dt),Dt},e=function(e){delete Lt[e]},Nt?Tt=function(e){Pt.nextTick(St(e))}:Rt&&Rt.now?Tt=function(e){Rt.now(St(e))}:Ot&&!Ct?(Wt=(Ot=new Ot).port2,Ot.port1.onmessage=rt,Tt=Ke(Wt.postMessage,Wt,1)):p.addEventListener&&"function"==typeof postMessage&&!p.importScripts&&At&&"file:"!==At.protocol&&!r(z)?(Tt=z,p.addEventListener("message",rt,!1)):Tt=Mt in h("script")?function(e){Me.appendChild(h("script"))[Mt]=function(){Me.removeChild(this),It(e)}}:function(e){setTimeout(St(e),0)});var Ft,jt,Ut,qt,Vt,Bt,zt,Kt,Wt={set:xt,clear:e},Ht=(z=C.f,Wt.set),Gt=(rt=p.MutationObserver||p.WebKitMutationObserver,xt=p.document,p.process);function Qt(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=ze(t),this.reject=ze(n)}function $t(e,t){return f(e),u(t)&&t.constructor===e?t:((0,(e=Jt.f(e)).resolve)(t),e.promise)}function Yt(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}e=p.Promise,(z=(z=z(p,"queueMicrotask"))&&z.value)||(Ft=function(){var e,t;for(Nt&&(e=Gt.domain)&&e.exit();jt;){t=jt.fn,jt=jt.next;try{t()}catch(e){throw jt?qt():Ut=void 0,e}}Ut=void 0,e&&e.enter()},qt=!Ct&&!Nt&&rt&&xt?(Vt=!0,Bt=xt.createTextNode(""),new rt(Ft).observe(Bt,{characterData:!0}),function(){Bt.data=Vt=!Vt}):e&&e.resolve?(zt=e.resolve(void 0),Kt=zt.then,function(){Kt.call(zt,Ft)}):Nt?function(){Gt.nextTick(Ft)}:function(){Ht.call(p,Ft)});var Xt=z||function(e){e={fn:e,next:void 0},Ut&&(Ut.next=e),jt||(jt=e,qt()),Ut=e},Jt={f:function(e){return new Qt(e)}};function Zt(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t}function en(e,t){var n;e.notified||(e.notified=!0,n=e.reactions,Xt((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,h=c.resolve,f=c.reject,d=c.domain;try{l?(i||(2===e.rejection&&An(e),e.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),u=!0)),a===c.promise?f(mn("Promise-chain cycle")):(s=Zt(a))?s.call(a,h,f):h(a)):f(r)}catch(r){d&&!u&&d.exit(),f(r)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Cn(e)})))}function tn(e,t,n){var r,i;In?((r=yn.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),p.dispatchEvent(r)):r={promise:t,reason:n},!Sn&&(i=p["on"+e])?i(r):e===Tn&&function(e,t){var n=p.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)}function nn(e,t,n){return function(r){e(t,r,n)}}function rn(e,t,n){e.done||(e.done=!0,(e=n||e).value=t,e.state=2,en(e,!0))}(z=(z=(z=p.process)&&z.versions)&&z.v8)?Sr=(kn=z.split("."))[0]+kn[1]:X&&(!(kn=X.match(/Edge\/(\d+)/))||74<=kn[1])&&(kn=X.match(/Chrome\/(\d+)/))&&(Sr=kn[1]);var on,an,sn,un,cn=Sr&&+Sr,ln=Wt.set,hn=Ve("species"),fn="Promise",dn=ce.get,pn=ce.set,vn=ce.getterFor(fn),gn=dt,mn=p.TypeError,yn=p.document,bn=p.process,wn=Z("fetch"),_n=Jt.f,En=_n,In=!!(yn&&yn.createEvent&&p.dispatchEvent),Sn="function"==typeof PromiseRejectionEvent,Tn="unhandledrejection",kn=(X=Ne(fn,(function(){if(B(gn)===String(gn)){if(66===cn)return!0;if(!Nt&&!Sn)return!0}if(51<=cn&&/native code/.test(gn))return!1;function e(e){e((function(){}),(function(){}))}var t=gn.resolve(1);return(t.constructor={})[hn]=e,!(t.then((function(){}))instanceof e)})))||!_t((function(e){gn.all(e).catch((function(){}))})),Cn=function(e){ln.call(p,(function(){var t,n=e.facade,r=e.value;if(Nn(e)&&(t=Yt((function(){Nt?bn.emit("unhandledRejection",r,n):tn(Tn,n,r)})),e.rejection=Nt||Nn(e)?2:1,t.error))throw t.value}))},Nn=function(e){return 1!==e.rejection&&!e.parent},An=function(e){ln.call(p,(function(){var t=e.facade;Nt?bn.emit("rejectionHandled",t):tn("rejectionhandled",t,e.value)}))},xn=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw mn("Promise can't be resolved itself");var r=Zt(t);r?Xt((function(){var n={done:!1};try{r.call(t,nn(xn,n,e),nn(rn,n,e))}catch(t){rn(n,t,e)}})):(e.value=t,e.state=1,en(e,!1))}catch(t){rn({done:!1},t,e)}}};X&&(gn=function(e){ft(this,gn,fn),ze(e),on.call(this);var t=dn(this);try{e(nn(xn,t),nn(rn,t))}catch(e){rn(t,e)}},(on=function(e){pn(this,{type:fn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=ct(gn.prototype,{then:function(e,t){var n=vn(this),r=_n(Et(this,gn));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Nt?bn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&en(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),an=function(){var e=new on,t=dn(e);this.promise=e,this.resolve=nn(xn,t),this.reject=nn(rn,t)},Jt.f=_n=function(e){return e===gn||e===sn?new an:En(e)},"function"==typeof dt&&(un=dt.prototype.then,le(dt.prototype,"then",(function(e,t){var n=this;return new gn((function(e,t){un.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof wn&&ie({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return $t(gn,wn.apply(p,arguments))}}))),ie({global:!0,wrap:!0,forced:X},{Promise:gn}),lt(gn,fn,!1),ht(fn),sn=Z(fn),ie({target:fn,stat:!0,forced:X},{reject:function(e){var t=_n(this);return t.reject.call(void 0,e),t.promise}}),ie({target:fn,stat:!0,forced:X},{resolve:function(e){return $t(this,e)}}),ie({target:fn,stat:!0,forced:kn},{all:function(e){var t=this,n=_n(t),r=n.resolve,i=n.reject,o=Yt((function(){var n=ze(t.resolve),o=[],a=0,s=1;nt(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=_n(t),r=n.reject,i=Yt((function(){var i=ze(t.resolve);nt(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),ie({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=Jt.f(t),r=n.resolve,i=n.reject,o=Yt((function(){var n=ze(t.resolve),i=[],o=0,a=1;nt(e,(function(e){var s=o++,u=!1;i.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){u||(u=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var Pn="No one promise resolved";function On(){return this}function Rn(){return this}function Dn(e,t,n,r,o,a,s){function u(e){if(e===o&&v)return v;if(!Fn&&e in d)return d[e];switch(e){case"keys":case Un:case qn:return function(){return new n(this,e)}}return function(){return new n(this)}}!function(e,t,n){t+=" Iterator",e.prototype=We(Ln,{next:i(1,n)}),lt(e,t,!1),Ye[t]=On}(n,t,r);var c,l,h=t+" Iterator",f=!1,d=e.prototype,p=d[jn]||d["@@iterator"]||o&&d[o],v=!Fn&&p||u(o);if((r="Array"==t&&d.entries||p)&&(e=Oe(r.call(new e)),Mn!==Object.prototype&&e.next&&(Oe(e)!==Mn&&(Re?Re(e,Mn):"function"!=typeof e[jn]&&x(e,jn,Rn)),lt(e,h,!0))),o==Un&&p&&p.name!==Un&&(f=!0,v=function(){return p.call(this)}),d[jn]!==v&&x(d,jn,v),Ye[t]=v,o)if(c={values:u(Un),keys:a?v:u("keys"),entries:u(qn)},s)for(l in c)!Fn&&!f&&l in d||le(d,l,c[l]);else ie({target:t,proto:!0,forced:Fn||f},c);return c}ie({target:"Promise",stat:!0},{any:function(e){var t=this,n=Jt.f(t),r=n.resolve,i=n.reject,o=Yt((function(){var n=ze(t.resolve),o=[],a=0,s=1,u=!1;nt(e,(function(e){var c=a++,l=!1;o.push(void 0),s++,n.call(t,e).then((function(e){l||u||(u=!0,r(e))}),(function(e){l||u||(l=!0,o[c]=e,--s||i(new(Z("AggregateError"))(o,Pn)))}))})),--s||i(new(Z("AggregateError"))(o,Pn))}));return o.error&&i(o.value),n.promise}}),ie({target:"Promise",proto:!0,real:!0,forced:Sr=!!dt&&r((function(){dt.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=Et(this,Z("Promise")),n="function"==typeof e;return this.then(n?function(n){return $t(t,e()).then((function(){return n}))}:e,n?function(n){return $t(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof dt||dt.prototype.finally||le(dt.prototype,"finally",Z("Promise").prototype.finally),X={codeAt:(Wt=function(e){return function(t,n){var r,i=String(a(t)),o=ee(n);return t=i.length,o<0||t<=o?e?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===t||(r=i.charCodeAt(o+1))<56320||57343<r?e?i.charAt(o):n:e?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}})(!1),charAt:Wt(!0)},kn=Ve("iterator"),Sr=!1,[].keys&&("next"in(Qn=[].keys())?(Ir=Oe(Oe(Qn)))!==Object.prototype&&(dr=Ir):Sr=!0),l(dr=null==dr?{}:dr,kn)||x(dr,kn,(function(){return this}));var Ln=(Wt={IteratorPrototype:dr,BUGGY_SAFARI_ITERATORS:Sr}).IteratorPrototype,Mn=Wt.IteratorPrototype,Fn=Wt.BUGGY_SAFARI_ITERATORS,jn=Ve("iterator"),Un="values",qn="entries",Vn=X.charAt,Bn="String Iterator",zn=ce.set,Kn=ce.getterFor(Bn);Dn(String,"String",(function(e){zn(this,{type:Bn,string:String(e),index:0})}),(function(){var e=Kn(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=Vn(t,n),e.index+=n.length,{value:n,done:!1})}));var Wn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Hn=Ve("unscopables"),Gn=Array.prototype;null==Gn[Hn]&&A.f(Gn,Hn,{configurable:!0,value:We(null)});var Qn=function(e){Gn[Hn][e]=!0},$n="Array Iterator",Yn=ce.set,Xn=ce.getterFor($n),Jn=Dn(Array,"Array",(function(e,t){Yn(this,{type:$n,target:s(e),index:0,kind:t})}),(function(){var e=Xn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Ye.Arguments=Ye.Array,Qn("keys"),Qn("values"),Qn("entries");var Zn,er=Ve("iterator"),tr=Ve("toStringTag"),nr=Jn.values;for(Zn in Wn){var rr=p[Zn],ir=rr&&rr.prototype;if(ir){if(ir[er]!==nr)try{x(ir,er,nr)}catch(Ca){ir[er]=nr}if(ir[tr]||x(ir,tr,Zn),Wn[Zn])for(var or in Jn)if(ir[or]!==Jn[or])try{x(ir,or,Jn[or])}catch(Ca){ir[or]=Jn[or]}}}function ar(e,t){var n;return new(void 0===(n=ur(e)&&("function"==typeof(n=e.constructor)&&(n===Array||ur(n.prototype))||u(n)&&null===(n=n[cr]))?void 0:n)?Array:n)(0===t?0:t)}function sr(e){throw e}he.Promise,ie({target:"Promise",stat:!0},{try:function(e){var t=Jt.f(this);return((e=Yt(e)).error?t.reject:t.resolve)(e.value),t.promise}});var ur=Array.isArray||function(e){return"Array"==o(e)},cr=Ve("species"),lr=[].push,hr=(kn={forEach:(Ir=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,h){for(var f,d,p=oe(u),v=_(p),g=Ke(c,l,3),m=te(v.length),y=0,b=(h=h||ar,t?h(u,m):n||a?h(u,0):void 0);y<m;y++)if((s||y in v)&&(d=g(f=v[y],y,p),e))if(t)b[y]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:lr.call(b,f)}else switch(e){case 4:return!1;case 7:lr.call(b,f)}return o?-1:r||i?i:b}})(0),map:Ir(1),filter:Ir(2),some:Ir(3),every:Ir(4),find:Ir(5),findIndex:Ir(6),filterOut:Ir(7)},Object.defineProperty),fr={},dr=function(e,t){if(l(fr,e))return fr[e];var n=[][e],i=!!l(t=t||{},"ACCESSORS")&&t.ACCESSORS,o=l(t,0)?t[0]:sr,a=l(t,1)?t[1]:void 0;return fr[e]=!!n&&!r((function(){if(i&&!v)return 1;var e={length:-1};i?hr(e,1,{enumerable:!0,get:sr}):e[1]=1,n.call(e,o,a)}))},pr=kn.find,vr=!0;Wt=dr(Sr="find"),Sr in[]&&Array(1)[Sr]((function(){vr=!1})),ie({target:"Array",proto:!0,forced:vr||!Wt},{find:function(e){return pr(this,e,1<arguments.length?arguments[1]:void 0)}}),Qn(Sr);var gr=Function.call,mr=((X=function(e,t,n){return Ke(gr,p[e].prototype[t],n)})("Array","find"),kn.findIndex),yr=!0;function br(e,t,n){(t=c(t))in e?A.f(e,t,i(0,n)):e[t]=n}Wt=dr(Ir="findIndex"),Ir in[]&&Array(1)[Ir]((function(){yr=!1})),ie({target:"Array",proto:!0,forced:yr||!Wt},{findIndex:function(e){return mr(this,e,1<arguments.length?arguments[1]:void 0)}}),Qn(Ir),X("Array","findIndex"),ie({target:"Array",stat:!0,forced:Sr=!_t((function(e){Array.from(e)}))},{from:function(e){var t,n,r,i,o,a=oe(e),s="function"==typeof this?this:Array,u=arguments.length,c=1<u?arguments[1]:void 0,l=void 0!==c,h=(e=Ze(a),0);if(l&&(c=Ke(c,2<u?arguments[2]:void 0,2)),null==e||s==Array&&Be(e))for(n=new s(t=te(a.length));h<t;h++)br(n,h,l?c(a[h],h):a[h]);else for(o=(i=e.call(a)).next,n=new s;!(r=o.call(i)).done;h++)br(n,h,l?function(e,t,n,r){try{return t(f(n)[0],n[1])}catch(t){throw et(e),t}}(i,c,[r.value,h]):r.value);return n.length=h,n}}),he.Array.from;var wr,_r=kn.some;Wt=!!(wr=[].some)&&r((function(){wr.call(null,(function(){throw 1}),1)})),Qn=dr("some"),ie({target:"Array",proto:!0,forced:!Wt||!Qn},{some:function(e){return _r(this,e,1<arguments.length?arguments[1]:void 0)}}),X("Array","some");var Er,Ir="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Sr=A.f,Tr=p.Int8Array,kr=Tr&&Tr.prototype,Cr=(Wt=(dr=p.Uint8ClampedArray)&&dr.prototype,Tr&&Oe(Tr)),Nr=kr&&Oe(kr),Ar=((Qn=Object.prototype).isPrototypeOf,dr=Ve("toStringTag"),R("TYPED_ARRAY_TAG")),xr=Ir&&!!Re&&"Opera"!==at(p.opera),Pr=(Ir=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}),Or={BigInt64Array:8,BigUint64Array:8};for(Er in Pr)p[Er]||(xr=!1);if((!xr||"function"!=typeof Cr||Cr===Function.prototype)&&(Cr=function(){throw TypeError("Incorrect invocation")},xr))for(Er in Pr)p[Er]&&Re(p[Er],Cr);if((!xr||!Nr||Nr===Qn)&&(Nr=Cr.prototype,xr))for(Er in Pr)p[Er]&&Re(p[Er].prototype,Nr);if(xr&&Oe(Wt)!==Nr&&Re(Wt,Nr),v&&!l(Nr,dr))for(Er in Ir=!0,Sr(Nr,dr,{get:function(){return u(this)?this[Ar]:void 0}}),Pr)p[Er]&&x(p[Er],Ar,Er);Wt=function(e){if(function(e){return!!u(e)&&(e=at(e),l(Pr,e)||l(Or,e))}(e))return e;throw TypeError("Target is not a typed array")},Sr=function(e,t,n){if(v){if(n)for(var r in Pr)(r=p[r])&&l(r.prototype,e)&&delete r.prototype[e];Nr[e]&&!n||le(Nr,e,!n&&xr&&kr[e]||t)}},dr=Ve("iterator"),Ir=p.Uint8Array;var Rr=Jn.values,Dr=Jn.keys,Lr=Jn.entries,Mr=Wt;Wt=Sr,Ir=!!(Sr=Ir&&Ir.prototype[dr])&&("values"==Sr.name||null==Sr.name),Sr=function(){return Rr.call(Mr(this))},Wt("entries",(function(){return Lr.call(Mr(this))})),Wt("keys",(function(){return Dr.call(Mr(this))})),Wt("values",Sr,!Ir),Wt(dr,Sr,!Ir);var Fr=Object.assign,jr=Object.defineProperty;Sr=!Fr||r((function(){if(v&&1!==Fr({b:1},Fr(jr({},"a",{enumerable:!0,get:function(){jr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Fr({},e)[n]||De(Fr({},t)).join("")!=r}))?function(e,t){for(var n=oe(e),r=arguments.length,i=1,o=_e.f,a=y.f;i<r;)for(var s,u=_(arguments[i++]),c=o?De(u).concat(o(u)):De(u),l=c.length,h=0;h<l;)s=c[h++],v&&!a.call(u,s)||(n[s]=u[s]);return n}:Fr,ie({target:"Object",stat:!0,forced:Object.assign!==Sr},{assign:Sr}),he.Object.assign;var Ur=y.f,qr=(Sr={entries:(Ir=function(e){return function(t){for(var n,r=s(t),i=De(r),o=i.length,a=0,u=[];a<o;)n=i[a++],v&&!Ur.call(r,n)||u.push(e?[n,r[n]]:r[n]);return u}})(!0),values:Ir(!1)}).entries;ie({target:"Object",stat:!0},{entries:function(e){return qr(e)}}),he.Object.entries;var Vr=Sr.values;function Br(e){if(u(t=e)&&(void 0!==(n=t[zr])?n:"RegExp"==o(t)))throw TypeError("The method doesn't accept regular expressions");var t,n;return e}ie({target:"Object",stat:!0},{values:function(e){return Vr(e)}}),he.Object.values;var zr=Ve("match"),Kr=Ve("match");ie({target:"String",proto:!0,forced:!(Ir=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Kr]=!1,"/./"[e](t)}catch(e){}}return!1})("includes")},{includes:function(e){return!!~String(a(this)).indexOf(Br(e),1<arguments.length?arguments[1]:void 0)}}),X("String","includes"),Sr=C.f;var Wr,Hr="".startsWith,Gr=Math.min;ie({target:"String",proto:!0,forced:!(Wr=!((Ir=Ir("startsWith"))||!(Wr=Sr(String.prototype,"startsWith"))||Wr.writable))&&!Ir},{startsWith:function(e){var t=String(a(this));Br(e);var n=te(Gr(1<arguments.length?arguments[1]:void 0,t.length));return e=String(e),Hr?Hr.call(t,e,n):t.slice(n,n+e.length)===e}}),X("String","startsWith"),ie({target:"String",proto:!0},{repeat:"".repeat||function(e){var t=String(a(this)),n="",r=ee(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}}),X("String","repeat");var Qr=Ve("species"),$r=Ve("isConcatSpreadable"),Yr=9007199254740991,Xr="Maximum allowed index exceeded";function Jr(e){var t=he.Symbol||(he.Symbol={});l(t,e)||oi(t,e,{value:ii.f(e)})}function Zr(e,t){var n=bi[e]=We(di[ci]);return li(n,{type:ui,tag:e,description:t}),v||(n.description=t),n}function ei(e,t){f(e);var n=s(t);return t=De(n).concat(Ni(n)),ai(t,(function(t){v&&!Ci.call(n,t)||ki(e,t,n[t])})),e}Ir=51<=cn||!r((function(){var e=[];return e[$r]=!1,e.concat()[0]!==e})),X=51<=cn||!r((function(){var e=[];return(e.constructor={})[Qr]=function(){return{foo:1}},1!==e.concat(Boolean).foo})),ie({target:"Array",proto:!0,forced:!Ir||!X},{concat:function(e){for(var t,n,r,i=oe(this),o=ar(i,0),a=0,s=-1,c=arguments.length;s<c;s++)if(function(e){if(!u(e))return!1;var t=e[$r];return void 0!==t?!!t:ur(e)}(r=-1===s?i:arguments[s])){if(n=te(r.length),Yr<a+n)throw TypeError(Xr);for(t=0;t<n;t++,a++)t in r&&br(o,a,r[t])}else{if(Yr<=a)throw TypeError(Xr);br(o,a++,r)}return o.length=a,o}});var ti=we.f,ni={}.toString,ri="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ii=(X={f:function(e){return ri&&"[object Window]"==ni.call(e)?function(e){try{return ti(e)}catch(e){return ri.slice()}}(e):ti(s(e))}},{f:Ve}),oi=A.f,ai=kn.forEach,si=$("hidden"),ui="Symbol",ci="prototype",li=(kn=Ve("toPrimitive"),ce.set),hi=ce.getterFor(ui),fi=Object[ci],di=p.Symbol,pi=Z("JSON","stringify"),vi=C.f,gi=A.f,mi=X.f,yi=y.f,bi=W("symbols"),wi=W("op-symbols"),_i=W("string-to-symbol-registry"),Ei=W("symbol-to-string-registry"),Ii=($=W("wks"),!(W=p.QObject)||!W[ci]||!W[ci].findChild),Si=v&&r((function(){return 7!=We(gi({},"a",{get:function(){return gi(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=vi(fi,t);r&&delete fi[t],gi(e,t,n),r&&e!==fi&&gi(fi,t,r)}:gi,Ti=g?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof di},ki=function(e,t,n){return e===fi&&ki(wi,t,n),f(e),t=c(t,!0),f(n),l(bi,t)?(n.enumerable?(l(e,si)&&e[si][t]&&(e[si][t]=!1),n=We(n,{enumerable:i(0,!1)})):(l(e,si)||gi(e,si,i(1,{})),e[si][t]=!0),Si(e,t,n)):gi(e,t,n)},Ci=function(e){var t=c(e,!0);return e=yi.call(this,t),!(this===fi&&l(bi,t)&&!l(wi,t))&&(!(e||!l(this,t)||!l(bi,t)||l(this,si)&&this[si][t])||e)},Ni=(W=function(e,t){var n=s(e);if(e=c(t,!0),n!==fi||!l(bi,e)||l(wi,e))return!(t=vi(n,e))||!l(bi,e)||l(n,si)&&n[si][e]||(t.enumerable=!0),t},g=function(e){e=mi(s(e));var t=[];return ai(e,(function(e){l(bi,e)||l(Y,e)||t.push(e)})),t},function(e){var t=e===fi,n=(e=mi(t?wi:s(e)),[]);return ai(e,(function(e){!l(bi,e)||t&&!l(fi,e)||n.push(bi[e])})),n});He||(le((di=function(){if(this instanceof di)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===fi&&n.call(wi,e),l(this,si)&&l(this[si],t)&&(this[si][t]=!1),Si(this,t,i(1,e))};return v&&Ii&&Si(fi,t,{configurable:!0,set:n}),Zr(t,e)})[ci],"toString",(function(){return hi(this).tag})),le(di,"withoutSetter",(function(e){return Zr(R(e),e)})),y.f=Ci,A.f=ki,C.f=W,we.f=X.f=g,_e.f=Ni,ii.f=function(e){return Zr(Ve(e),e)},v&&(gi(di[ci],"description",{configurable:!0,get:function(){return hi(this).description}}),le(fi,"propertyIsEnumerable",Ci,{unsafe:!0}))),ie({global:!0,wrap:!0,forced:!He,sham:!He},{Symbol:di}),ai(De($),(function(e){Jr(e)})),ie({target:ui,stat:!0,forced:!He},{for:function(e){var t=String(e);return l(_i,t)?_i[t]:(e=di(t),_i[t]=e,Ei[e]=t,e)},keyFor:function(e){if(!Ti(e))throw TypeError(e+" is not a symbol");if(l(Ei,e))return Ei[e]},useSetter:function(){Ii=!0},useSimple:function(){Ii=!1}}),ie({target:"Object",stat:!0,forced:!He,sham:!v},{create:function(e,t){return void 0===t?We(e):ei(We(e),t)},defineProperty:ki,defineProperties:ei,getOwnPropertyDescriptor:W}),ie({target:"Object",stat:!0,forced:!He},{getOwnPropertyNames:g,getOwnPropertySymbols:Ni}),ie({target:"Object",stat:!0,forced:r((function(){_e.f(1)}))},{getOwnPropertySymbols:function(e){return _e.f(oe(e))}}),pi&&ie({target:"JSON",stat:!0,forced:Vi=!He||r((function(){var e=di();return"[null]"!=pi([e])||"{}"!=pi({a:e})||"{}"!=pi(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((u(r=t)||void 0!==e)&&!Ti(e))return ur(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Ti(t))return t}),i[1]=t,pi.apply(null,i)}}),di[ci][kn]||x(di[ci],kn,di[ci].valueOf),lt(di,ui),Y[si]=!0,Jr("asyncIterator"),W=A.f;var Ai,xi,Pi,Oi,Ri,Di=p.Symbol;!v||"function"!=typeof Di||"description"in Di.prototype&&void 0===Di().description||(Ai={},re(xi=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof xi?new Di(e):void 0===e?Di():Di(e);return""===e&&(Ai[t]=!0),t},Di),(Ki=xi.prototype=Di.prototype).constructor=xi,Pi=Ki.toString,Oi="Symbol(test)"==String(Di("test")),Ri=/^Symbol\((.*)\)[^)]+$/,W(Ki,"description",{configurable:!0,get:function(){var e=u(this)?this.valueOf():this,t=Pi.call(e);return l(Ai,e)?"":""===(t=Oi?t.slice(7,-1):t.replace(Ri,"$1"))?void 0:t}}),ie({global:!0,forced:!0},{Symbol:xi})),Jr("hasInstance"),Jr("isConcatSpreadable"),Jr("iterator"),Jr("match"),Jr("matchAll"),Jr("replace"),Jr("search"),Jr("species"),Jr("split"),Jr("toPrimitive"),Jr("toStringTag"),Jr("unscopables"),lt(p.JSON,"JSON",!0),lt(Math,"Math",!0),ie({global:!0},{Reflect:{}}),lt(p.Reflect,"Reflect",!0),he.Symbol,Jr("asyncDispose"),Jr("dispose"),Jr("observable"),Jr("patternMatch"),Jr("replaceAll"),ii.f("iterator");var Li=!r((function(){return Object.isExtensible(Object.preventExtensions({}))})),Mi=t((function(e){function t(e){n(e,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=A.f,r=R("meta"),i=0,o=Object.isExtensible||function(){return!0},a=e.exports={REQUIRED:!1,fastKey:function(e,n){if(!u(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,r)){if(!o(e))return"F";if(!n)return"E";t(e)}return e[r].objectID},getWeakData:function(e,n){if(!l(e,r)){if(!o(e))return!0;if(!n)return!1;t(e)}return e[r].weakData},onFreeze:function(e){return Li&&a.REQUIRED&&o(e)&&!l(e,r)&&t(e),e}};Y[r]=!0})),Fi=(g=function(e,t,n){function i(e){var t=g[e];le(g,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(f&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return f&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(f&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})}var o,a,s,c,l,h=-1!==e.indexOf("Map"),f=-1!==e.indexOf("Weak"),d=h?"set":"add",v=p[e],g=v&&v.prototype,m=v,y={};return Ne(e,"function"!=typeof v||!(f||g.forEach&&!r((function(){(new v).entries().next()}))))?(m=n.getConstructor(t,e,h,d),Mi.REQUIRED=!0):Ne(e,!0)&&(a=(o=new m)[d](f?{}:-0,1)!=o,s=r((function(){o.has(1)})),c=_t((function(e){new v(e)})),l=!f&&r((function(){for(var e=new v,t=5;t--;)e[d](t,t);return!e.has(-0)})),c||(((m=t((function(t,n){ft(t,m,e);var r,i,o,a=(a=new v,r=t,t=m,Re&&"function"==typeof(i=r.constructor)&&i!==t&&u(o=i.prototype)&&o!==t.prototype&&Re(a,o),a);return null!=n&&nt(n,a[d],{that:a,AS_ENTRIES:h}),a}))).prototype=g).constructor=m),(s||l)&&(i("delete"),i("has"),h&&i("get")),(l||a)&&i(d),f&&g.clear&&delete g.clear),y[e]=m,ie({global:!0,forced:m!=v},y),lt(m,e),f||n.setStrong(m,e,h),m},A.f),ji=Mi.fastKey,Ui=ce.set,qi=ce.getterFor,Vi={getConstructor:function(e,t,n,r){function i(e,t,n){var r,i=a(e),o=s(e,t);return o?o.value=n:(i.last=o={index:r=ji(t,!0),key:t,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),v?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}var o=e((function(e,i){ft(e,o,t),Ui(e,{type:t,index:We(null),first:void 0,last:void 0,size:0}),v||(e.size=0),null!=i&&nt(i,e[r],{that:e,AS_ENTRIES:n})})),a=qi(t),s=function(e,t){var n,r=a(e);if("F"!==(e=ji(t)))return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n};return ct(o.prototype,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,v?e.size=0:this.size=0},delete:function(e){var t,n=a(this),r=s(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),v?n.size--:this.size--),!!r},forEach:function(e){for(var t,n=a(this),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),ct(o.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),v&&Fi(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",i=qi(t),o=qi(r);Dn(e,t,(function(e,t){Ui(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),ht(t)}};function Bi(){for(var e,t=f(this),n=ze(t.delete),r=!0,i=0,o=arguments.length;i<o;i++)e=n.call(t,arguments[i]),r=r&&e;return!!r}function zi(e){return Map.prototype.entries.call(e)}ie({target:"Map",stat:!0},{from:(g("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Vi),he.Map,kn=function(e){var t,n,r,i,o=arguments.length,a=1<o?arguments[1]:void 0;return ze(this),(t=void 0!==a)&&ze(a),null==e?new this:(n=[],t?(r=0,i=Ke(a,2<o?arguments[2]:void 0,2),nt(e,(function(e){n.push(i(e,r++))}))):nt(e,n.push,{that:n}),new this(n))})}),ie({target:"Map",stat:!0},{of:W=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}}),ie({target:"Map",proto:!0,real:!0,forced:K},{deleteAll:function(){return Bi.apply(this,arguments)}}),ie({target:"Map",proto:!0,real:!0,forced:K},{emplace:function(e,t){var n=f(this);return t=n.has(e)&&"update"in t?t.update(n.get(e),e,n):t.insert(e,n),n.set(e,t),t}}),ie({target:"Map",proto:!0,real:!0,forced:K},{every:function(e){var t=f(this),n=zi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);return!nt(n,(function(e,n,i){if(!r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ie({target:"Map",proto:!0,real:!0,forced:K},{filter:function(e){var t=f(this),n=zi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3),i=new(Et(t,Z("Map"))),o=ze(i.set);return nt(n,(function(e,n){r(n,e,t)&&o.call(i,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ie({target:"Map",proto:!0,real:!0,forced:K},{find:function(e){var t=f(this),n=zi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);return nt(n,(function(e,n,i){if(r(n,e,t))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ie({target:"Map",proto:!0,real:!0,forced:K},{findKey:function(e){var t=f(this),n=zi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);return nt(n,(function(e,n,i){if(r(n,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ie({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;ze(t);var r=ze(n.has),i=ze(n.get),o=ze(n.set);return nt(e,(function(e){var a=t(e);r.call(n,a)?i.call(n,a).push(e):o.call(n,a,[e])})),n}}),ie({target:"Map",proto:!0,real:!0,forced:K},{includes:function(e){return nt(zi(f(this)),(function(t,n,r){if((i=n)===(n=e)||i!=i&&n!=n)return r();var i}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ie({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;ze(t);var r=ze(n.set);return nt(e,(function(e){r.call(n,t(e),e)})),n}}),ie({target:"Map",proto:!0,real:!0,forced:K},{keyOf:function(e){return nt(zi(f(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ie({target:"Map",proto:!0,real:!0,forced:K},{mapKeys:function(e){var t=f(this),n=zi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3),i=new(Et(t,Z("Map"))),o=ze(i.set);return nt(n,(function(e,n){o.call(i,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ie({target:"Map",proto:!0,real:!0,forced:K},{mapValues:function(e){var t=f(this),n=zi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3),i=new(Et(t,Z("Map"))),o=ze(i.set);return nt(n,(function(e,n){o.call(i,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ie({target:"Map",proto:!0,real:!0,forced:K},{merge:function(e){for(var t=f(this),n=ze(t.set),r=0;r<arguments.length;)nt(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}}),ie({target:"Map",proto:!0,real:!0,forced:K},{reduce:function(e){var t=f(this),n=zi(t),r=arguments.length<2,i=r?void 0:arguments[1];if(ze(e),nt(n,(function(n,o){i=r?(r=!1,o):e(i,o,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return i}}),ie({target:"Map",proto:!0,real:!0,forced:K},{some:function(e){var t=f(this),n=zi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);return nt(n,(function(e,n,i){if(r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ie({target:"Map",proto:!0,real:!0,forced:K},{update:function(e,t){var n=f(this),r=arguments.length;ze(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");return r=i?n.get(e):ze(2<r?arguments[2]:void 0)(e,n),n.set(e,t(r,e,n)),n}});var Ki=function(e,t){var n,r=f(this),i=2<arguments.length?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof i)throw TypeError("At least one callback required");return r.has(e)?(n=r.get(e),"function"==typeof t&&(n=t(n),r.set(e,n))):"function"==typeof i&&(n=i(),r.set(e,n)),n};function Wi(e){return Set.prototype.values.call(e)}ie({target:"Map",proto:!0,real:!0,forced:K},{upsert:Ki}),ie({target:"Map",proto:!0,real:!0,forced:K},{updateOrInsert:Ki}),g("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Vi),he.Set,ie({target:"Set",stat:!0},{from:kn}),ie({target:"Set",stat:!0},{of:W}),ie({target:"Set",proto:!0,real:!0,forced:K},{addAll:function(){return function(){for(var e=f(this),t=ze(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e}.apply(this,arguments)}}),ie({target:"Set",proto:!0,real:!0,forced:K},{deleteAll:function(){return Bi.apply(this,arguments)}}),ie({target:"Set",proto:!0,real:!0,forced:K},{every:function(e){var t=f(this),n=Wi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);return!nt(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ie({target:"Set",proto:!0,real:!0,forced:K},{difference:function(e){var t=f(this),n=new(Et(t,Z("Set")))(t),r=ze(n.delete);return nt(e,(function(e){r.call(n,e)})),n}}),ie({target:"Set",proto:!0,real:!0,forced:K},{filter:function(e){var t=f(this),n=Wi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3),i=new(Et(t,Z("Set"))),o=ze(i.add);return nt(n,(function(e){r(e,e,t)&&o.call(i,e)}),{IS_ITERATOR:!0}),i}}),ie({target:"Set",proto:!0,real:!0,forced:K},{find:function(e){var t=f(this),n=Wi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);return nt(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ie({target:"Set",proto:!0,real:!0,forced:K},{intersection:function(e){var t=f(this),n=new(Et(t,Z("Set"))),r=ze(t.has),i=ze(n.add);return nt(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}}),ie({target:"Set",proto:!0,real:!0,forced:K},{isDisjointFrom:function(e){var t=f(this),n=ze(t.has);return!nt(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),ie({target:"Set",proto:!0,real:!0,forced:K},{isSubsetOf:function(e){var t=function(e){var t=Ze(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return f(t.call(e))}(this),n=f(e),r=n.has;return"function"!=typeof r&&(n=new(Z("Set"))(e),r=ze(n.has)),!nt(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ie({target:"Set",proto:!0,real:!0,forced:K},{isSupersetOf:function(e){var t=f(this),n=ze(t.has);return!nt(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),ie({target:"Set",proto:!0,real:!0,forced:K},{join:function(e){var t=Wi(f(this)),n=void 0===e?",":String(e);return nt(t,(e=[]).push,{that:e,IS_ITERATOR:!0}),e.join(n)}}),ie({target:"Set",proto:!0,real:!0,forced:K},{map:function(e){var t=f(this),n=Wi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3),i=new(Et(t,Z("Set"))),o=ze(i.add);return nt(n,(function(e){o.call(i,r(e,e,t))}),{IS_ITERATOR:!0}),i}}),ie({target:"Set",proto:!0,real:!0,forced:K},{reduce:function(e){var t=f(this),n=Wi(t),r=arguments.length<2,i=r?void 0:arguments[1];if(ze(e),nt(n,(function(n){i=r?(r=!1,n):e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}}),ie({target:"Set",proto:!0,real:!0,forced:K},{some:function(e){var t=f(this),n=Wi(t),r=Ke(e,1<arguments.length?arguments[1]:void 0,3);return nt(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ie({target:"Set",proto:!0,real:!0,forced:K},{symmetricDifference:function(e){var t=f(this),n=new(Et(t,Z("Set")))(t),r=ze(n.delete),i=ze(n.add);return nt(e,(function(e){r.call(n,e)||i.call(n,e)})),n}}),ie({target:"Set",proto:!0,real:!0,forced:K},{union:function(e){var t;return nt(e,ze((t=new(Et(t=f(this),Z("Set")))(t)).add),{that:t}),t}});var Hi=Math.floor;ie({target:"Number",stat:!0},{isInteger:function(e){return!u(e)&&isFinite(e)&&Hi(e)===e}}),he.Number.isInteger,ie({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),he.Number.isNaN;var Gi=function(e,t){return(Gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Qi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Gi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $i=function(){return($i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Yi(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Xi(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Ji(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zi(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function eo(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function to(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function no(e){try{return so.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}var ro=!1,io="${JSCORE_VERSION}",oo=function(e,t){if(!e)throw ao(t)},ao=function(e){return new Error("Firebase Database ("+io+") INTERNAL ASSERT FAILED: "+e)},so={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=o>>2,l=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(l=u?e[i+2]:0)>>6,63&l);u||(l=64,a||(s=64)),r.push(n[c],n[o],n[s],n[l])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(to(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,o,a,s=e[n++];s<128?t[r++]=String.fromCharCode(s):191<s&&s<224?(o=e[n++],t[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))):(o=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4,r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u|=s<<6&192,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function uo(e){return co(void 0,e)}function co(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=co(e[n],t[n]));return e}var lo=(ho.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},ho);function ho(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}function fo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function po(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fo())}function vo(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function go(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mo(){return!0===ro}function yo(){return"indexedDB"in self&&null!=indexedDB}function bo(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function wo(){return!(!navigator||!navigator.cookieEnabled)}var _o,Eo=(Qi(Io,_o=Error),Io);function Io(e,t,n){return(t=_o.call(this,t)||this).code=e,t.customData=n,t.name="FirebaseError",Object.setPrototypeOf(t,Io.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,So.prototype.create),t}var So=(To.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e;return e=(e=this.errors[e])?(r=i,e.replace(ko,(function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}))):"Error",e=this.serviceName+": "+e+" ("+o+").",new Eo(o,e,i)},To);function To(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var ko=/\{\$([^}]+)}/g;function Co(e){return JSON.parse(e)}function No(e){return JSON.stringify(e)}function Ao(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Co(no(o[0])||""),n=Co(no(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}}function xo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Po(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Oo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ro(e,t,n){var r,i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}var Do=(Lo.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Lo.prototype.compress_=function(e,t){t=t||0;var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){var h=r<40?r<20?(o=c^s&(u^c),1518500249):(o=s^u^c,1859775393):r<60?(o=s&u|c&(s|u),2400959708):(o=s^u^c,3395469782);i=(a<<5|a>>>27)+o+l+h+n[r]&4294967295,l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},Lo.prototype.update=function(e,t){if(null!=e){for(var n=(t=void 0===t?e.length:t)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},Lo.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},Lo);function Lo(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}function Mo(e,t){return(t=new Fo(e,t)).subscribe.bind(t)}var Fo=(jo.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},jo.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},jo.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},jo.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=Uo),void 0===r.error&&(r.error=Uo),void 0===r.complete&&(r.complete=Uo),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),n},jo.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},jo.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},jo.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},jo.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},jo);function jo(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}function Uo(){}function qo(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function Vo(e,t){return e+" failed: "+t+" argument "}function Bo(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Vo(e,t)+"must be a valid function.")}function zo(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Vo(e,t)+"must be a valid context object.")}function Ko(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t}function Wo(e,t,n){return void 0===n&&(n=2),n=(t=void 0===t?1e3:t)*Math.pow(n,e),e=Math.round(.5*n*(Math.random()-.5)*2),Math.min(144e5,n+e)}function Ho(e){return e&&e._delegate?e._delegate:e}var Go=(Qo.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},Qo.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},Qo.prototype.setServiceProps=function(e){return this.serviceProps=e,this},Qo.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},Qo);function Qo(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var $o="[DEFAULT]",Yo=(Xo.prototype.get=function(e){void 0===e&&(e=$o);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new lo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},Xo.prototype.getImmediate=function(e){e=(t=$i({identifier:$o,optional:!1},e)).identifier;var t=t.optional,n=this.normalizeInstanceIdentifier(e);if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(t)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(t)return null;throw e}},Xo.prototype.getComponent=function(){return this.component},Xo.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:$o})}catch(e){}try{for(var r=Ji(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Zi(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},Xo.prototype.clearInstance=function(e){void 0===e&&(e=$o),this.instancesDeferred.delete(e),this.instances.delete(e)},Xo.prototype.delete=function(){return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(eo(eo([],Zi(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Zi(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},Xo.prototype.isComponentSet=function(){return null!=this.component},Xo.prototype.isInitialized=function(e){return void 0===e&&(e=$o),this.instances.has(e)},Xo.prototype.initialize=function(e){var t,n,r=void 0===(r=(e=void 0===e?{}:e).instanceIdentifier)?$o:r,i=(e=void 0===(e=e.options)?{}:e,this.normalizeInstanceIdentifier(r));if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:i,options:e});try{for(var a=Ji(this.instancesDeferred.entries()),s=a.next();!s.done;s=a.next()){var u=(c=Zi(s.value,2))[0],c=c[1];i===this.normalizeInstanceIdentifier(u)&&c.resolve(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},Xo.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=(e=void 0===n?{}:n,this.instances.get(t));if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===$o?void 0:n,options:e}),this.instances.set(t,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(e){}return r||null},Xo.prototype.normalizeInstanceIdentifier=function(e){return!this.component||this.component.multipleInstances?e:$o},Xo.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Xo);function Xo(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}var Jo=(Zo.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},Zo.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},Zo.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Yo(e,this);return this.providers.set(e,t),t},Zo.prototype.getProviders=function(){return Array.from(this.providers.values())},Zo);function Zo(e){this.name=e,this.providers=new Map}var ea,ta=[];function na(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=oa[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,eo(["["+i+"]  "+e.name+":"],n))}}(kn=ea=ea||{})[kn.DEBUG=0]="DEBUG",kn[kn.VERBOSE=1]="VERBOSE",kn[kn.INFO=2]="INFO",kn[kn.WARN=3]="WARN",kn[kn.ERROR=4]="ERROR",kn[kn.SILENT=5]="SILENT";var ra={debug:ea.DEBUG,verbose:ea.VERBOSE,info:ea.INFO,warn:ea.WARN,error:ea.ERROR,silent:ea.SILENT},ia=ea.INFO,oa=((W={})[ea.DEBUG]="log",W[ea.VERBOSE]="log",W[ea.INFO]="info",W[ea.WARN]="warn",W[ea.ERROR]="error",W),aa=(Object.defineProperty(sa.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ea))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),sa.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?ra[e]:e},Object.defineProperty(sa.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(sa.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),sa.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,ea.DEBUG],e)),this._logHandler.apply(this,eo([this,ea.DEBUG],e))},sa.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,ea.VERBOSE],e)),this._logHandler.apply(this,eo([this,ea.VERBOSE],e))},sa.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,ea.INFO],e)),this._logHandler.apply(this,eo([this,ea.INFO],e))},sa.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,ea.WARN],e)),this._logHandler.apply(this,eo([this,ea.WARN],e))},sa.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,eo([this,ea.ERROR],e)),this._logHandler.apply(this,eo([this,ea.ERROR],e))},sa);function sa(e){this.name=e,this._logLevel=ia,this._logHandler=na,this._userLogHandler=null,ta.push(this)}function ua(e){ta.forEach((function(t){t.setLogLevel(e)}))}(K={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",K["bad-app-name"]="Illegal App name: '{$appName}",K["duplicate-app"]="Firebase App named '{$appName}' already exists",K["app-deleted"]="Firebase App named '{$appName}' already deleted",K["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",K["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var ca=new So("app","Firebase",kn=K),la="@firebase/app",ha="[DEFAULT]",fa=((W={})[la]="fire-core",W["@firebase/analytics"]="fire-analytics",W["@firebase/auth"]="fire-auth",W["@firebase/database"]="fire-rtdb",W["@firebase/functions"]="fire-fn",W["@firebase/installations"]="fire-iid",W["@firebase/messaging"]="fire-fcm",W["@firebase/performance"]="fire-perf",W["@firebase/remote-config"]="fire-rc",W["@firebase/storage"]="fire-gcs",W["@firebase/firestore"]="fire-fst",W["fire-js"]="fire-js",W["firebase-wrapper"]="fire-js-all",W),da=new aa("@firebase/app"),pa=(Object.defineProperty(va.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(va.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(va.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),va.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},va.prototype._getService=function(e,t){return void 0===t&&(t=ha),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},va.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=ha),this.container.getProvider(e).clearInstance(t)},va.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){da.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},va.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},va.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},va.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ca.create("app-deleted",{appName:this.name_})},va);function va(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=uo(e),this.container=new Jo(t.name),this._addComponent(new Go("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}pa.prototype.name&&pa.prototype.options||pa.prototype.delete||console.log("dc");function ga(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=ha),"string"!=typeof(i=o.name)||!i)throw ca.create("bad-app-name",{appName:String(i)});if(xo(t,i))throw ca.create("duplicate-app",{appName:i});return o=new e(n,o,r),t[i]=o},app:i,registerVersion:function(e,t,n){var r=null!==(i=fa[e])&&void 0!==i?i:e;n&&(r+="-"+n);var i=r.match(/\s|\//);if(e=t.match(/\s|\//),i||e)return n=['Unable to register library "'+r+'" with version "'+t+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&e&&n.push("and"),e&&n.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void da.warn(n.join(" "));o(new Go(r+"-version",(function(){return{library:r,version:t}}),"VERSION"))},setLogLevel:ua,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw ca.create("invalid-log-argument");!function(e,t){for(var n=0,r=ta;n<r.length;n++)!function(n){var r=null;t&&t.level&&(r=ra[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:ea[n].toLowerCase(),message:a,args:i,type:t.name})}}(r[n])}(e,t)},apps:null,SDK_VERSION:"8.4.2",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!xo(t,e=e||ha))throw ca.create("no-app",{appName:e});return t[e]}function o(o){var a,s=o.name;if(n.has(s))return da.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;n.set(s,o),"PUBLIC"===o.type&&(a=function(e){if("function"!=typeof(e=void 0===e?i():e)[s])throw ca.create("invalid-app-argument",{appName:s});return e[s]()},void 0!==o.serviceProps&&co(a,o.serviceProps),r[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])});for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}K=function e(){var t=ga(pa);return t.INTERNAL=$i($i({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){co(t,e)},createSubscribe:Mo,ErrorFactory:So,deepExtend:co}),t}();var ma=(ya.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){return function(e){return"VERSION"===(null==(e=e.getComponent())?void 0:e.type)}(e)?(e=e.getImmediate()).library+"/"+e.version:null})).filter((function(e){return e})).join(" ")},ya);function ya(e){this.container=e}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(da.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(Ds=self.firebase.SDK_VERSION)&&0<=Ds.indexOf("LITE")&&da.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var ba=K.initializeApp;K.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return}}()&&da.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ba.apply(void 0,e)};var wa,_a=K;(wa=_a).INTERNAL.registerComponent(new Go("platform-logger",(function(e){return new ma(e)}),"PRIVATE")),wa.registerVersion(la,"0.6.20",undefined),wa.registerVersion("fire-js",""),_a.registerVersion("firebase","8.4.2","app"),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(t=e,n=0,function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}})}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){var t;null==this.a&&(this.a=[],(t=this).c((function(){t.g()}))),this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){o(t)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Qa(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Qa(function(t){return function(n){i[t]=n,0==--a&&e(i)}}(i.length-1),t),!(r=n.next()).done;);}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return"function"==h(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function w(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function _(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function I(e,t,n){this.code=k+e,this.message=t||C[e]||"",this.a=n||null}function S(e){var t=e&&e.code;return t?new I(t.substring(k.length),e.message,e.serverResponse):null}_(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var T,k="auth/",C={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(e){for(var t in N)if(N[t].id===e)return{firebaseEndpoint:(e=N[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function x(e){if(e)try{return e.$goog_Thenable}catch(e){return}}function P(e){var t;Error.captureStackTrace?Error.captureStackTrace(this,P):(t=Error().stack)&&(this.stack=t),e&&(this.message=String(e))}function O(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function R(e){throw new O("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function D(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function L(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function M(){this.b=this.a=null}T=A("__EID__")?"__EID__":void 0,_(P,Error),P.prototype.name="CustomError",_(O,P),O.prototype.name="AssertionError",D.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e};var F=new D((function(){return new j}),(function(e){e.reset()}));function j(){this.next=this.b=this.a=null}M.prototype.add=function(e,t){var n=F.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},V=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n,r=e.length,i=[],o=0,a="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in a&&(n=a[s],t.call(void 0,n,s,e)&&(i[o++]=n));return i},B=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},z=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function K(e,t){return 0<=U(e,t)}function W(e,t){var n;return(n=0<=(t=U(e,t)))&&Array.prototype.splice.call(e,t,1),n}function H(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function G(){return Array.prototype.concat.apply([],arguments)}function Q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,Y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},X=/&/g,J=/</g,Z=/>/g,ee=/"/g,te=/'/g,ne=/\x00/g,re=/[\x00&<>"']/;function ie(e,t){return-1!=e.indexOf(t)}function oe(e,t){return e<t?-1:t<e?1:0}var ae=a.navigator;function se(e){return ie($,e)}function ue(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ce(e){for(var t in e)return;return 1}function le(e){var t,n={};for(t in e)n[t]=e[t];return n}$=ae&&(ae=ae.userAgent)?ae:"";var he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<he.length;i++)t=he[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function de(e,t){e:{try{var n;if((n=(n=(n=e&&e.ownerDocument)&&(n.defaultView||n.parentWindow))||a).Element&&n.Location){var r=n;break e}}catch(e){}r=null}if(r&&void 0!==r[t]&&(!e||!(e instanceof r[t])&&(e instanceof r.Location||e instanceof r.Element))){if(p(e))try{var i=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){i="<object could not be stringified>"}else i=void 0===e?"undefined":null===e?"null":typeof e;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,i)}}function pe(e,t){this.a=e===ye&&t||"",this.b=me}function ve(e){return e instanceof pe&&e.constructor===pe&&e.b===me?e.a:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")}pe.prototype.sa=!0,pe.prototype.ra=function(){return this.a},pe.prototype.toString=function(){return"Const{"+this.a+"}"};var ge,me={},ye={};function be(){if(void 0===ge){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(e){a.console&&a.console.error(e.message)}ge=e}else ge=e}return ge}function we(e,t){this.a=t===Te?e:""}function _e(e){return e instanceof we&&e.constructor===we?e.a:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ee(e,t){var n,r=ve(e);if(!Se.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return n=e=r.replace(Ie,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof pe?ve(e):encodeURIComponent(String(e))})),new we(n=(e=be())?e.createScriptURL(n):n,Te)}we.prototype.sa=!0,we.prototype.ra=function(){return this.a.toString()},we.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ie=/%{(\w+)}/g,Se=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Te={};function ke(e,t){this.a=t===Re?e:""}function Ce(e){return e instanceof ke&&e.constructor===ke?e.a:(R("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}ke.prototype.sa=!0,ke.prototype.ra=function(){return this.a.toString()},ke.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ae=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pe(e){return e instanceof ke?e:(e="object"==typeof e&&e.sa?e.ra():String(e),e=xe.test(e)||(t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Ae))&&Ne.test(t[1])?new ke(e,Re):null);var t}function Oe(e){return e instanceof ke?e:(e="object"==typeof e&&e.sa?e.ra():String(e),new ke(e=xe.test(e)?e:"about:invalid#zClosurez",Re))}var Re={},De=new ke("about:invalid#zClosurez",Re);function Le(e,t,n){this.a=n===Me?e:""}Le.prototype.sa=!0,Le.prototype.ra=function(){return this.a.toString()},Le.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Me={};function Fe(e,t,n,r){return e=e instanceof ke?e:Oe(e),t=t||a,n=n instanceof pe?ve(n):n||"",t.open(Ce(e),n,r,void 0)}function je(e){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)n+=t.shift()+r.shift();return n+t.join("%s")}function Ue(e){return re.test(e)&&-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=e.indexOf("&")?e.replace(X,"&amp;"):e).indexOf("<")?e.replace(J,"&lt;"):e).indexOf(">")?e.replace(Z,"&gt;"):e).indexOf('"')?e.replace(ee,"&quot;"):e).indexOf("'")?e.replace(te,"&#39;"):e).indexOf("\0")&&(e=e.replace(ne,"&#0;")),e}function qe(e){return qe[" "](e),e}qe[" "]=l;var Ve,Be=se("Opera"),ze=se("Trident")||se("MSIE"),Ke=se("Edge"),We=Ke||ze,He=se("Gecko")&&!(ie($.toLowerCase(),"webkit")&&!se("Edge"))&&!(se("Trident")||se("MSIE"))&&!se("Edge"),Ge=ie($.toLowerCase(),"webkit")&&!se("Edge");function Qe(){var e=a.document;return e?e.documentMode:void 0}var $e="",Ye=(Ye=$,He?/rv:([^\);]+)(\)|;)/.exec(Ye):Ke?/Edge\/([\d\.]+)/.exec(Ye):ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ye):Ge?/WebKit\/(\S+)/.exec(Ye):Be?/(?:Version)[ \/]?(\S+)/.exec(Ye):void 0);Ye&&($e=Ye?Ye[1]:""),Ve=ze&&null!=(Ye=Qe())&&Ye>parseFloat($e)?String(Ye):$e;var Xe={};function Je(e){return t=e,n=function(){for(var t=0,n=Y(String(Ve)).split("."),r=Y(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=oe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||oe(0==a[2].length,0==s[2].length)||oe(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=Xe,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var Ze=a.document&&ze&&(Qe()||parseInt(Ve,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var et=!ze||9<=Number(Ze);function tt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function nt(e,t){ue(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ot.hasOwnProperty(n)?e.setAttribute(ot[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var rt,it,ot={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function at(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function st(e){a.setTimeout((function(){throw e}),0)}function ut(e,t){it||function(){var e;it=a.Promise&&a.Promise.resolve?(e=a.Promise.resolve(void 0),function(){e.then(ht)}):function(){var e=ht;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!se("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(rt=rt||function(){var e=a.MessageChannel;if(void 0===(e=void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!se("Presto")?function(){var e=at(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}:e)||se("Trident")||se("MSIE"))return function(e){a.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){var e;void 0!==n.next&&(e=(n=n.next).Gb,n.Gb=null,e())},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}())(e):a.setImmediate(e)}}(),ct||(it(),ct=!0),lt.add(e,t)}var ct=!1,lt=new M;function ht(){for(var e,t,n;n=t=void 0,n=null,(t=lt).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){st(e)}L(F,e)}ct=!1}function ft(e,t){if(this.a=dt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Tt(n,pt,e)}),(function(e){if(!(e instanceof Ot))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Tt(n,vt,e)}))}catch(e){Tt(this,vt,e)}}var dt=0,pt=2,vt=3;function gt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}gt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var mt=new D((function(){return new gt}),(function(e){e.reset()}));function yt(e,t,n){var r=mt.get();return r.g=e,r.b=t,r.f=n,r}function bt(e){if(e instanceof ft)return e;var t=new ft(l);return Tt(t,pt,e),t}function wt(e){return new ft((function(t,n){n(e)}))}function _t(e,t,n){kt(e,t,n,null)||ut(w(t,e))}function Et(e){return new ft((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)_t(e[o],w(i,o,!0),w(i,o,!1));else t(r)}))}function It(e,t){e.b||e.a!=pt&&e.a!=vt||Ct(e),e.f?e.f.next=t:e.b=t,e.f=t}function St(e,t,n,r){var i=yt(null,null,null);return i.a=new ft((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){o(n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Ot?o(t):e(i)}catch(t){o(t)}}:o})),It(i.a.c=e,i),i.a}function Tt(e,t,n){var r,i;e.a==dt&&(e===n&&(t=vt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,kt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ct(e),t!=vt||n instanceof Ot||(i=n,(r=e).g=!0,ut((function(){r.g&&Pt.call(null,i)})))))}function kt(e,t,n,r){if(e instanceof ft)return It(e,yt(t||l,n||null,r)),1;if(x(e))return e.then(t,n,r),1;if(p(e))try{var i=e.then;if(d(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),1}catch(e){return n.call(r,e),1}}function Ct(e){e.h||(e.h=!0,ut(e.gc,e))}function Nt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function At(e,t,n,r){if(n==vt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,xt(t,n,r);else try{t.c?t.g.call(t.f):xt(t,n,r)}catch(e){Pt.call(null,e)}L(mt,t)}function xt(e,t,n){t==pt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}ft.prototype.then=function(e,t,n){return St(this,d(e)?e:null,d(t)?t:null,n)},ft.prototype.$goog_Thenable=!0,(e=ft.prototype).oa=function(e,t){return(e=yt(e,e,t)).c=!0,It(this,e),this},e.o=function(e,t){return St(this,null,e,t)},e.cancel=function(e){var t;this.a==dt&&(t=new Ot(e),ut((function(){!function e(t,n){if(t.a==dt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,!((o=s.a==t?s:o)&&1<i)));s=s.next)o||(a=s);o&&(r.a==dt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Nt(r),At(r,o,vt,n)))}t.c=null}else Tt(t,vt,n)}(this,t)}),this))},e.$c=function(e){this.a=dt,Tt(this,pt,e)},e.ad=function(e){this.a=dt,Tt(this,vt,e)},e.gc=function(){for(var e;e=Nt(this);)At(this,e,this.a,this.i);this.h=!1};var Pt=st;function Ot(e){P.call(this,e)}function Rt(){this.xa=this.xa,this.pa=this.pa}_(Ot,P);function Dt(e){e.xa||(e.xa=!0,e.Da(),1)||(e=e,Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++g))}Rt.prototype.xa=!(Ot.prototype.name="cancel"),Rt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Lt=Object.freeze||function(e){return e},Mt=!ze||9<=Number(Ze),Ft=ze&&!Je("9"),jt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(e){}return e}();function Ut(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function qt(e,t){if(Ut.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(He){e:{try{qe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Vt[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}Ut.prototype.preventDefault=function(){this.defaultPrevented=!0},_(qt,Ut);var Vt=Lt({2:"touch",3:"pen",4:"mouse"});qt.prototype.preventDefault=function(){qt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Ft)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},qt.prototype.g=function(){return this.a};var Bt="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Kt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++zt,this.va=this.Pa=!1}function Wt(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function Ht(e){this.src=e,this.a={},this.b=0}function Gt(e,t){var n=t.type;n in e.a&&W(e.a[n],t)&&(Wt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Qt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}Ht.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Qt(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new Kt(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var $t="closure_lm_"+(1e6*Math.random()|0),Yt={};function Xt(e,t,n,r,i){if(r&&r.once)Zt(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)Xt(e,t[o],n,r,i);else n=cn(n),e&&e[Bt]?hn(e,t,n,p(r)?!!r.capture:!!r,i):Jt(e,t,n,!1,r,i)}function Jt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=sn(e);if(c||(e[$t]=c=new Ht(e)),!(n=c.add(t,n,r,u,o)).proxy)if(a=an,r=s=Mt?function(e){return a.call(s.src,s.listener,e)}:function(e){if(!(e=a.call(s.src,s.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=jt?i:u)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(nn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function Zt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Zt(e,t[o],n,r,i);else n=cn(n),e&&e[Bt]?fn(e,t,n,p(r)?!!r.capture:!!r,i):Jt(e,t,n,!0,r,i)}function en(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)en(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=cn(n),e&&e[Bt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=Qt(o=e.a[t],n,r,i))&&(Wt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):(e=e&&sn(e))&&(t=e.a[t.toString()],(n=(e=-1)<(e=t?Qt(t,n,r,i):e)?t[e]:null)&&tn(n))}function tn(e){var t,n,r;"number"!=typeof e&&e&&!e.va&&((t=e.src)&&t[Bt]?Gt(t.v,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(nn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=sn(t))?(Gt(n,e),0==n.b&&(n.src=null,t[$t]=null)):Wt(e)))}function nn(e){return e in Yt?Yt[e]:Yt[e]="on"+e}function rn(e,t,n,r){var i=!0;if((e=sn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=on(o,r),i=i&&!1!==o)}return i}function on(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&tn(e),n.call(r,t)}function an(e,t){if(e.va)return!0;if(Mt)return on(e,new qt(t,this));if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new qt(r=t,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=rn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=rn(r[i],e,!1,t),n=n&&o}return n}function sn(e){return(e=e[$t])instanceof Ht?e:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(e){return d(e)?e:(e[un]||(e[un]=function(t){return e.handleEvent(t)}),e[un])}function ln(){Rt.call(this),this.v=new Ht(this),(this.ac=this).gb=null}function hn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function fn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function dn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.va&&u.capture==n&&(a=u.listener,s=u.Va||u.src,u.Pa&&Gt(e.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function pn(e,t,n){if(d(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function vn(e){var t=null;return new ft((function(n,r){-1==(t=pn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function gn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function mn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function yn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof yn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function bn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];wn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)wn(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function wn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}_(ln,Rt),ln.prototype[Bt]=!0,ln.prototype.addEventListener=function(e,t,n,r){Xt(this,e,t,n,r)},ln.prototype.removeEventListener=function(e,t,n,r){en(this,e,t,n,r)},ln.prototype.dispatchEvent=function(e){var t;if(n=this.gb)for(t=[];n;n=n.gb)t.push(n);var n=this.ac,r=e.type||e;if("string"==typeof e?e=new Ut(e,n):e instanceof Ut?e.target=e.target||n:(a=e,fe(e=new Ut(r,n),a)),a=!0,t)for(var i=t.length-1;0<=i;i--)var o=e.b=t[i],a=dn(o,r,!0,e)&&a;if(a=dn(o=e.b=n,r,!0,e)&&a,a=dn(o,r,!1,e)&&a,t)for(i=0;i<t.length;i++)a=dn(o=e.b=t[i],r,!1,e)&&a;return a},ln.prototype.Da=function(){if(ln.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Wt(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=yn.prototype).W=function(){bn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return bn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return wn(this.b,e)?this.b[e]:t},e.set=function(e,t){wn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var _n=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function En(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof En?(this.i=void 0!==t?t:e.i,In(this,e.c),this.l=e.l,this.a=e.a,Sn(this,e.g),this.f=e.f,Tn(this,Kn(e.b)),this.h=e.h):e&&(n=String(e).match(_n))?(this.i=!!t,In(this,n[1]||"",!0),this.l=xn(n[2]||""),this.a=xn(n[3]||"",!0),Sn(this,n[4]),this.f=xn(n[5]||"",!0),Tn(this,n[6]||"",!0),this.h=xn(n[7]||"")):(this.i=!!t,this.b=new jn(null,this.i))}function In(e,t,n){e.c=n?xn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Sn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Tn(e,t,n){var r,i;t instanceof jn?(e.b=t,r=e.b,(i=e.i)&&!r.f&&(Un(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Vn(this,t),zn(this,n,e))}),r)),r.f=i):(n||(t=Pn(t,Mn)),e.b=new jn(t,e.i))}function kn(e,t,n){e.b.set(t,n)}function Cn(e,t){return e.b.get(t)}function Nn(e){return e instanceof En?new En(e):new En(e,void 0)}function An(e,t,n,r){var i=new En(null,void 0);return e&&In(i,e),t&&(i.a=t),n&&Sn(i,n),r&&(i.f=r),i}function xn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,On),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function On(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}En.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Pn(t,Rn,!0),":");var n=this.a;return!n&&"file"!=t||(e.push("//"),(t=this.l)&&e.push(Pn(t,Rn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pn(n,"/"==n.charAt(0)?Ln:Dn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Pn(n,Fn)),e.join("")},En.prototype.resolve=function(e){var t=new En(this),n=!!e.c;n?In(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Sn(t,e.g);else if(n=!!e.f)if("/"!=r.charAt(0)&&(this.a&&!this.f?r="/"+r:-1!=(i=t.f.lastIndexOf("/"))&&(r=t.f.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(ie(i,"./")||ie(i,"/.")){r=0==i.lastIndexOf("/",0);for(var i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i;return n?t.f=r:n=""!==e.b.toString(),n?Tn(t,Kn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Rn=/[#\/\?@]/g,Dn=/[#\?:]/g,Ln=/[#\?]/g,Mn=/[#\?@]/g,Fn=/#/g;function jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Un(e){e.a||(e.a=new yn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qn(e){var t=mn(e);if(void 0===t)throw Error("Keys are undefined");var n=new jn(null,void 0);e=gn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?zn(n,i,o):n.add(i,o)}return n}function Vn(e,t){Un(e),t=Wn(e,t),wn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,wn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&bn(e)))}function Bn(e,t){return Un(e),t=Wn(e,t),wn(e.a.b,t)}function zn(e,t,n){Vn(e,t),0<n.length&&(e.c=null,e.a.set(Wn(e,t),Q(n)),e.b+=n.length)}function Kn(e){var t=new jn;return t.c=e.c,e.a&&(t.a=new yn(e.a),t.b=e.b),t}function Wn(e,t){return t=String(t),e.f?t.toLowerCase():t}function Hn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Yn(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Gn,e,t),t.join("")}function Gn(){}(e=jn.prototype).add=function(e,t){Un(this),this.c=null,e=Wn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Un(this),this.a.forEach((function(n,r){q(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Un(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){Un(this);var t=[];if("string"==typeof e)Bn(this,e)&&(t=G(t,this.a.get(Wn(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},e.set=function(e,t){return Un(this),this.c=null,Bn(this,e=Wn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.W(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var Qn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$n=/\uffff/.test("ï¿¿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(e,t){t.push('"',e.replace($n,(function(e){var t=Qn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Qn[e]=t),t})),'"')}function Xn(){var e=gr();return ze&&Ze&&11==Ze||/Edge\/\d+/.test(e)}function Jn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function Zn(e,t){t=t||a.window;var n="about:blank";e&&(n=Ce(Pe(e)||De)),t.location.href=n}function er(e){return!!((e=(e||gr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function tr(e){e=e||a.window;try{e.close()}catch(e){}}function nr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gr().toLowerCase(),r&&(t.target=r,ie(n,"crios/")&&(t.target="_blank")),dr(gr())==hr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof ke?n:Pe(void 0!==n.href?n.href:String(n))||De,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((se("iPhone")&&!se("iPod")&&!se("iPad")||se("iPad")||se("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(de(a=at(document,"A"),"HTMLAnchorElement"),t=t instanceof ke?t:Oe(t),a.href=Ce(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Fe("",r,n,a),e=Ce(t),a&&(We&&ie(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ue(e)+'">',e=new Le(e=(r=be())?r.createHTML(e):e,0,Me),r=a.document)&&(r.write((o=e)instanceof Le&&o.constructor===Le?o.a:(R("expected object of type SafeHtml, got '"+o+"' of type "+h(o)),"type_error:SafeHtml")),r.close())):(a=Fe(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function or(){var e=null;return new ft((function(t){"complete"==a.document.readyState?t():(e=function(){t()},Zt(window,"load",e))})).o((function(t){throw en(window,"load",e),t}))}function ar(e){return e=e||gr(),!("file:"!==_r()&&"ionic:"!==_r()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function sr(){var e=a.window;try{return e&&e!=e.top}catch(e){return}}function ur(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function cr(){return _a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":_a.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function lr(){var e=cr();return"ReactNative"===e||"Node"===e}var hr="Firefox",fr="Chrome";function dr(e){var t=e.toLowerCase();return ie(t,"opera/")||ie(t,"opr/")||ie(t,"opios/")?"Opera":ie(t,"iemobile")?"IEMobile":ie(t,"msie")||ie(t,"trident/")?"IE":ie(t,"edge/")?"Edge":ie(t,"firefox/")?hr:ie(t,"silk/")?"Silk":ie(t,"blackberry")?"Blackberry":ie(t,"webos")?"Webos":!ie(t,"safari/")||ie(t,"chrome/")||ie(t,"crios/")||ie(t,"android")?!ie(t,"chrome/")&&!ie(t,"crios/")||ie(t,"edge/")?ie(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":fr:"Safari"}var pr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function vr(e,t){t=t||[];var n,r=[],i={};for(n in pr)i[pr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=cr())?r=dr(i=gr()):"Worker"===r&&(r=dr(i=gr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function gr(){return a.navigator&&a.navigator.userAgent||""}function mr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length?void 0:t}function yr(){try{var e=a.localStorage,t=kr();if(e)return e.setItem(t,"1"),e.removeItem(t),!Xn()||!!a.indexedDB}catch(e){return ur()&&!!a.indexedDB}return!1}function br(){return(wr()||"chrome-extension:"===_r()||ar())&&!lr()&&yr()&&!ur()}function wr(){return"http:"===_r()||"https:"===_r()}function _r(){return a.location&&a.location.protocol||null}function Er(e){return!er(e=e||gr())&&dr(e)!=hr}function Ir(e){return void 0===e?null:Hn(e)}function Sr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Tr(e){if(null!==e)return JSON.parse(e)}function kr(e){return e||Math.floor(1e9*Math.random()).toString()}function Cr(e){return"Safari"!=dr(e=e||gr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ar(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=gr(),t=cr(),this.b=er(e)||"ReactNative"===t}function xr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Pr(){var e=a.document,t=null;return xr()||!e?bt():new ft((function(n){t=function(){xr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}function Or(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Rr(){return mr("fireauth.oauthhelper",a)||mr("fireauth.iframe",a)}Ar.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!wr()&&"chrome-extension:"!==_r()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Dr,Lr={};function Mr(e){Lr[e]||(Lr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Fr={};Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:2}),Dr=2==Fr.abcd}catch(e){Dr=!1}function jr(e,t,n){Dr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Ur(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&jr(e,n,t[n])}function qr(e){var t={};return Ur(t,e),t}function Vr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)jr(t,n,Vr(e[n]));return t}function Br(e){var t=e&&(e[Gr]?"phone":null);if(!(t&&e&&e[Hr]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");jr(this,"uid",e[Hr]),jr(this,"displayName",e[Kr]||null);var n=null;jr(this,"enrollmentTime",n=e[Wr]?new Date(e[Wr]).toUTCString():n),jr(this,"factorId",t)}function zr(e){try{var t=new Qr(e)}catch(e){t=null}return t}Br.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Kr="displayName",Wr="enrolledAt",Hr="mfaEnrollmentId",Gr="phoneInfo";function Qr(e){Br.call(this,e),jr(this,"phoneNumber",e[Gr])}function $r(e){var t={},n=e[Zr],r=e[ti],i=e[ni];if(e=zr(e[ei]),!i||i!=Xr&&i!=Jr&&!n||i==Jr&&!r||i==Yr&&!e)throw Error("Invalid checkActionCode response!");i==Jr?(t[ii]=n||null,t[ai]=n||null,t[ri]=r):(t[ii]=r||null,t[ai]=r||null,t[ri]=n||null),t[oi]=e||null,jr(this,ui,i),jr(this,si,Vr(t))}_(Qr,Br),Qr.prototype.w=function(){var e=Qr.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var Yr="REVERT_SECOND_FACTOR_ADDITION",Xr="EMAIL_SIGNIN",Jr="VERIFY_AND_CHANGE_EMAIL",Zr="email",ei="mfaInfo",ti="newEmail",ni="requestType",ri="email",ii="fromEmail",oi="multiFactorInfo",ai="previousEmail",si="data",ui="operation";function ci(e){var t=Cn(e=Nn(e),li)||null,n=Cn(e,hi)||null,r=(r=Cn(e,pi)||null)&&gi[r]||null;if(!t||!n||!r)throw new I("argument-error",li+", "+hi+"and "+pi+" are required in a valid action code URL.");Ur(this,{apiKey:t,operation:r,code:n,continueUrl:Cn(e,fi)||null,languageCode:Cn(e,di)||null,tenantId:Cn(e,vi)||null})}var li="apiKey",hi="oobCode",fi="continueUrl",di="languageCode",pi="mode",vi="tenantId",gi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Yr,signIn:Xr,verifyAndChangeEmail:Jr,verifyEmail:"VERIFY_EMAIL"};function mi(e){try{return new ci(e)}catch(e){return null}}function yi(e){if(void 0===(t=e[Ii]))throw new I("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new I("invalid-continue-uri");if(this.h=t,this.b=this.a=null,this.g=!1,(r=e[bi])&&"object"==typeof r){var t=r[ki],n=r[Si],r=r[Ti];if("string"==typeof t&&t.length){if(this.a=t,void 0!==n&&"boolean"!=typeof n)throw new I("argument-error",Si+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new I("argument-error",Ti+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==t)throw new I("argument-error",ki+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new I("missing-android-pkg-name")}}else if(void 0!==r)throw new I("argument-error",bi+" property must be a non null object when specified.");if(this.f=null,(t=e[Ei])&&"object"==typeof t){if("string"==typeof(t=t[Ci])&&t.length)this.f=t;else if(void 0!==t)throw new I("argument-error",Ci+" property must be a non empty string when specified.")}else if(void 0!==t)throw new I("argument-error",Ei+" property must be a non null object when specified.");if(void 0!==(t=e[_i])&&"boolean"!=typeof t)throw new I("argument-error",_i+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[wi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new I("argument-error",wi+" property must be a non empty string when specified.");this.i=e||null}var bi="android",wi="dynamicLinkDomain",_i="handleCodeInApp",Ei="iOS",Ii="url",Si="installApp",Ti="minimumVersion",ki="packageName",Ci="bundleId";function Ni(e){var t,n={};for(t in n.continueUrl=e.h,n.canHandleCodeInApp=e.c,(n.androidPackageName=e.a)&&(n.androidMinimumVersion=e.b,n.androidInstallApp=e.g),n.iOSBundleId=e.f,n.dynamicLinkDomain=e.i,n)null===n[t]&&delete n[t];return n}var Ai=null;function xi(e){var t=Oi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Pi(e){try{return new xi(e)}catch(e){return null}}function Oi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ai[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ai){Ai={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ai[o]&&(Ai[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i,o,a,s=r[t++];s<128?e[n++]=String.fromCharCode(s):191<s&&s<224?(i=r[t++],e[n++]=String.fromCharCode((31&s)<<6|63&i)):239<s&&s<365?(a=((7&s)<<18|(63&(i=r[t++]))<<12|(63&(o=r[t++]))<<6|63&r[t++])-65536,e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))):(i=r[t++],o=r[t++],e[n++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o))}return JSON.parse(e.join(""))}catch(e){}return null}xi.prototype.T=function(){return this.f},xi.prototype.l=function(){return this.c},xi.prototype.toString=function(){return this.h};var Ri="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Di=["client_id","response_type","scope","redirect_uri","state"],Li={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Di},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Di},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Di},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Ri},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Mi(e){for(var t in Li)if(Li[t].fa==e)return Li[t];return null}function Fi(e){var t={};t["facebook.com"]=Bi,t["google.com"]=Ki,t["github.com"]=zi,t["twitter.com"]=Wi;var n=e&&e[Ui];try{if(n)return new(t[n]||Vi)(e);if(void 0!==e[ji])return new qi(e)}catch(e){}return null}var ji="idToken",Ui="providerId";function qi(e){var t,n=e[Ui];if(n||!e[ji]||(t=Pi(e[ji]))&&t.b&&(n=t.b),!n)throw Error("Invalid additional user info!");"anonymous"!=n&&"custom"!=n||(n=null),t=!1,void 0!==e.isNewUser?t=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(t=!0),jr(this,"providerId",n),jr(this,"isNewUser",t)}function Vi(e){qi.call(this,e),jr(this,"profile",Vr((e=Tr(e.rawUserInfo||"{}"))||{}))}function Bi(e){if(Vi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function zi(e){if(Vi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",this.profile&&this.profile.login||null)}function Ki(e){if(Vi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wi(e){if(Vi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");jr(this,"username",e.screenName||null)}function Hi(e){var t=Cn(r=Nn(e),"link"),n=Cn(Nn(t),"link"),r=Cn(r,"deep_link_id");return Cn(Nn(r),"link")||r||n||t||e}function Gi(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?Qi:$i}_(Vi,qi),_(Bi,Vi),_(zi,Vi),_(Ki,Vi),_(Wi,Vi);var Qi="enroll",$i="signin";function Yi(){}function Xi(e,t){return e.then((function(e){if(e[qa]){var n=Pi(e[qa]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==k+"user-not-found"?new I("user-mismatch"):e}))}function Ji(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,jr(this,"providerId",e),jr(this,"signInMethod",e)}function Zi(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function eo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Ji(e.providerId,e.pendingToken)}catch(e){}return null}function to(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&jr(this,"idToken",t.idToken),t.accessToken&&jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");jr(this,"accessToken",t.oauthToken),jr(this,"secret",t.oauthTokenSecret)}jr(this,"providerId",e),jr(this,"signInMethod",n)}function no(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:qn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ro(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new to(e.providerId,t,e.signInMethod)}catch(e){}}return null}function io(e,t){this.Qc=t||[],Ur(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(Mi(e)||{}).Ja||null,this.ob=null}function oo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');io.call(this,e,[])}function ao(e){io.call(this,e,Di),this.a=[]}function so(){ao.call(this,"facebook.com")}function uo(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new so).credential({accessToken:t})}function co(){ao.call(this,"github.com")}function lo(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new co).credential({accessToken:t})}function ho(){ao.call(this,"google.com"),this.Ca("profile")}function fo(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new ho).credential({idToken:n,accessToken:t})}function po(){io.call(this,"twitter.com",Ri)}function vo(e,t){var n=e;if(!(n=p(n)?n:{oauthToken:e,oauthTokenSecret:t}).oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new to("twitter.com",n,"twitter.com")}function go(e,t,n){this.a=e,this.f=t,jr(this,"providerId","password"),jr(this,"signInMethod",n===yo.EMAIL_LINK_SIGN_IN_METHOD?yo.EMAIL_LINK_SIGN_IN_METHOD:yo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function mo(e){return e&&e.email&&e.password?new go(e.email,e.password,e.signInMethod):null}function yo(){Ur(this,{providerId:"password",isOAuthProvider:!1})}function bo(e,t){if(!(t=wo(t)))throw new I("argument-error","Invalid email link!");return new go(e,t.code,yo.EMAIL_LINK_SIGN_IN_METHOD)}function wo(e){return(e=mi(e=Hi(e)))&&e.operation===Xr?e:null}function _o(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new I("internal-error");this.a=e,jr(this,"providerId","phone"),this.fa="phone",jr(this,"signInMethod","phone")}function Eo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new _o(t)}return null}function Io(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function So(e){try{this.a=e||_a.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ur(this,{providerId:"phone",isOAuthProvider:!1})}function To(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new _o({eb:e,cb:t})}function ko(e){if(e.temporaryProof&&e.phoneNumber)return new _o({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return fo(o,n);case"facebook.com":return uo(n);case"github.com":return lo(n);case"twitter.com":return vo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Ji(t,a):new to(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new ao(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Co(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function No(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Ao(e){return(e=e||{}).type?new No(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&S(e.error),e.postBody,e.tenantId):null}function xo(){this.b=null,this.a=[]}Gi.prototype.Ha=function(){return this.a?bt(this.a):bt(this.b)},Gi.prototype.w=function(){return this.type==Qi?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Yi.prototype.ka=function(){},Yi.prototype.b=function(){},Yi.prototype.c=function(){},Yi.prototype.w=function(){},Ji.prototype.ka=function(e){return ss(e,Zi(this))},Ji.prototype.b=function(e,t){var n=Zi(this);return n.idToken=t,us(e,n)},Ji.prototype.c=function(e,t){return Xi(cs(e,Zi(this)),t)},Ji.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},to.prototype.ka=function(e){return ss(e,no(this))},to.prototype.b=function(e,t){var n=no(this);return n.idToken=t,us(e,n)},to.prototype.c=function(e,t){return Xi(cs(e,no(this)),t)},to.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},io.prototype.Ka=function(e){return this.Ib=le(e),this},_(oo,io),_(ao,io),ao.prototype.Ca=function(e){return K(this.a,e)||this.a.push(e),this},ao.prototype.Qb=function(){return Q(this.a)},ao.prototype.credential=function(e,t){if(!(t=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!t.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new to(this.providerId,t,this.providerId)},_(so,ao),jr(so,"PROVIDER_ID","facebook.com"),jr(so,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(co,ao),jr(co,"PROVIDER_ID","github.com"),jr(co,"GITHUB_SIGN_IN_METHOD","github.com"),_(ho,ao),jr(ho,"PROVIDER_ID","google.com"),jr(ho,"GOOGLE_SIGN_IN_METHOD","google.com"),_(po,io),jr(po,"PROVIDER_ID","twitter.com"),jr(po,"TWITTER_SIGN_IN_METHOD","twitter.com"),go.prototype.ka=function(e){return this.signInMethod==yo.EMAIL_LINK_SIGN_IN_METHOD?Ks(e,ms,{email:this.a,oobCode:this.f}):Ks(e,Us,{email:this.a,password:this.f})},go.prototype.b=function(e,t){return this.signInMethod==yo.EMAIL_LINK_SIGN_IN_METHOD?Ks(e,ys,{idToken:t,email:this.a,oobCode:this.f}):Ks(e,Ps,{idToken:t,email:this.a,password:this.f})},go.prototype.c=function(e,t){return Xi(this.ka(e),t)},go.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ur(yo,{PROVIDER_ID:"password"}),Ur(yo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ur(yo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),_o.prototype.ka=function(e){return e.fb(Io(this))},_o.prototype.b=function(e,t){var n=Io(this);return n.idToken=t,Ks(e,Vs,n)},_o.prototype.c=function(e,t){var n=Io(this);return n.operation="REAUTH",Xi(e=Ks(e,Bs,n),t)},_o.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},So.prototype.fb=function(e,t){var n=this.a.a;return bt(t.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==t.type)throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(e)?e.session:null,o=p(e)?e.phoneNumber:e;return(i=i&&i.type==Qi?i.Ha().then((function(e){return Ks(n,Rs,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(e){return e.phoneSessionInfo.sessionInfo}))})):i&&i.type==$i?i.Ha().then((function(t){return i=n,t={mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Ks(i,Ds,t).then((function(e){return e.phoneResponseInfo.sessionInfo}));var i})):Ks(n,As,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}))}))},Ur(So,{PROVIDER_ID:"phone"}),Ur(So,{PHONE_SIGN_IN_METHOD:"phone"}),No.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},No.prototype.T=function(){return this.h},No.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Po,Oo=null;function Ro(e){var t="unauthorized-domain",n=void 0,r=Nn(e);e=r.a,"chrome-extension"==(r=r.c)?n=je("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=je("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Do(e,t,n){I.call(this,e,n),(e=t||{}).Jb&&jr(this,"email",e.Jb),e.ea&&jr(this,"phoneNumber",e.ea),e.credential&&jr(this,"credential",e.credential),e.Zb&&jr(this,"tenantId",e.Zb)}function Lo(e){if(e.code){var t=e.code||"";0==t.indexOf(k)&&(t=t.substring(k.length));var n={credential:ko(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Do(t,n,e.message)}return null}function Mo(){}function Fo(e){return e.c||(e.c=e.b())}function jo(){}function Uo(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function qo(){}function Vo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Sb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Bo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function zo(e,t,n){this.reset(e,t,n,void 0,void 0)}function Ko(e){this.f=e,this.b=this.c=this.a=null}function Wo(e,t){this.name=e,this.value=t}_(Ro,I),_(Do,I),Do.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&fe(e,t),e},Do.prototype.toJSON=function(){return this.w()},Mo.prototype.c=null,_(jo,Mo),jo.prototype.a=function(){var e=Uo(this);return e?new ActiveXObject(e):new XMLHttpRequest},jo.prototype.b=function(){var e={};return Uo(this)&&(e[0]=!0,e[1]=!0),e},Po=new jo,_(qo,Mo),qo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Vo;throw Error("Unsupported browser")},qo.prototype.b=function(){return{}},(e=Vo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Bo(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Bo(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Bo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},zo.prototype.a=null,zo.prototype.reset=function(e,t,n,r,i){delete this.a},Wo.prototype.toString=function(){return this.name};var Ho=new Wo("SEVERE",1e3),Go=new Wo("WARNING",900),Qo=new Wo("CONFIG",700),$o=new Wo("FINE",500);Ko.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c||(t.a?e(t.a):(R("Root logger has no level set."),null))}(this).value)for(d(t)&&(t=t()),e=new zo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Yo,Xo={},Jo=null;function Zo(e){var t,n,r;return Jo||(Jo=new Ko(""),(Xo[""]=Jo).c=Qo),(t=Xo[e])||(t=new Ko(e),r=e.lastIndexOf("."),n=e.substr(r+1),(r=Zo(e.substr(0,r))).b||(r.b={}),(r.b[n]=t).a=r,Xo[e]=t),t}function ea(e,t){e&&e.log($o,t,void 0)}function ta(e){this.f=e}function na(e){ln.call(this),this.u=e,this.h=void 0,this.readyState=ra,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Zo("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(ta,Mo),ta.prototype.a=function(){return new na(this.f)},ta.prototype.b=(Yo={},function(){return Yo}),_(na,ln);var ra=0;function ia(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function oa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,aa(e)}function aa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function sa(e){ln.call(this),this.headers=new yn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ua,this.u=this.S=!1}(e=na.prototype).open=function(e,t){if(this.readyState!=ra)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,aa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,oa(this)),this.readyState=ra},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,aa(this)),this.a&&(this.readyState=3,aa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ia(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){var t;this.a&&((t=this.m.decode(e.value||new Uint8Array(0),{stream:!e.done}))&&(this.response=this.responseText+=t),(e.done?oa:aa)(this),3==this.readyState&&ia(this))},e.tc=function(e){this.a&&(this.response=this.responseText=e,oa(this))},e.sc=function(e){this.a&&(this.response=e,oa(this))},e.Ua=function(e){var t=this.i;t&&t.log(Go,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&oa(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(Go,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b)return(e=this.i)&&e.log(Go,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(na.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),_(sa,ln);var ua="";sa.prototype.b=Zo("goog.net.XhrIo");var ca=/^https?$/i,la=["POST","PUT"];function ha(e){return"content-type"==e.toLowerCase()}function fa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,da(e),va(e)}function da(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function pa(e){if(e.c&&void 0!==o)if(e.C[1]&&4==ma(e)&&2==ya(e))ea(e.b,ba(e,"Local request error detected and ignored"));else if(e.i&&4==ma(e))pn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==ma(e)){ea(e.b,ba(e,"Request complete")),e.c=!1;try{var t,n,r,i,s=ya(e);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}if((t=u)||((n=0===s)&&(!(i=String(e.l).match(_n)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!ca.test(i?i.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<ma(e)?e.a.statusText:""}catch(t){ea(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+ya(e)+"]",da(e)}}finally{va(e)}}}function va(e,t){if(e.a){ga(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Ho,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function ga(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function ma(e){return e.a?e.a.readyState:0}function ya(e){try{return 2<ma(e)?e.a.status:-1}catch(e){return-1}}function ba(e,t){return t+" ["+e.R+" "+e.l+" "+ya(e)+"]"}function wa(e){var t=Oa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ea(e,t,n){e.a=!0,e.c=n,e.f=!t,ka(e)}function Ia(e){if(e.a){if(!e.v)throw new Ca;e.v=!1}}function Sa(e,t,n,r){e.g.push([t,n,r]),e.a&&ka(e)}function Ta(e){return z(e.g,(function(e){return d(e[1])}))}function ka(e){var t;e.h&&e.a&&Ta(e)&&(n=e.h,(t=xa[n])&&(a.clearTimeout(t.a),delete xa[n]),e.h=0),e.b&&(e.b.l--,delete e.b);for(var n=e.c,r=t=!1;e.g.length&&!e.i;){var i=(s=e.g.shift())[0],o=s[1],s=s[2];if(i=e.f?o:i)try{var u=i.call(s||e.s,n);void 0!==u&&(e.f=e.f&&(u==n||u instanceof Error),e.c=n=u),(x(n)||"function"==typeof a.Promise&&n instanceof a.Promise)&&(r=!0,e.i=!0)}catch(r){n=r,e.f=!0,Ta(e)||(t=!0)}}e.c=n,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),n instanceof wa?(Sa(n,u,r),n.C=!0):n.then(u,r)),t&&(n=new Aa(n),xa[n.a]=n,e.h=n.a)}function Ca(){P.call(this)}function Na(){P.call(this)}function Aa(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=sa.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ea(this.b,ba(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ea(this.b,ba(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),va(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),va(this,!0)),sa.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?pa(this):this.Jc())},e.Jc=function(){pa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ua:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Ho,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ea(this.b,"Can not get response: "+e.message),null}},wa.prototype.cancel=function(e){var t;this.a?this.c instanceof wa&&this.c.cancel():(this.b&&(t=this.b,delete this.b,e?t.cancel(e):(t.l--,t.l<=0&&t.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Na,Ia(this),Ea(this,!1,e)))},wa.prototype.m=function(e,t){this.i=!1,Ea(this,e,t)},wa.prototype.then=function(e,t,n){var r,i,o=new ft((function(e,t){r=e,i=t}));return Sa(this,r,(function(e){e instanceof Na?o.cancel():i(e)})),o.then(e,t,n)},wa.prototype.$goog_Thenable=!0,_(Ca,P),Ca.prototype.message="Deferred has already fired",Ca.prototype.name="AlreadyCalledError",_(Na,P),Na.prototype.message="Deferred was canceled",Na.prototype.name="CanceledError",Aa.prototype.c=function(){throw delete xa[this.a],this.b};var xa={};function Pa(e){var t=document,n=_e(e).toString(),r=at(document,"SCRIPT"),i={Wb:r,Ma:void 0},o=new wa(i),s=window.setTimeout((function(){Ra(r,!0);var e=new Ma(La,"Timeout reached for loading script "+n);Ia(o),Ea(o,!1,e)}),5e3);return i.Ma=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ra(r,!1,s),Ia(o),Ea(o,!0,null))},r.onerror=function(){Ra(r,!0,s);var e=new Ma(Da,"Error while loading script "+n);Ia(o),Ea(o,!1,e)},fe(i={},{type:"text/javascript",charset:"UTF-8"}),nt(r,i),i=e,de(e=r,"HTMLScriptElement"),e.src=_e(i),(i=(i=e.ownerDocument&&e.ownerDocument.defaultView)&&i!=a?c(i.document):u=null===u?c(a.document):u)&&e.setAttribute("nonce",i),((t=((i=t)||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:i.documentElement).appendChild(r),o}function Oa(){var e;this&&this.Wb&&(e=this.Wb)&&"SCRIPT"==e.tagName&&Ra(e,!0,this.Ma)}function Ra(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Da=0,La=1;function Ma(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function Fa(e){this.f=e}function ja(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Va,this.g=le(e.secureTokenHeaders||Ba),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||za,this.a=le(e.firebaseHeaders||Ka),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==cr(),!(n=a.XMLHttpRequest||n&&_a.INTERNAL.node&&_a.INTERNAL.node.XMLHttpRequest)&&!ur())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ur()?this.f=new ta(self):lr()?this.f=new Fa(n):this.f=new qo,this.b=null}_(Ma,P),_(Fa,Mo),Fa.prototype.a=function(){return new this.f},Fa.prototype.b=function(){return{}};var Ua,qa="idToken",Va=new Ar(3e4,6e4),Ba={"Content-Type":"application/x-www-form-urlencoded"},za=new Ar(3e4,6e4),Ka={"Content-Type":"application/json"};function Wa(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Ha(e,t){t&&(e.l=Ga("https://securetoken.googleapis.com/v1/token",t),e.h=Ga("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Ga("https://identitytoolkit.googleapis.com/v2/",t))}function Ga(e,t){return e=Nn(e),t=Nn(t.url),e.f=e.a+e.f,In(e,t.c),e.a=t.a,Sn(e,t.g),e.toString()}function Qa(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function $a(e,t,n,r,i,o,s){var u;(e=((u=dr(u=gr())==fr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||ze&&Ze&&!(9<Ze))&&!ur()?(Ua=Ua||new ft((function(e,t){var n,r;n=e,r=t,((window.gapi||{}).client||{}).request?n():(a[Xa]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},function(e,t){Sa(e,null,(function(){r(Error("CORS_UNSUPPORTED"))}),void 0)}(Pa(Ee(Ya,{onload:Xa}))))})),b(e.s,e)):b(e.u,e))(t,n,r,i,o,s)}ja.prototype.T=function(){return this.b},ja.prototype.u=function(e,t,n,r,i,o){if(ur()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new sa(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),hn(u,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ea(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),fn(u,"ready",(function(){s&&clearTimeout(s),Dt(this)})),fn(u,"timeout",(function(){s&&clearTimeout(s),Dt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=(e.D||Po).a(),e.C=e.D?Fo(e.D):Fo(Po),e.a.onreadystatechange=b(e.Vb,e);try{ea(e.b,ba(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(t){return ea(e.b,ba(e,"Error opening Xhr: "+t.message)),void fa(e,t)}t=r||"";var o,s=new yn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)q(e,t,void 0);else for(var n=mn(e),r=gn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){s.set(t,e)})),i=function(e){e:{for(var t=ha,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(s.Y()),r=a.FormData&&t instanceof a.FormData,!K(la,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ga(e),0<e.g&&(e.u=(o=e.a,ze&&Je(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),ea(e.b,ba(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=pn(e.Ma,e.g,e)),ea(e.b,ba(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ea(e.b,ba(e,"Send error: "+t.message)),fa(e,t)}}(u,e,n,r,i)};var Ya=new pe(ye,"https://apis.google.com/js/client.js?onload=%{onload}"),Xa="__fcb"+Math.floor(1e6*Math.random()).toString();function Ja(e){if("string"!=typeof(e=e.email)||!ir.test(e))throw new I("invalid-email")}function Za(e){"email"in e&&Ja(e)}function es(e){if(!e[qa]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,le(e));throw new I("internal-error")}}function ts(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}ja.prototype.s=function(e,t,n,r,i){var o=this;Ua.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ja.prototype.zb=function(){return Ks(this,Os,{})},ja.prototype.Bb=function(e,t){return Ks(this,xs,{idToken:e,email:t})},ja.prototype.Cb=function(e,t){return Ks(this,Ps,{idToken:e,password:t})};var ns={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function rs(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function is(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function os(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Bn(e=new jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function as(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Lo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Lo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Lo(e)):e.errorMessage&&(t=Ws(e.errorMessage)),t)throw t;es(e)}function ss(e,t){return t.returnIdpCredential=!0,Ks(e,Ls,t)}function us(e,t){return t.returnIdpCredential=!0,Ks(e,Fs,t)}function cs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ks(e,Ms,t)}function ls(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=ja.prototype).Db=function(e,t){var n={idToken:e},r=[];return ue(ns,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ks(this,xs,n)},e.vb=function(e,t){return fe(e={requestType:"PASSWORD_RESET",email:e},t),Ks(this,Ts,e)},e.wb=function(e,t){return fe(e={requestType:"EMAIL_SIGNIN",email:e},t),Ks(this,Es,e)},e.ub=function(e,t){return fe(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ks(this,Is,e)},e.Eb=function(e,t,n){return fe(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ks(this,Ss,e)},e.fb=function(e){return Ks(this,qs,e)},e.nb=function(e,t){return Ks(this,Ns,{oobCode:e,newPassword:t})},e.Ra=function(e){return Ks(this,fs,{oobCode:e})},e.jb=function(e){return Ks(this,hs,{oobCode:e})};var hs={endpoint:"setAccountInfo",A:ls,Z:"email",B:!0},fs={endpoint:"resetPassword",A:ls,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},ds={endpoint:"signupNewUser",A:function(e){if(Ja(e),!e.password)throw new I("weak-password")},G:es,V:!0,B:!0},ps={endpoint:"createAuthUri",B:!0},vs={endpoint:"deleteAccount",N:["idToken"]},gs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},ms={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Ja,G:es,V:!0,B:!0},ys={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Ja,G:es,V:!0},bs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:rs,G:es,B:!0,Na:!0},ws={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:rs,G:es,B:!0,Na:!0},_s={endpoint:"getAccountInfo"},Es={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");Ja(e)},Z:"email",B:!0},Is={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Ss={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Ts={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");Ja(e)},Z:"email",B:!0},ks={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Cs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},Ns={endpoint:"resetPassword",A:ls,Z:"email",B:!0},As={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},xs={endpoint:"setAccountInfo",N:["idToken"],A:Za,V:!0},Ps={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(Za(e),!e.password)throw new I("weak-password")},G:es,V:!0},Os={endpoint:"signupNewUser",G:es,V:!0,B:!0},Rs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Ds={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Ls={endpoint:"verifyAssertion",A:is,Ya:os,G:as,V:!0,B:!0},Ms={endpoint:"verifyAssertion",A:is,Ya:os,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw Ws(e.errorMessage);es(e)},V:!0,B:!0},Fs={endpoint:"verifyAssertion",A:function(e){if(is(e),!e.idToken)throw new I("internal-error")},Ya:os,G:as,V:!0},js={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:es,V:!0,B:!0},Us={endpoint:"verifyPassword",A:function(e){if(Ja(e),!e.password)throw new I("wrong-password")},G:es,V:!0,B:!0},qs={endpoint:"verifyPhoneNumber",A:ts,G:es,B:!0},Vs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");ts(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Lo(e);es(e)}},Bs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ts,G:es,B:!0},zs={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[qa]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function Ks(e,t,n){if(!function(e,t){if(!t||!t.length)return 1;if(e){for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return}return 1}}(n,t.N))return wt(new I("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return bt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=Nn(t+n);kn(s,"key",e.c),a&&kn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&kn(s,c,i[c]);return new ft((function(t,n){$a(e,s.toString(),(function(e){e?e.error?n(Hs(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:Hn(Sr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function Ws(e){return Hs({error:{errors:[{message:e}],code:400,message:e}})}function Hs(e,t){var n,r=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new I(i[r]):null)return r;for(n in r=e.error&&e.error.message||"",fe(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,i)if(0===r.indexOf(n))return new I(i[n],t);return new I("internal-error",t=!t&&e?Ir(e):t)}function Gs(e){var t;this.b=e,this.a=null,this.rb=(t=this,(Xs=Xs||new ft((function(e,t){function n(){Nr(),mr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:$s.get()})}var r;mr("gapi.iframes.Iframe")?e():mr("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){mr("gapi.load")?n():t(Error("Network Error"))},bt(Pa(r=Ee(Qs,{onload:r}))).o((function(){t(Error("Network Error"))})))})).o((function(e){throw Xs=null,e}))).then((function(){return new ft((function(e,n){mr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Ys.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var Qs=new pe(ye,"https://apis.google.com/js/api.js?onload=%{onload}"),$s=new Ar(3e4,6e4),Ys=new Ar(5e3,15e3),Xs=null;function Js(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?An((e=Nn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):An("https",this.l,null,"/__/auth/iframe"),this.a=e,kn(this.a,"apiKey",this.h),kn(this.a,"appName",this.i),this.b=null,this.c=[]}function Zs(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function eu(e){try{return _a.app(e).auth().Ga()}catch(e){return[]}}function tu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function nu(e){var t=Jn();return Ks(e,ks,{}).then((function(e){return e.authorizedDomains||[]})).then((function(e){e:{for(var n=(r=Nn(t)).c,r=r.a,i=0;i<e.length;i++){var o=e[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?Nn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(rr.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){e=!0;break e}}e=!1}if(!e)throw new Ro(Jn())}))}function ru(e){return e.m||(e.m=or().then((function(){var t,n,r,i;e.u||(t=e.c,n=e.i,r=eu(e.b),(i=new Js(e.s,e.g,e.b,e.f)).f=t,i.b=n,i.c=Q(r||[]),e.u=i.toString()),e.v=new Gs(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ao(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",bt(n)}return n.status="ERROR",bt(n)}))}(e)})),e.m)}function iu(e){return e.l||(e.C=e.c?vr(e.c,eu(e.b)):null,e.l=new ja(e.g,A(e.i),e.C),e.f&&Ha(e.l,e.f)),e.l}function ou(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new Zs(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=le(u||null),e.f=c,e.yb(l).toString()}function au(e){if(this.a=e||_a.INTERNAL.reactNative&&_a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function su(e){this.b=e,this.a={},this.f=b(this.c,this)}Js.prototype.toString=function(){return this.f?kn(this.a,"v",this.f):Vn(this.a.b,"v"),this.b?kn(this.a,"eid",this.b):Vn(this.a.b,"eid"),this.c.length?kn(this.a,"fw",this.c.join(",")):Vn(this.a.b,"fw"),this.a.toString()},Zs.prototype.yb=function(e){return this.h=e,this},Zs.prototype.toString=function(){var e;if(kn(e=this.v?An((e=Nn(this.v.url)).c,e.a,e.g,"/emulator/auth/handler"):An("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),kn(e,"appName",this.c),kn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=_a.app(this.c).auth().la()}catch(e){n=null}for(r in t.ob=n,kn(e,"providerId",this.a.providerId),t=Sr((n=this.a).Ib))t[r]=t[r].toString();for(var r=n.Qc,i=(t=le(t),0);i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),ce(t)||kn(e,"customParameters",Ir(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&kn(e,"scopes",n.join(",")),this.l?kn(e,"redirectUrl",this.l):Vn(e.b,"redirectUrl"),this.g?kn(e,"eventId",this.g):Vn(e.b,"eventId"),this.i?kn(e,"v",this.i):Vn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Cn(e,a)&&kn(e,a,this.b[a]);return this.h?kn(e,"tid",this.h):Vn(e.b,"tid"),this.f?kn(e,"eid",this.f):Vn(e.b,"eid"),(a=eu(this.c)).length&&kn(e,"fw",a.join(",")),e.toString()},(e=tu.prototype).Ob=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){var n,r;r={type:"webStorageSupport"},ru(n=o).then((function(){return e=n.v,t=r,e.rb.then((function(){return new ft((function(n){e.a.send(t.type,t,n,mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var e,t})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then((function(n){n||(e&&tr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return t=e,new ft((function(e){return function n(){vn(2e3).then((function(){return t&&!t.closed?n():void e()}))}()}));var t})).then((function(){if(!a)return vn(n).then((function(){t(r)}))}))},e.Xb=function(){var e=gr();return!Er(e)&&!Cr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return wt(new I("popup-blocked"));if(a&&!Er())return this.ma().o((function(t){tr(e),i(t)})),r(),bt();this.a||(this.a=nu(iu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw tr(e),i(t),t}));return r(),t})).then((function(){Co(n),a||Zn(ou(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=nu(iu(this)));var i=this;return this.a.then((function(){Co(t),Zn(ou(i.s,i.g,i.b,e,t,Jn(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return ru(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){H(this.h,(function(t){return t==e}))},(e=au.prototype).get=function(e){return bt(this.a.getItem(e)).then((function(e){return e&&Tr(e)}))},e.set=function(e,t){return bt(this.a.setItem(e,Ir(t)))},e.U=function(e){return bt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var uu,cu=[];function lu(e,t,n){ce(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function hu(e){this.a=e}function fu(e){this.c=e,this.b=!1,this.a=[]}function du(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return wt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ft((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return pu(e,c),t})).o((function(t){throw pu(e,c),t}))}function pu(e,t){var n,r;t&&(n=t.messageChannel,r=t.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(e.a,(function(e){return e==t})))}function vu(){if(!bu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,t,n,r=this;ur()&&self?(this.v=(n=ur()?self:null,q(cu,(function(e){e.b==n&&(t=e)})),t||(t=new su(n),cu.push(t)),t),lu(this.v,"keyChanged",(function(e,t){return Su(r).then((function(e){return 0<e.length&&q(r.a,(function(t){t(e)})),{keyProcessed:K(e,t.key)}}))})),lu(this.v,"ping",(function(){return bt(["keyChanged"])}))):((e=a.navigator)&&e.serviceWorker?bt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):bt(null)).then((function(e){(r.h=e)&&(r.g=new fu(new hu(e)),du(r.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(r.s=!0)})).o((function(){})))}))}function gu(e){return new ft((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):(i=e,new ft((function(e,t){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(e){t(Error(e.target.error))}})).then((function(){return gu(e)})).then((function(e){t(e)})).o((function(e){n(e)})))}}))}function mu(e){return e.i||(e.i=gu(e)),e.i}function yu(e,t){var n=0;return new ft((function r(i,o){mu(e).then(t).then(i).o((function(t){return 3<++n?void o(t):mu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}))}))}))}function bu(){try{return a.indexedDB}catch(e){return}}function wu(e){return e.objectStore("firebaseLocalStorage")}function _u(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Eu(e){return new ft((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Iu(e,t){return e.g&&e.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?du(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):bt();var n}function Su(e){return mu(e).then((function(e){var t=wu(_u(e,!1));return t.getAll?Eu(t.getAll()):new ft((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n&&typeof t[r]==typeof n[r]?"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Tu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=bt().then((function(){if(bu()){var e=kr(),r="__sak"+e;return uu=uu||new vu,(n=uu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){q(t.a,(function(t){t(e)}))})),e}))}function Cu(){this.a={},this.type="inMemory"}function Nu(){if(!function(){var e="Node"==cr();if(!(e=Au()||e&&_a.INTERNAL.node&&_a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==cr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Au()||_a.INTERNAL.node.localStorage,this.type="localStorage"}function Au(){try{var e=a.localStorage,t=kr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function xu(){this.type="nullStorage"}function Pu(){if(!function(){var e="Node"==cr();if(!(e=Ou()||e&&_a.INTERNAL.node&&_a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==cr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Ou()||_a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ou(){try{var e=a.sessionStorage,t=kr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Ru(){var e={};e.Browser=Mu,e.Node=Fu,e.ReactNative=ju,e.Worker=Uu,this.a=e[cr()]}su.prototype.c=function(e){var t,n=e.data.eventType,r=e.data.eventId,i=this.a[n];i&&0<i.length&&(e.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),t=[],q(i,(function(n){t.push(bt().then((function(){return n(e.origin,e.data.data)})))})),Et(t).then((function(t){var i=[];q(t,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),q(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},hu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},fu.prototype.close=function(){for(;0<this.a.length;)pu(this,this.a[0]);this.b=!0},(e=vu.prototype).set=function(e,t){var n=this,r=!1;return yu(this,(function(t){return Eu((t=wu(_u(t,!0))).get(e))})).then((function(i){return yu(n,(function(o){if(o=wu(_u(o,!0)),i)return i.value=t,Eu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Eu(o.add(a))}))})).then((function(){return n.c[e]=t,Iu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return yu(this,(function(t){return Eu(wu(_u(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return yu(this,(function(r){return n=!0,t.b++,Eu(wu(_u(r,!0)).delete(e))})).then((function(){return delete t.c[e],Iu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){var t;0==this.a.length&&(Tu(t=this),function e(){t.f=setTimeout((function(){t.l=Su(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()),this.a.push(e)},e.ia=function(e){H(this.a,(function(t){return t==e})),0==this.a.length&&Tu(this)},(e=ku.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){H(this.a,(function(t){return t==e}))},(e=Cu.prototype).get=function(e){return bt(this.a[e])},e.set=function(e,t){return this.a[e]=t,bt()},e.U=function(e){return delete this.a[e],bt()},e.ca=function(){},e.ia=function(){},(e=Nu.prototype).get=function(e){var t=this;return bt().then((function(){return Tr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return bt().then((function(){var r=Ir(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return bt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&Xt(a.window,"storage",e)},e.ia=function(e){a.window&&en(a.window,"storage",e)},(e=xu.prototype).get=function(){return bt(null)},e.set=function(){return bt()},e.U=function(){return bt()},e.ca=function(){},e.ia=function(){},(e=Pu.prototype).get=function(e){var t=this;return bt().then((function(){return Tr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return bt().then((function(){var r=Ir(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return bt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Du,Lu,Mu={F:Nu,bb:Pu},Fu={F:Nu,bb:Pu},ju={F:au,bb:xu},Uu={F:Nu,bb:xu},qu={rd:"local",NONE:"none",td:"session"};function Vu(){var e=!(Cr(gr())||!sr()),t=Er(),n=yr();this.m=e,this.h=t,this.l=n,this.a={},e=Du=Du||new Ru;try{this.g=!Xn()&&Rr()||!a.indexedDB?new e.a.F:new ku(new(ur()?Cu:e.a.F))}catch(e){this.g=new Cu,this.h=!0}try{this.i=new e.a.bb}catch(e){this.i=new Cu}this.v=new Cu,this.f=b(this.Yb,this),this.b={}}function Bu(){return Lu=Lu||new Vu}function zu(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Ku(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Wu(e,t,n){return n=Ku(t,n),"local"==t.F&&(e.b[n]=null),zu(e,t.F).U(n)}function Hu(e){e.c&&(clearInterval(e.c),e.c=null)}function Gu(e){this.a=e,this.b=Bu()}(e=Vu.prototype).get=function(e,t){return zu(this,e.F).get(Ku(e,t))},e.set=function(e,t,n){var r=Ku(e,n),i=this,o=zu(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){var r;e=Ku(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),ce(this.a)&&(zu(this,"local").ca(this.f),this.h||(Xn()||!Rr())&&a.indexedDB||!this.l||(Hu(r=this),r.c=setInterval((function(){for(var e in r.a){var t=a.localStorage.getItem(e),n=r.b[e];t!=n&&(r.b[e]=t,t=new qt({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),r.Yb(t))}}),1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Ku(e,t),this.a[e]&&(H(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ce(this.a)&&(zu(this,"local").ia(this.f),Hu(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?zu(this,"local").ia(this.f):Hu(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.mb(t))},ze&&Ze&&10==Ze&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else q(e,b(this.mb,this))},e.mb=function(e){this.a[e]&&q(this.a[e],(function(e){e()}))};var Qu,$u={name:"authEvent",F:"local"};function Yu(){this.a=Bu()}function Xu(e,t){this.b=Ju,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Qu&&(Qu=a.Int32Array?new Int32Array(oc):oc),this.reset()}_(Xu,(function(){this.b=-1}));for(var Ju=64,Zu=Ju-1,ec=[],tc=0;tc<Zu;tc++)ec[tc]=0;var nc=G(128,ec);function rc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;t<64;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;t<64;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Qu[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function ic(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(rc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(rc(e),i=0)}}e.c=i,e.g+=n}Xu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var oc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ac(){Xu.call(this,8,sc)}_(ac,Xu);var sc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function uc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new Yu,this.g=new Gu(this.h),this.f=null,this.b=[],this.a=this.c=null}function cc(e){return new I("invalid-cordova-configuration",e)}function lc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function hc(e){return e.f||(e.f=e.ma().then((function(){return new ft((function(t){function n(e){o=!0,s&&s.cancel(),fc(r).then((function(t){var n,o=i;t&&e&&e.url&&(n=null,o=(n=-1!=(o=Hi(e.url)).indexOf("/__/auth/callback")?(n="object"==typeof(n=Tr(Cn(n=Nn(o),"firebaseError")||null))?S(n):null)?new No(t.c,t.b,null,null,n,null,t.T()):new No(t.c,t.b,o,t.f,null,null,t.T()):n)||i),lc(r,o)}))}var r,i,o,s,u;e.Ea((function n(r){return t(r),e.Sa(n),!1})),r=e,i=new No("unknown",null,null,null,new I("no-auth-event")),o=!1,s=vn(500).then((function(){return fc(r).then((function(){o||lc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(mr("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:e}),"function"==typeof u)try{u(e)}catch(e){console.error(e)}},Oo=Oo||new xo,function(e){var t=Oo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=mr("universalLinks.subscribe",a))&&e(null,t.b))}(n)}))}))),e.f}function fc(e){var t,n=null;return(t=e.g).b.get($u,t.a).then(Ao).then((function(t){return n=t,Wu((t=e.g).b,$u,t.a)})).then((function(){return n}))}function dc(e){this.a=e,this.b=Bu()}(e=uc.prototype).ma=function(){return this.Ia||(this.Ia=(ar(void 0)?or().then((function(){return new ft((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):wt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof mr("universalLinks.subscribe",a))throw cc("cordova-universal-links-plugin-fix is not installed");if(void 0===mr("BuildInfo.packageName",a))throw cc("cordova-plugin-buildinfo is not installed");if("function"!=typeof mr("cordova.plugins.browsertab.openUrl",a))throw cc("cordova-plugin-browsertab is not installed");if("function"!=typeof mr("cordova.InAppBrowser.open",a))throw cc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")})))},e.Ob=function(e,t){return t(new I("operation-not-supported-in-this-environment")),bt()},e.Mb=function(){return wt(new I("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return wt(new I("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=bt().then((function(){return Co(t),hc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new No(t,r,null,o,new I("no-auth-event"),null,i),u=mr("BuildInfo.packageName",a);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=mr("BuildInfo.displayName",a),l={};if(gr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!gr().toLowerCase().match(/android/))return wt(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new ac;ic(t,e),e=[];var n=8*t.g;t.c<56?ic(t,nc,56-t.c):ic(t,nc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(rc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(o),l.sessionId=o;var h=ou(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set($u,s.w(),t)})).then((function(){var t=mr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=mr("cordova.plugins.browsertab.openUrl",a)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=mr("cordova.InAppBrowser.open",a)))throw new I("invalid-cordova-configuration");t=gr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new ft((function(e,t){u=function(){var t=mr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||vn(2e3).then((function(){t(new I("redirect-cancelled-by-user"))}))},l=function(){xr()&&c()},o.addEventListener("resume",c,!1),gr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return fc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Sa(u),i.c=null}))},e.Ea=function(e){this.b.push(e),hc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new No("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Sa=function(e){H(this.b,(function(t){return t==e}))};var pc={name:"pendingRedirect",F:"session"};function vc(e){return Wu(e.b,pc,e.a)}function gc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Pc,this.C=new Mc,this.g=new dc(Ac(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=mc(this.D,this.v,this.m,T,this.J)}function mc(e,t,n,r,i){var o=_a.SDK_VERSION||null;return new(ar()?uc:tu)(e,t,n,o,r,i)}function yc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function bc(e){e.a.Xb()&&yc(e).o((function(t){var n=new No("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Tc(t)&&e.s(n)})),e.a.Tb()||Oc(e.b)}function wc(e,t){K(e.h,t)||e.h.push(t),e.f||(t=e.g).b.get(pc,t.a).then((function(e){return"pending"==e})).then((function(t){t?vc(e.g).then((function(){yc(e).o((function(t){var n=new No("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Tc(t)&&e.s(n)}))})):bc(e)})).o((function(){bc(e)}))}function _c(e,t){H(e.h,(function(e){return e==t}))}gc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=mc(this.D,this.v,this.m,null,this.J),this.i={}},gc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Oc(this.b),t};var Ec=new Ar(2e3,1e4),Ic=new Ar(3e4,6e4);function Sc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Tc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function kc(e,t,n,r,i){var o,a;return(a=e.g).b.set(pc,"pending",a.a).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Tc(t))throw new I("operation-not-supported-in-this-environment");return o=t,vc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new ft((function(){})):vc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Cc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Ec.get())}gc.prototype.qa=function(){return this.b.qa()};var Nc={};function Ac(e,t,n){return e=e+":"+t,n?e+":"+n.url:e}function xc(e,t,n,r){var i=Ac(t,n,r);return Nc[i]||(Nc[i]=new gc(e,t,n,r)),Nc[i]}function Pc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Oc(e){e.g||(e.g=!0,Lc(e,!1,null,null))}function Rc(e){e.g&&!e.i&&Lc(e,!1,null,null)}function Dc(e,t){if(e.b=function(){return bt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Lc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return wt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Dc(e,n):Dc(e,{user:null}),e.f=[],e.c=[]}function Mc(){}function Fc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function jc(e,t){this.a=t,jr(this,"verificationId",e)}function Uc(e,t,n,r){return new So(e).fb(t,n).then((function(e){return new jc(e,r)}))}function qc(e){var t=Oi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ur(this,{token:e,expirationTime:Or(1e3*t.exp),authTime:Or(1e3*t.auth_time),issuedAtTime:Or(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Vc(e,t,n){var r=t&&t[zc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=le(t),this.g=n,this.c=new Gi(null,r),this.b=[];var i=this;q(t[Bc]||[],(function(e){(e=zr(e))&&i.b.push(e)})),jr(this,"auth",this.a),jr(this,"session",this.c),jr(this,"hints",this.b)}Pc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Pc.prototype.h=function(e,t){var n,r,i,o;e?(this.reset(),this.g=!0,n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Lc(this,!0,null,e.a),bt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Lc(e,s,t,null)})).o((function(t){Lc(e,s,null,t)}))}(this,e,t):wt(new I("invalid-auth-event")):(Lc(this,!1,null,null),bt())):wt(new I("invalid-auth-event"))},Pc.prototype.qa=function(){var e=this;return new ft((function(t,n){var r,i;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=e,i=new I("timeout"),r.a&&r.a.cancel(),r.a=vn(Ic.get()).then((function(){r.b||(r.g=!0,Lc(r,!0,null,i))})))}))},Mc.prototype.h=function(e,t){var n,r,i,o,a;e?(n=e.c,r=e.b,e.a?(t.na(e.c,null,e.a,e.b),bt()):t.Fa(n,r)?(i=t,o=(e=e).b,a=e.c,i.Fa(a,o)(e.g,e.f,e.T(),e.i).then((function(e){i.na(a,e,null,o)})).o((function(e){i.na(a,null,e,o)}))):wt(new I("invalid-auth-event"))):wt(new I("invalid-auth-event"))},jc.prototype.confirm=function(e){return e=To(this.verificationId,e),this.a(e)};var Bc="mfaInfo",zc="mfaPendingCredential";function Kc(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new Vc(e,t,n),jr(this,"resolver",this.b)}function Wc(e,t,n){if(e&&p(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Kc(t,e.serverResponse,n,e.message)}catch(e){}return null}function Hc(){}function Gc(e){jr(this,"factorId",e.fa),this.a=e}function Qc(e){if(Gc.call(this,e),this.a.fa!=So.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function $c(e,t){for(var n in Ut.call(this,e),t)this[n]=t[n]}function Yc(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),Xt(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&q(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[Hr]=e.uid),e.displayName&&(r[Kr]=e.displayName),e.enrollmentTime&&(r[Wr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[Gr]=e.phoneNumber);try{t=new Qr(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),Xc(this,n)}function Xc(e,t){e.b=t,jr(e,"enrolledFactors",t)}function Jc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Zc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function el(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function tl(e,t){e.b=Pi(t[qa]||""),e.a=t.refreshToken,el(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function nl(e,t){this.a=e||null,this.b=t||null,Ur(this,{lastSignInTime:Or(t||null),creationTime:Or(e||null)})}function rl(e,t,n,r,i,o){Ur(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function il(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r,i=_a.SDK_VERSION?vr(_a.SDK_VERSION):null;this.a=new ja(this.l,A(T),i),e.emulatorConfig&&Ha(this.a,e.emulatorConfig),this.b=new Zc(this.a),fl(this,t[qa]),tl(this.b,t),jr(this,"refreshToken",this.b.a),vl(this,n||{}),ln.call(this),this.R=!1,this.s&&br()&&(this.i=xc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=(r=this,new Jc((function(){return r.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var e=r.b.c-Date.now()-3e5;return 0<e?e:0}))),this.aa=b(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){Ha(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){sl(o,e.f)},this.ba=null,this.O=new Yc(this,n),jr(this,"multiFactor",this.O)}function ol(e,t){e.ja&&en(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&Xt(t,"languageCodeChanged",e.Oa)}function al(e,t){e.X&&en(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&Xt(t,"emulatorConfigChanged",e.Aa)}function sl(e,t){e.$=t,Qa(e.a,_a.SDK_VERSION?vr(_a.SDK_VERSION,e.$):null)}function ul(e,t){e.ba&&en(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&Xt(t,"frameworkChanged",e.Ba)}function cl(e){try{return _a.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function ll(e){e.D||e.u.b||(e.u.start(),en(e,"tokenChanged",e.aa),Xt(e,"tokenChanged",e.aa))}function hl(e){en(e,"tokenChanged",e.aa),e.u.stop()}function fl(e,t){e.za=t,jr(e,"_lat",t)}function dl(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Et(t).then((function(){return e}))}function pl(e){e.i&&!e.R&&(e.R=!0,wc(e.i,e))}function vl(e,t){Ur(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new nl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function gl(){}function ml(e){return bt().then((function(){if(e.D)throw new I("app-deleted")}))}function yl(e){return B(e.providerData,(function(e){return e.providerId}))}function bl(e,t){t&&(wl(e,t.providerId),e.providerData.push(t))}function wl(e,t){H(e.providerData,(function(e){return e.providerId==t}))}function _l(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&jr(e,t,n)}function El(e,t){var n,r;e!=t&&(Ur(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?jr(e,"metadata",new nl((r=t.metadata).a,r.b)):jr(e,"metadata",new nl),q(t.providerData,(function(t){bl(e,t)})),n=e.b,r=t.b,n.b=r.b,n.a=r.a,n.c=r.c,jr(e,"refreshToken",e.b.a),Xc(e.O,t.O.b))}function Il(e){return e.I().then((function(t){var n,r,i=e.isAnonymous;return r=t,Ks((n=e).a,_s,{idToken:r}).then(b(n.Kc,n)).then((function(){return i||_l(e,"isAnonymous",!1),t}))}))}function Sl(e,t){t[qa]&&e.za!=t[qa]&&(tl(e.b,t),e.dispatchEvent(new $c("tokenChanged")),fl(e,t[qa]),_l(e,"refreshToken",e.b.a))}function Tl(e,t){return Il(e).then((function(){if(K(yl(e),t))return dl(e).then((function(){throw new I("provider-already-linked")}))}))}function kl(e,t,n){return qr({user:e,credential:ko(t),additionalUserInfo:t=Fi(t),operationType:n})}function Cl(e,t){return Sl(e,t),e.reload().then((function(){return e}))}function Nl(e,t,n,r,i){if(!br())return wt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return wt(e.h);var o=Mi(n.providerId),a=kr(e.uid+":::"),s=null,u=nr(s=(!Er()||sr())&&e.s&&n.isOAuthProvider?ou(e.s,e.l,e.m,t,n,null,a,_a.SDK_VERSION||null,null,null,e.tenantId):s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(xl(e),!i)return e.I().then((function(){}))})).then((function(){return Sc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new ft((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Cc(e.i,e,t,u,a)}))})).then((function(e){return u&&tr(u),e?qr(e):null})).o((function(e){throw u&&tr(u),e})),Pl(e,r,i)}function Al(e,t,n,r,i){if(!br())return wt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return wt(e.h);var o=null,a=kr(e.uid+":::");return r=r().then((function(){if(xl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,dl(e)})).then((function(t){return e.ha?(t=e.ha).b.set(Dl,e.w(),t.a):t})).then((function(){return kc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Ll(e.ha);throw o})).then((function(){if(o)throw o})),Pl(e,r,i)}function xl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Pl(e,t,n){var r,i=(t=t,n=n,(r=e).h&&!n?(t.cancel(),wt(r.h)):t.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(r.h||r.dispatchEvent(new $c("userInvalidated")),r.h=e),e})));return e.J.push(i),i.oa((function(){W(e.J,i)})),i.o((function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Wc(t.w(),cl(e),b(e.jc,e)):n)||t}))}function Ol(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[qa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new il(t,n,e);return e.providerData&&q(e.providerData,(function(e){e&&bl(i,qr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Rl(e){this.a=e,this.b=Bu()}Vc.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=le(t.f);return delete n[Bc],delete n[zc],fe(n,e),t.g(n)}))},_(Kc,I),Hc.prototype.sb=function(e,t,n){return t.type==Qi?(o=this,a=e,s=n,t.Ha().then((function(e){return e={idToken:e},void 0!==s&&(e.displayName=s),fe(e,{phoneVerificationInfo:Io(o.a)}),Ks(a,bs,e)}))):(r=this,i=e,t.Ha().then((function(e){return fe(e={mfaPendingCredential:e},{phoneVerificationInfo:Io(r.a)}),Ks(i,ws,e)})));var r,i,o,a,s},_(Gc,Hc),_(Qc,Gc),_($c,Ut),(e=Yc.prototype).yc=function(e){var t;Xc(this,(e=e.hd,t=[],q(e.mfaInfo||[],(function(e){(e=zr(e))&&t.push(e)})),t))},e.Rb=function(){return this.a.I().then((function(e){return new Gi(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Sl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ks(r,zs,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=V(t.b,(function(e){return e.uid!=n}));return Xc(t,r),Sl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(e){return e.w()}))}}},Jc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=vn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then(Pr).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},Jc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Zc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Zc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?wt(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return n=e.f,r=t,new ft((function(e,t){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?$a(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?t(Hs(n)):n.access_token&&n.refresh_token?e(n):t(new I("internal-error")):t(new I("network-request-failed"))}),"POST",qn(r).toString(),n.g,n.m.get()):t(new I("internal-error"))})).then((function(t){return e.b=Pi(t.access_token),e.a=t.refresh_token,el(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}));var n,r}(this,{grant_type:"refresh_token",refresh_token:this.a}):bt(null):bt({accessToken:this.b.toString(),refreshToken:this.a})},nl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(il,ln),il.prototype.wa=function(e){this.ya=e,Wa(this.a,e)},il.prototype.la=function(){return this.ya},il.prototype.Ga=function(){return Q(this.$)},il.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},jr(il.prototype,"providerId","firebase"),(e=il.prototype).reload=function(){var e=this;return Pl(this,ml(this).then((function(){return Il(e).then((function(){return dl(e)})).then(gl)})))},e.oc=function(e){return this.I(e).then((function(e){return new qc(e)}))},e.I=function(e){var t=this;return Pl(this,ml(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.za&&(fl(t,e.accessToken),t.dispatchEvent(new $c("tokenChanged"))),_l(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");vl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t,n=(t=(t=e).providerUserInfo)&&t.length?B(t,(function(e){return new rl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[],r=0;r<n.length;r++)bl(this,n[r]);_l(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new $c("userReloaded",{hd:e}))},e.Lc=function(e){return Mr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Pl(this,e.c(this.a,this.uid).then((function(e){return Sl(t,e),n=kl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Mr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Pl(this,Tl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=kl(t,e,"link"),Cl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Pl(this,Tl(this,"phone").then((function(){return Uc(cl(n),e,t,b(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Pl(this,bt().then((function(){return Uc(cl(n),e,t,b(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Pl(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Sl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Pl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Sl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Pl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Sl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return ml(this);var t=this;return Pl(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Sl(t,e),_l(t,"displayName",e.displayName||null),_l(t,"photoURL",e.photoUrl||null),q(t.providerData,(function(e){"password"===e.providerId&&(jr(e,"displayName",t.displayName),jr(e,"photoURL",t.photoURL))})),dl(t)})).then(gl))},e.cd=function(e){var t=this;return Pl(this,Il(this).then((function(n){return K(yl(t),e)?Ks(t.a,gs,{idToken:n,deleteProvider:[e]}).then((function(e){var n={};return q(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),q(yl(t),(function(e){n[e]||wl(t,e)})),n[So.PROVIDER_ID]||jr(t,"phoneNumber",null),dl(t)})):dl(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return Pl(this,this.I().then((function(t){return Ks(e.a,vs,{idToken:t})})).then((function(){e.dispatchEvent(new $c("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");ol(e,null),al(e,null),ul(e,null),e.J=[],e.D=!0,hl(e),jr(e,"refreshToken",null),e.i&&_c(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):null},e.Ec=function(e){var t=this;return Nl(this,"linkViaPopup",e,(function(){return Tl(t,e.providerId).then((function(){return dl(t)}))}),!1)},e.Nc=function(e){return Nl(this,"reauthViaPopup",e,(function(){return bt()}),!0)},e.Fc=function(e){var t=this;return Al(this,"linkViaRedirect",e,(function(){return Tl(t,e.providerId)}),!1)},e.Oc=function(e){return Al(this,"reauthViaRedirect",e,(function(){return bt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,this.I().then((function(n){return us(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=kl(i,e,"link"),Cl(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,bt().then((function(){return Xi(cs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=kl(i,e,"reauthenticate"),Sl(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Pl(this,this.I().then((function(t){return n=t,void 0===e||ce(e)?{}:Ni(new yi(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Pl(this,this.I().then((function(e){return r=e,void 0===t||ce(t)?{}:Ni(new yi(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Pl(this,e=Xi(bt(e),n.uid).then((function(e){return t=kl(n,e,"reauthenticate"),Sl(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&fe(e,this.metadata.w()),q(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),fe(e,this.O.w()),e};var Dl={name:"redirectUser",F:"session"};function Ll(e){return Wu(e.b,Dl,e.a)}function Ml(e){var t,n,r,i;this.a=e,this.b=Bu(),this.c=null,this.f=(n=Ul("local"),r=Ul("session"),i=Ul("none"),function(e,t,n){var r=Ku(t,n),i=zu(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Tr(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((t=this).b,n,t.a).then((function(){return t.b.get(r,t.a)})).then((function(e){return e?r:t.b.get(i,t.a).then((function(e){return e?i:t.b.get(n,t.a).then((function(e){return e?n:t.b.get(jl,t.a).then((function(e){return e?Ul(e):n}))}))}))})).then((function(e){return t.c=e,Fl(t,e.F)})).o((function(){t.c||(t.c=n)}))),this.b.addListener(Ul("local"),this.a,b(this.g,this))}function Fl(e,t){var n,r,i=[];for(n in qu)qu[n]!==t&&i.push(Wu(e.b,Ul(qu[n]),e.a));return i.push(Wu(e.b,jl,e.a)),r=i,new ft((function(e,t){var n=r.length,i=[];if(n)for(var o=function(t,r){n--,i[t]=r,0==n&&e(i)},a=function(e){t(e)},s=0;s<r.length;s++)_t(r[s],w(o,s),a);else e(i)}))}Ml.prototype.g=function(){var e=this,t=Ul("local");zl(this,(function(){return bt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Fl(e,"local").then((function(){e.c=t}))}))}))};var jl={name:"persistence",F:"session"};function Ul(e){return{name:"authUser",F:e}}function ql(e,t){return zl(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Vl(e){return zl(e,(function(){return Wu(e.b,e.c,e.a)}))}function Bl(e,t,n){return zl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Ol(e||{})}))}))}function zl(e,t){return e.f=e.f.then(t,t),e.f}function Kl(e){if(this.l=!1,jr(this,"settings",new Fc),jr(this,"app",e),!this.app.options||!this.app.options.apiKey)throw new I("invalid-api-key");var t,n,r,i,o,a;e=_a.SDK_VERSION?vr(_a.SDK_VERSION):null,this.a=new ja(this.app.options&&this.app.options.apiKey,A(T),e),this.R=[],this.s=[],this.O=[],this.hb=_a.INTERNAL.createSubscribe(b(this.zc,this)),this.X=void 0,this.bc=_a.INTERNAL.createSubscribe(b(this.Ac,this)),Yl(this,null),this.i=new Ml(this.app.options.apiKey+":"+this.app.name),this.D=new Rl(this.app.options.apiKey+":"+this.app.name),this.$=th(this,(n=(t=this).app.options.authDomain,e=function(e){var t=function(e,t){return e.b.get(Dl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Ol(e||{})}))}(e.D,e.app.options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Ll(e.D)}));return th(e,t)}(t).then((function(){return Bl(t.i,n,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ql(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Vl(t.i)}))):null})).then((function(e){Yl(t,e||null)})),th(t,e))),this.h=th(this,(r=this).$.then((function(){return $l(r)})).o((function(){})).then((function(){if(!r.l)return r.ja()})).o((function(){})).then((function(){var e;r.l||(r.ba=!0,(e=r.i).b.addListener(Ul("local"),e.a,r.ja))}))),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.ya=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&br()&&(i.Oa=i.$.then((function(){var e;if(!i.l)return i.b=xc(o,a,i.app.name,i.P),wc(i.b,i),Jl(i)&&pl(Jl(i)),i.m&&(pl(i.m),(e=i.m).wa(i.la()),ol(e,i),sl(e=i.m,i.J),ul(e,i),Ha((e=i.m).a,i.P),al(e,i),i.m=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,ln.call(this),e=this,Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){var e;return this.P?qr({protocol:(e=Nn(this.P.url)).c,host:e.a,port:e.g,options:qr({disableWarnings:this.P.ec})}):null},enumerable:!1}),this.J=[],this.P=null}function Wl(e){Ut.call(this,"languageCodeChanged"),this.h=e}function Hl(e){Ut.call(this,"emulatorConfigChanged"),this.c=e}function Gl(e){Ut.call(this,"frameworkChanged"),this.f=e}function Ql(e){return e.Oa||wt(new I("auth-domain-config-required"))}function $l(e){if(!br())return wt(new I("operation-not-supported-in-this-environment"));var t=Ql(e).then((function(){return e.b.qa()})).then((function(e){return e?qr(e):null}));return th(e,t)}function Yl(e,t){var n,r;Jl(e)&&(n=Jl(e),r=e.Ba,H(n.S,(function(e){return e==r})),en(Jl(e),"tokenChanged",e.ya),en(Jl(e),"userDeleted",e.za),en(Jl(e),"userInvalidated",e.Aa),hl(Jl(e))),t&&(t.S.push(e.Ba),Xt(t,"tokenChanged",e.ya),Xt(t,"userDeleted",e.za),Xt(t,"userInvalidated",e.Aa),0<e.u&&ll(t)),jr(e,"currentUser",t),t&&(t.wa(e.la()),ol(t,e),sl(t,e.J),ul(t,e),Ha(t.a,e.P),al(t,e))}function Xl(e,t){var n=null,r=null;return th(e,t.then((function(t){return n=ko(t),r=Fi(t),function(e,t){var n={};return n.apiKey=e.app.options.apiKey,n.authDomain=e.app.options.authDomain,n.appName=e.app.name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return r=n,i=t,o=e.D,a=e.Ga(),s=new il(r,i),o&&(s.ha=o),a&&sl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(t){return Jl(e)&&t.uid==Jl(e).uid?El(Jl(e),t):(Yl(e,t),pl(t)),e.da(t)})).then((function(){eh(e)}))}(e,t)}),(function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Wc(t.w(),e,b(e.kc,e)):n)||t})).then((function(){return qr({user:Jl(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Jl(e){return e.currentUser}function Zl(e){return Jl(e)&&Jl(e)._lat||null}function eh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Zl(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](Zl(e))}}function th(e,t){return e.R.push(t),t.oa((function(){W(e.R,t)})),t}function nh(){}function rh(){this.a={},this.b=1e12}Ml.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in qu)if(qu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(cr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!bu()&&"none"!==e)throw n;break;default:if(!yr()&&"none"!==e)throw n}}(e),zl(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Fl(n,e)})).then((function(){if(n.c=Ul(e),t)return n.b.set(n.c,t,n.a)})):bt()}))},_(Kl,ln),_(Wl,Ut),_(Hl,Ut),_(Gl,Ut),(e=Kl.prototype).xb=function(e){return th(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,Wa(this.a,this.aa),this.dispatchEvent(new Wl(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=t=!!t&&!!t.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!n&&or().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)})),this.P={url:e,ec:t},this.settings.ib=!0,Ha(this.a,this.P),this.dispatchEvent(new Hl(this.P))}var n},e.Gc=function(e){this.J.push(e),Qa(this.a,_a.SDK_VERSION?vr(_a.SDK_VERSION,this.J):null),this.dispatchEvent(new Gl(this.J))},e.Ga=function(){return Q(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:Jl(this)&&Jl(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Xl(i,ss(i.a,o))}))},e.Xc=function(e){if(!br())return wt(new I("operation-not-supported-in-this-environment"));var t=this,n=Mi(e.providerId),r=kr(),i=null,o=nr(i=(!Er()||sr())&&this.app.options.authDomain&&e.isOAuthProvider?ou(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,_a.SDK_VERSION||null,null,null,this.T(),this.P):i,n&&n.ua,n&&n.ta);return th(this,n=Ql(this).then((function(n){return Sc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new ft((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Cc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&tr(o),e?qr(e):null})).o((function(e){throw o&&tr(o),e})))},e.Yc=function(e){if(!br())return wt(new I("operation-not-supported-in-this-environment"));var t=this;return th(this,Ql(this).then((function(){return zl(e=t.i,(function(){return e.b.set(jl,e.c.F,e.a)}));var e})).then((function(){return kc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return $l(this).then((function(t){return e.b&&Rc(e.b.b),t})).o((function(t){throw e.b&&Rc(e.b.b),t}))},e.dd=function(e){if(!e)return wt(new I("null-user"));if(this.S!=e.tenantId)return wt(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=e,i=n,o=t.D,a=t.Ga(),s=r.b,(n={})[qa]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new il(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),a&&sl(i,a),El(i,r),i);return th(this,this.h.then((function(){if(t.app.options.apiKey!=e.l)return u.reload()})).then((function(){return Jl(t)&&e.uid==Jl(t).uid?(El(Jl(t),e),t.da(e)):(Yl(t,u),pl(u),t.da(u))})).then((function(){eh(t)})))},e.Ab=function(){var e=this;return th(this,this.h.then((function(){return e.b&&Rc(e.b.b),Jl(e)?(Yl(e,null),Vl(e.i).then((function(){eh(e)}))):bt()})))},e.Zc=function(){var e=this;return Bl(this.i,this.app.options.authDomain).then((function(t){if(!e.l){var n,r;if((n=Jl(e)&&t)&&(n=Jl(e).uid,r=t.uid,n=null!=n&&""!==n&&null!=r&&""!==r&&n==r),n)return El(Jl(e),t),Jl(e).I();(Jl(e)||t)&&(Yl(e,t),t&&(pl(t),t.ha=e.D),e.b&&wc(e.b,e),eh(e))}}))},e.da=function(e){return ql(this.i,e)},e.mc=function(){eh(this),this.da(Jl(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return Xl(t,bt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Jl(t))}))},e.Ac=function(e){var t,n,r=this;n=function(){e.next(Jl(r))},(t=this).O.push(n),th(t,t.h.then((function(){!t.l&&K(t.O,n)&&t.X!==t.getUid()&&(t.X=t.getUid(),n(Zl(t)))})))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(Jl(r)):"function"==typeof e.next&&e.next(Jl(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(Jl(r)):"function"==typeof e.next&&e.next(Jl(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return th(this,this.h.then((function(){return Jl(t)?Jl(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return Xl(t,Ks(t.a,js,{token:e}))})).then((function(e){var n=e.user;return _l(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Xl(n,Ks(n.a,Us,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Xl(n,Ks(n.a,ds,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return Xl(t,e.ka(t.a))}))},e.Sc=function(e){return Mr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=Jl(e);if(t&&t.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Xl(e,e.a.zb()).then((function(t){var n=t.user;return _l(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Jl(this)&&Jl(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Jl(this)&&ll(Jl(this))},e.Pc=function(e){var t=this;q(this.s,(function(n){n==e&&t.u--})),this.u<0&&(this.u=0),0==this.u&&Jl(this)&&hl(Jl(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),th(this,this.h.then((function(){t.l||K(t.s,e)&&e(Zl(t))})))},e.removeAuthTokenListener=function(e){H(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(Ul("local"),e.a,this.ja),this.b&&(_c(this.b,this),Rc(this.b.b)),Promise.resolve()},e.hc=function(e){return th(this,Ks(this.a,ps,{identifier:e,continueUri:wr()?Jn():"http://localhost"}).then((function(e){return e.signinMethods||[]})))},e.Bc=function(e){return!!wo(e)},e.wb=function(e,t){var n=this;return th(this,bt().then((function(){var e=new yi(t);if(!e.c)throw new I("argument-error",_i+" must be true when sending sign in link to email");return Ni(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return th(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return th(this,this.a.Ra(e).then((function(e){return new $r(e)})))},e.jb=function(e){return th(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return th(this,bt().then((function(){return void 0===t||ce(t)?{}:Ni(new yi(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return th(this,Uc(this,e,t,b(this.$a,this)))},e.Vc=function(e,t){var n=this;return th(this,bt().then((function(){var r=t||Jn(),i=bo(e,r);if(!(r=wo(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.$a(i)})))},nh.prototype.render=function(){},nh.prototype.reset=function(){},nh.prototype.getResponse=function(){},nh.prototype.execute=function(){};var ih=null;function oh(e,t){return(t=ah(t))&&e.a[t]||null}function ah(e){return(e=void 0===e?1e12:e)?e.toString():null}function sh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=tt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():Xt(this.f,"click",this.i)}function uh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function ch(){}function lh(){}rh.prototype.render=function(e,t){return this.a[this.b.toString()]=new sh(e,t),this.b++},rh.prototype.reset=function(e){var t=oh(this,e);e=ah(e),t&&e&&(t.delete(),delete this.a[e])},rh.prototype.getResponse=function(e){return(e=oh(this,e))?e.getResponse():null},rh.prototype.execute=function(e){(e=oh(this,e))&&e.execute()},sh.prototype.getResponse=function(){return uh(this),this.b},sh.prototype.execute=function(){uh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},sh.prototype.delete=function(){uh(this),this.g=!0,clearTimeout(this.a),this.a=null,en(this.f,"click",this.i)},jr(ch,"FACTOR_ID","phone"),lh.prototype.g=function(){return bt(ih=ih||new rh)},lh.prototype.c=function(){};var hh=null;function fh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var dh=new pe(ye,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ph=new Ar(3e4,6e4);fh.prototype.g=function(e){var t=this;return new ft((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),ph.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){var o;a.grecaptcha?(t.f=e,o=a.grecaptcha.render,a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new I("internal-error"))),delete a[t.a]},bt(Pa(Ee(dh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},fh.prototype.c=function(){this.b--};var vh=null;function gh(e,t,n,r,i,o,s){if(jr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,s=s?hh=hh||new lh:vh=vh||new fh,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[bh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[wh],!a.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!tt(t)||!this.i&&tt(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ja(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[mh];this.a[mh]=function(e){var t;_h(u,e),"function"==typeof c?c(e):"string"!=typeof c||"function"==typeof(t=mr(c,a))&&t(e)};var l=this.a[yh];this.a[yh]=function(){var e;_h(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(e=mr(l,a))&&e()}}var mh="callback",yh="expired-callback",bh="sitekey",wh="size";function _h(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Eh(e,t){return e.h.push(t),t.oa((function(){W(e.h,t)})),t}function Ih(e){if(e.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Sh(e,t,n){var r=!1;try{this.b=n||_a.app()}catch(e){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=_a.SDK_VERSION?vr(_a.SDK_VERSION,o):null,gh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,A(T),r)}function Th(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],i<0||i>=kh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=kh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=gh.prototype).Ia=function(){var e=this;return this.f||(this.f=Eh(this,bt().then((function(){if(wr()&&!ur())return or();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ks(e.s,Cs,{})})).then((function(t){e.a[bh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t}))))},e.render=function(){Ih(this);var e=this;return Eh(this,this.Ia().then((function(){var t,n;return null===e.c&&(n=e.v,e.i||(t=tt(n),n=function(){var e,t=arguments,n=document,r=String(t[0]),i=t[1];return!et&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ue(i.name),'"'),i.type&&(r.push(' type="',Ue(i.type),'"'),fe(e={},i),delete e.type,i=e),r.push(">"),r=r.join("")),r=at(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):nt(r,i)),2<t.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(d(o)){a="function"==typeof o.item;break e}}a=!1}q(a?Q(o):o,r)}}}(n,r,t),r}("DIV"),t.appendChild(n)),e.c=e.g.render(n,e.a)),e.c})))},e.verify=function(){Ih(this);var e=this;return Eh(this,this.render().then((function(t){return new ft((function(n){var r,i=e.g.getResponse(t);i?n(i):(r=function(t){var i;t&&(i=r,H(e.l,(function(e){return e==i})),n(t))},e.l.push(r),e.i&&e.g.execute(e.c))}))})))},e.reset=function(){Ih(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Ih(this),this.D=!0,this.m.c();for(var e,t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(t=tt(this.v);e=t.firstChild;)t.removeChild(e)},_(Sh,gh);var kh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ch(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Nh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Ah(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function xh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Ph(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Oh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Rh(e,t){return p(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Dh(e){return p(e)&&"string"==typeof e.uid}function Lh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Mh(e,t){for(var n in t){var r=t[n].name;e[r]=Uh(r,e[n],t[n].j)}}function Fh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w((function(e){return this[e]}),n),set:w((function(e,t,n,r){Th(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function jh(e,t,n,r){e[t]=Uh(t,n,r)}function Uh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Th(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=(e=(e=e).split("."))[e.length-1];for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Mh(Kl.prototype,{jb:{name:"applyActionCode",j:[Ch("code")]},Ra:{name:"checkActionCode",j:[Ch("code")]},nb:{name:"confirmPasswordReset",j:[Ch("code"),Ch("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ch("email"),Ch("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ch("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ch("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lh(Ah(),xh(),"nextOrObserver"),xh("opt_error",!0),xh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lh(Ah(),xh(),"nextOrObserver"),xh("opt_error",!0),xh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Ch("email"),Lh(Ah("opt_actionCodeSettings",!0),Ph(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Ch("email"),Ah("actionCodeSettings")]},xb:{name:"setPersistence",j:[Ch("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Oh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Oh()]},Tc:{name:"signInWithCustomToken",j:[Ch("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ch("email"),Ch("password")]},Vc:{name:"signInWithEmailLink",j:[Ch("email"),Ch("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ch("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Lh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof il)}},Ph(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ch(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ch("url"),Ah("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ch("code")]}}),Fh(Kl.prototype,{lc:{name:"languageCode",kb:Lh(Ch(),Ph(),"languageCode")},ti:{name:"tenantId",kb:Lh(Ch(),Ph(),"tenantId")}}),(Kl.Persistence=qu).LOCAL="local",Kl.Persistence.SESSION="session",Kl.Persistence.NONE="none",Mh(il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Nh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Nh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Oh()]},qb:{name:"linkWithCredential",j:[Oh()]},Dc:{name:"linkWithPhoneNumber",j:[Ch("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Oh()]},tb:{name:"reauthenticateWithCredential",j:[Oh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ch("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Lh(Ah("opt_actionCodeSettings",!0),Ph(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ch(null,!0)]},cd:{name:"unlink",j:[Ch("provider")]},Bb:{name:"updateEmail",j:[Ch("email")]},Cb:{name:"updatePassword",j:[Ch("password")]},ed:{name:"updatePhoneNumber",j:[Oh("phone")]},Db:{name:"updateProfile",j:[Ah("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Ch("email"),Lh(Ah("opt_actionCodeSettings",!0),Ph(null,!0),"opt_actionCodeSettings",!0)]}}),Mh(rh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Mh(nh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Mh(ft.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Fh(Fc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Nh("appVerificationDisabledForTesting")}}),Mh(jc.prototype,{confirm:{name:"confirm",j:[Ch("verificationCode")]}}),jh(Yi,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[ro,mo,Eo,eo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Lh(Ch(),Ah(),"json")]),jh(yo,"credential",(function(e,t){return new go(e,t)}),[Ch("email"),Ch("password")]),Mh(go.prototype,{w:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(so.prototype,{Ca:{name:"addScope",j:[Ch("scope")]},Ka:{name:"setCustomParameters",j:[Ah("customOAuthParameters")]}}),jh(so,"credential",uo,[Lh(Ch(),Ah(),"token")]),jh(yo,"credentialWithLink",bo,[Ch("email"),Ch("emailLink")]),Mh(co.prototype,{Ca:{name:"addScope",j:[Ch("scope")]},Ka:{name:"setCustomParameters",j:[Ah("customOAuthParameters")]}}),jh(co,"credential",lo,[Lh(Ch(),Ah(),"token")]),Mh(ho.prototype,{Ca:{name:"addScope",j:[Ch("scope")]},Ka:{name:"setCustomParameters",j:[Ah("customOAuthParameters")]}}),jh(ho,"credential",fo,[Lh(Ch(),Lh(Ah(),Ph()),"idToken"),Lh(Ch(),Ph(),"accessToken",!0)]),Mh(po.prototype,{Ka:{name:"setCustomParameters",j:[Ah("customOAuthParameters")]}}),jh(po,"credential",vo,[Lh(Ch(),Ah(),"token"),Ch("secret",!0)]),Mh(ao.prototype,{Ca:{name:"addScope",j:[Ch("scope")]},credential:{name:"credential",j:[Lh(Ch(),Lh(Ah(),Ph()),"optionsOrIdToken"),Lh(Ch(),Ph(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ah("customOAuthParameters")]}}),Mh(to.prototype,{w:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(Ji.prototype,{w:{name:"toJSON",j:[Ch(null,!0)]}}),jh(So,"credential",To,[Ch("verificationId"),Ch("verificationCode")]),Mh(So.prototype,{fb:{name:"verifyPhoneNumber",j:[Lh(Ch(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Rh(e.session,Qi)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Rh(e.session,$i)&&Dh(e.multiFactorHint):e.session&&e.multiFactorUid?Rh(e.session,$i)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Mh(_o.prototype,{w:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(I.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(Do.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(Ro.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(Kc.prototype,{toJSON:{name:"toJSON",j:[Ch(null,!0)]}}),Mh(Vc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),Mh(Yc.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Ch("displayName",!0)]},bd:{name:"unenroll",j:[Lh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Dh},Ch(),"multiFactorInfoIdentifier")]}}),Mh(Sh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),jh(ci,"parseLink",mi,[Ch("link")]),jh(ch,"assertion",(function(e){return new Qc(e)}),[Oh("phone")]),function(){if(void 0===_a||!_a.INTERNAL||!_a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Yr,VERIFY_AND_CHANGE_EMAIL:Jr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kl,AuthCredential:Yi,Error:I};jh(e,"EmailAuthProvider",yo,[]),jh(e,"FacebookAuthProvider",so,[]),jh(e,"GithubAuthProvider",co,[]),jh(e,"GoogleAuthProvider",ho,[]),jh(e,"TwitterAuthProvider",po,[]),jh(e,"OAuthProvider",ao,[Ch("providerId")]),jh(e,"SAMLAuthProvider",oo,[Ch("providerId")]),jh(e,"PhoneAuthProvider",So,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Kl)}}]),jh(e,"RecaptchaVerifier",Sh,[Lh(Ch(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Ah("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof _a.app.App)}}]),jh(e,"ActionCodeURL",ci,[]),jh(e,"PhoneMultiFactorGenerator",ch,[]),_a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Kl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),_a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),_a.registerVersion("@firebase/auth","0.16.5"),_a.INTERNAL.extendNamespace({User:il})}()}.apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ea=(Ia.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),No(t))},Ia.prototype.get=function(e){return null==(e=this.domStorage_.getItem(this.prefixedName_(e)))?null:Co(e)},Ia.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},Ia.prototype.prefixedName_=function(e){return this.prefix_+e},Ia.prototype.toString=function(){return this.domStorage_.toString()},Ia);function Ia(e){this.domStorage_=e,this.prefix_="firebase:"}var Sa=(Ta.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},Ta.prototype.get=function(e){return xo(this.cache_,e)?this.cache_[e]:null},Ta.prototype.remove=function(e){delete this.cache_[e]},Ta);function Ta(){this.cache_={},this.isInMemoryStorage=!0}function ka(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i,o=e.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,oo(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(r)-56320)),o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t}(e);return(e=new Do).update(t),e=e.digest(),so.encodeByteArray(e)}function Ca(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Fa.apply(void 0,eo([],Zi(e)));La.error(n)}function Na(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function Aa(e,t){return e===t?0:e<t?-1:1}function xa(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+No(t))}function Pa(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}var Oa,Ra=(kn=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ea(t)}}catch(e){}return new Sa})("localStorage"),Da=kn("sessionStorage"),La=new aa("@firebase/database"),Ma=(Oa=1,function(){return Oa++}),Fa=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Fa.apply(null,i):n+="object"==typeof i?No(i):i,n+=" "}return n},ja=null,Ua=!0,qa=function(e,t){oo(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(La.logLevel=ea.VERBOSE,ja=La.log.bind(La),t&&Da.set("logging_enabled",!0)):"function"==typeof e?ja=e:(ja=null,Da.remove("logging_enabled"))},Va=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!0===Ua&&(Ua=!1,null===ja&&!0===Da.get("logging_enabled")&&qa(!0)),ja&&(e=Fa.apply(null,t),ja(e))},Ba=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Va.apply(void 0,eo([e],Zi(t)))}},za=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Fa.apply(void 0,eo([],Zi(e)));throw La.error(n),new Error(n)},Ka=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Fa.apply(void 0,eo([],Zi(e)));La.warn(n)},Wa="[MIN_NAME]",Ha="[MAX_NAME]",Ga=function(e,t){if(e===t)return 0;if(e===Wa||t===Ha)return-1;if(t===Wa||e===Ha)return 1;var n=ts(e),r=ts(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null===r&&e<t?-1:1},Qa=function(e){if("object"!=typeof e||null===e)return No(e);var t,n=[];for(t in e)n.push(t);n.sort();for(var r="{",i=0;i<n.length;i++)0!==i&&(r+=","),r+=No(n[i]),r+=":",r+=Qa(e[n[i]]);return r+"}"};function $a(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function Ya(e){var t,n,r,i;oo(!Na(e),"Invalid JSON number"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);u+=c=1===c.length?"0"+c:c}return u.toLowerCase()}function Xa(e,t){return"object"==typeof(t=setTimeout(e,t))&&t.unref&&t.unref(),t}var Ja=new RegExp("^-?(0*)\\d{1,10}$"),Za=-2147483648,es=2147483647,ts=function(e){return Ja.test(e)&&(e=Number(e),Za<=e&&e<=es)?e:null},ns=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw Ka("Exception was thrown by user callback.",t),e}),Math.floor(0))}},rs=(is.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Va("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},is.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},is.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},is.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ka(e)},is);function is(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}var os=(as.prototype.getToken=function(e){return Promise.resolve({accessToken:as.EMULATOR_AUTH_TOKEN})},as.prototype.addTokenChangeListener=function(e){e(as.EMULATOR_AUTH_TOKEN)},as.prototype.removeTokenChangeListener=function(e){},as.prototype.notifyForInvalidToken=function(){},as.EMULATOR_AUTH_TOKEN="owner",as);function as(){}var ss=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,us="websocket",cs="long_polling",ls=(hs.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},hs.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(hs.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ra.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),hs.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},hs.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return e+this.host+"/"+t},hs);function hs(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ra.get("host:"+e)||this._host}function fs(e,t,n){var r;if(oo("string"==typeof t,"typeof type must == string"),oo("object"==typeof n,"typeof params must == object"),t===us)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==cs)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}((t=e).host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var i=[];return $a(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ds=(ps.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),xo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},ps.prototype.get=function(){return uo(this.counters_)},ps);function ps(){this.counters_={}}var vs={},gs={};function ms(e){return e=e.toString(),vs[e]||(vs[e]=new ds),vs[e]}var ys=(bs.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},bs.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&ns((function(){n.onMessage_(e[t])}))}(t);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},bs);function bs(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var ws=(_s.prototype.open=function(e,t){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ys(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var e;o.isClosed_||(o.scriptTagHolder=new Es((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Zi(e,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(e),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(r=Zi(e,2))[0],r=r[1];o.incrementIncomingBytes_(e),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(e={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=o.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",o.transportSessionId&&(e.s=o.transportSessionId),o.lastSessionId&&(e.ls=o.lastSessionId),o.applicationId&&(e.p=o.applicationId),"undefined"!=typeof location&&location.hostname&&ss.test(location.hostname)&&(e.r="f"),e=o.urlFn(e),o.log_("Connecting via long-poll to "+e),o.scriptTagHolder.addTag(e,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},_s.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},_s.forceAllow=function(){_s.forceAllow_=!0},_s.forceDisallow=function(){_s.forceDisallow_=!0},_s.isAvailable=function(){return!!_s.forceAllow_||!(_s.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},_s.prototype.markConnectionHealthy=function(){},_s.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},_s.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},_s.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},_s.prototype.send=function(e){e=No(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var t=Pa(e=function(e){return e=to(e),so.encodeByteArray(e,!0)}(e),1840),n=0;n<t.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,t.length,t[n]),this.curSegmentNum++},_s.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},_s.prototype.incrementIncomingBytes_=function(e){e=No(e).length,this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},_s);function _s(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ba(e),this.stats_=ms(t),this.urlFn=function(e){return fs(t,cs,e)}}var Es=(Is.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Va("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},Is.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},Is.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},Is.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(e={}).id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var e=this.urlFn(e),t="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+t.length<=1870;){var r=this.pendingSegs.shift();t=t+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return e+=t,this.addLongPollTag_(e,this.currentSerial),!0}return!1},Is.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},Is.prototype.addLongPollTag_=function(e,t){var n=this;function r(){n.outstandingRequests.delete(t),n.newRequest_()}this.outstandingRequests.add(t);var i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},Is.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Va("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},Is);function Is(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Ma(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Is.createIFrame_(),t="";var i="<html><body>"+(t=this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)?'<script>document.domain="'+document.domain+'";<\/script>':t)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){Va("frame writing exception"),e.stack&&Va(e.stack),Va(e)}}var Ss="";function Ts(e){Ss=e}var ks=null;"undefined"!=typeof MozWebSocket?ks=MozWebSocket:"undefined"!=typeof WebSocket&&(ks=WebSocket);var Cs=(Ns.connectionURL_=function(e,t,n){var r={v:"5"};return"undefined"!=typeof location&&location.hostname&&ss.test(location.hostname)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),fs(e,us,r)},Ns.prototype.open=function(e,t){var n,r=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ra.set("previous_websocket_failure",!0);try{mo()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new ks(this.connURL,[],n))}catch(t){return this.log_("Error instantiating WebSocket."),(e=t.message||t.data)&&this.log_(e),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection."),(e=e.message||e.data)&&r.log_(e),r.onClosed_()}},Ns.prototype.start=function(){},Ns.forceDisallow=function(){Ns.forceDisallow_=!0},Ns.isAvailable=function(){var e,t=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0),!t&&null!==ks&&!Ns.forceDisallow_},Ns.previouslyFailed=function(){return Ra.isInMemoryStorage||!0===Ra.get("previous_websocket_failure")},Ns.prototype.markConnectionHealthy=function(){Ra.remove("previous_websocket_failure")},Ns.prototype.appendFrame_=function(e){this.frames.push(e),this.frames.length===this.totalFrames&&(e=this.frames.join(""),this.frames=null,e=Co(e),this.onMessage(e))},Ns.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},Ns.prototype.extractFrameCount_=function(e){if(oo(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},Ns.prototype.handleIncomingFrame=function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),(null!==this.frames||null!==(e=this.extractFrameCount_(e)))&&this.appendFrame_(e))},Ns.prototype.send=function(e){this.resetKeepAlive(),e=No(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var t=Pa(e,16384);1<t.length&&this.sendString_(String(t.length));for(var n=0;n<t.length;n++)this.sendString_(t[n])},Ns.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},Ns.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},Ns.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},Ns.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},Ns.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},Ns.responsesRequiredToBeHealthy=2,Ns.healthyTimeout=3e4,Ns);function Ns(e,t,n,r,i){this.connId=e,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ba(this.connId),this.stats_=ms(t),this.connURL=Ns.connectionURL_(t,r,i),this.nodeAdmin=t.nodeAdmin}var As=(Object.defineProperty(xs,"ALL_TRANSPORTS",{get:function(){return[ws,Cs]},enumerable:!1,configurable:!0}),xs.prototype.initTransports_=function(e){var t,n,r=Cs&&Cs.isAvailable(),i=r&&!Cs.previouslyFailed();if(e.webSocketOnly&&(r||Ka("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Cs];else{var o=this.transports_=[];try{for(var a=Ji(xs.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},xs.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},xs.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},xs);function xs(e){this.initTransports_(e)}var Ps=(Os.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0)),0<(t=t.healthyTimeout||0)&&(this.healthyTimeout_=Xa((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(t)))},Os.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Os.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},Os.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},Os.prototype.sendRequest=function(e){e={t:"d",d:e},this.sendData_(e)},Os.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Os.prototype.onSecondaryControl_=function(e){"t"in e&&("a"===(e=e.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Os.prototype.onSecondaryMessageReceived_=function(e){var t=xa("t",e);if(e=xa("d",e),"c"===t)this.onSecondaryControl_(e);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(e)}},Os.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Os.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Os.prototype.onPrimaryMessageReceived_=function(e){var t=xa("t",e);e=xa("d",e),"c"===t?this.onControl_(e):"d"===t&&this.onDataMessage_(e)},Os.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},Os.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Os.prototype.onControl_=function(e){var t=xa("t",e);if("d"in e)if(e=e.d,"h"===t)this.onHandshake_(e);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(e):"r"===t?this.onReset_(e):"e"===t?Ca("Server Error: "+e):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ca("Unknown control packet command: "+t)},Os.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Ka("Protocol version mismatch detected"),this.tryStartUpgrade_())},Os.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},Os.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);e=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,e),Xa((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},Os.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},Os.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xa((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},Os.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Os.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},Os.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ra.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Os.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},Os.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},Os.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Os.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Os);function Os(e,t,n,r,i,o,a,s){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ba("c:"+this.id+":"),this.transportManager_=new As(t),this.log_("Connection created"),this.start_()}function Rs(){}Rs.prototype.put=function(e,t,n,r){},Rs.prototype.merge=function(e,t,n,r){},Rs.prototype.refreshAuthToken=function(e){},Rs.prototype.onDisconnectPut=function(e,t,n){},Rs.prototype.onDisconnectMerge=function(e,t,n){},Rs.prototype.onDisconnectCancel=function(e,t){},Rs.prototype.reportStats=function(e){},W=Rs;var Ds=(Ls.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=eo([],Zi(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},Ls.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n}),(e=this.getInitialEvent(e))&&t.apply(n,e)},Ls.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},Ls.prototype.validateEventType_=function(e){oo(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},Ls);function Ls(e){this.allowedEvents_=e,this.listeners_={},oo(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}var Ms,Fs=(Qi(js,Ms=Ds),js.getInstance=function(){return new js},js.prototype.getInitialEvent=function(e){return oo("online"===e,"Unknown event type: "+e),[this.online_]},js.prototype.currentlyOnline=function(){return this.online_},js);function js(){var e=Ms.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||po()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}var Us=(qs.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},qs);function qs(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}function Vs(){return new Us("")}function Bs(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function zs(e){return e.pieces_.length-e.pieceNum_}function Ks(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Us(e.pieces_,t)}function Ws(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Hs(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Gs(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Us(t,0)}function Qs(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Us)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)0<i[r].length&&n.push(i[r])}return new Us(n,0)}function $s(e){return e.pieceNum_>=e.pieces_.length}function Ys(e,t){var n=Bs(e),r=Bs(t);if(null===n)return t;if(n===r)return Ys(Ks(e),Ks(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Xs(e,t){for(var n=Hs(e,0),r=Hs(t,0),i=0;i<n.length&&i<r.length;i++){var o=Ga(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Js(e,t){if(zs(e)!==zs(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Zs(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(zs(e)>zs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var eu=function(e,t){this.errorPrefix_=t,this.parts_=Hs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Ko(this.parts_[n]);tu(this)};function tu(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nu(e))}function nu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var ru,iu=(Qi(ou,ru=Ds),ou.getInstance=function(){return new ou},ou.prototype.getInitialEvent=function(e){return oo("visible"===e,"Unknown event type: "+e),[this.visible_]},ou);function ou(){var e,t,n=ru.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,t&&document.addEventListener(t,(function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))}),!1),n}var au,su=1e3,uu=(Qi(cu,au=W),cu.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_;t={r,a:e,b:t},this.log_(No(t)),oo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)},cu.prototype.get=function(e){var t=this,n=new lo,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},cu.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),oo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oo(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:t,query:e,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},cu.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},cu.prototype.sendListen_=function(e){var t=this,n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;cu.warnOnListenWarnings_(a,n),(t.listens.get(r)&&t.listens.get(r).get(i))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(r,i),e.onComplete&&e.onComplete(s,a))}))},cu.warnOnListenWarnings_=function(e,t){e&&"object"==typeof e&&xo(e,"w")&&(e=Po(e,"w"),Array.isArray(e)&&~e.indexOf("no_index")&&(e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',t=t._path.toString(),Ka("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+e+" at "+t+" to your security rules for better performance.")))},cu.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},cu.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||function(e){return"object"==typeof(e=Ao(e).claims)&&!0===e.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},cu.prototype.tryAuth=function(){var e,t,n,r=this;this.connected_&&this.authToken_&&(t=function(e){return!!(e=Ao(e).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")}(e=this.authToken_)?"auth":"gauth",n={cred:e},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(function(t){var n=t.s;t=t.d||"error",r.authToken_===e&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,t))})))},cu.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),oo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},cu.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t),e={p:e},r&&(e.q=n,e.t=r),this.sendRequest("n",e)},cu.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},cu.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},cu.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},cu.prototype.sendOnDisconnect_=function(e,t,n,r){n={p:t,d:n},this.log_("onDisconnect "+e,n),this.sendRequest(e,n,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},cu.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},cu.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},cu.prototype.putInternal=function(e,t,n,r,i){n={p:t,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:e,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+t)},cu.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},cu.prototype.reportStats=function(e){var t=this;this.connected_&&(e={c:e},this.log_("reportStats",e),this.sendRequest("s",e,(function(e){"ok"!==e.s&&(e=e.d,t.log_("reportStats","Error sending stats: "+e))})))},cu.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+No(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},cu.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ca("Unrecognized action received from server: "+No(e)+"\nAre you using the latest client?")},cu.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},cu.prototype.scheduleConnect_=function(e){var t=this;oo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},cu.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=su,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},cu.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=su,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},cu.prototype.onRealtimeDisconnect_=function(){var e;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=su),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},cu.prototype.establishConnection_=function(){var e,t,n,r,i,o,a,s,u,c,l=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+cu.nextConnectionId_++,o=(i=this).lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,n())},this.realtime_={close:u,sendRequest:function(e){oo(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)}},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then((function(u){a?Va("getToken() completed but was canceled"):(Va("getToken() completed. Creating connection."),i.authToken_=u&&u.accessToken,s=new Ps(r,i.repoInfo_,i.applicationId_,e,t,n,(function(e){Ka(e+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")}),o))})).then(null,(function(e){i.log_("Failed to get token: "+e),a||(l.repoInfo_.nodeAdmin&&Ka(e),u())})))},cu.prototype.interrupt=function(e){Va("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},cu.prototype.resume=function(e){Va("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Oo(this.interruptReasons_)&&(this.reconnectDelay_=su,this.realtime_||this.scheduleConnect_(0))},cu.prototype.handleTimestamp_=function(e){e-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:e})},cu.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},cu.prototype.onListenRevoked_=function(e,t){t=t?t.map((function(e){return Qa(e)})).join("$"):"default",(t=this.removeListen_(e,t))&&t.onComplete&&t.onComplete("permission_denied")},cu.prototype.removeListen_=function(e,t){var n,r=new Us(e).toString();return this.listens.has(r)?(n=(e=this.listens.get(r)).get(t),e.delete(t),0===e.size&&this.listens.delete(r)):n=void 0,n},cu.prototype.onAuthRevoked_=function(e,t){Va("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},cu.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},cu.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=Ji(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Ji(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},cu.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+Ss.replace(/\./g,"-")]=1,po()?e["framework.cordova"]=1:go()&&(e["framework.reactnative"]=1),this.reportStats(e)},cu.prototype.shouldReconnect_=function(){var e=Fs.getInstance().currentlyOnline();return Oo(this.interruptReasons_)&&e},cu.nextPersistentConnectionId_=0,cu.nextConnectionId_=0,cu);function cu(e,t,n,r,i,o,a){var s=au.call(this)||this;if(s.repoInfo_=e,s.applicationId_=t,s.onDataUpdate_=n,s.onConnectStatus_=r,s.onServerInfoUpdate_=i,s.authTokenProvider_=o,s.authOverride_=a,s.id=cu.nextPersistentConnectionId_++,s.log_=Ba("p:"+s.id+":"),s.interruptReasons_={},s.listens=new Map,s.outstandingPuts_=[],s.outstandingGets_=[],s.outstandingPutCount_=0,s.outstandingGetCount_=0,s.onDisconnectRequestQueue_=[],s.connected_=!1,s.reconnectDelay_=su,s.maxReconnectDelay_=3e5,s.securityDebugCallback_=null,s.lastSessionId=null,s.establishConnectionTimer_=null,s.visible_=!1,s.requestCBHash_={},s.requestNumber_=0,s.realtime_=null,s.authToken_=null,s.forceTokenRefresh_=!1,s.invalidAuthTokenCount_=0,s.firstConnection_=!0,s.lastConnectionAttemptTime_=null,s.lastConnectionEstablishedTime_=null,a&&!mo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return s.scheduleConnect_(0),iu.getInstance().on("visible",s.onVisible_,s),-1===e.host.indexOf("fblocal")&&Fs.getInstance().on("online",s.onOnline_,s),s}var lu,hu,fu=(du.Wrap=function(e,t){return new du(e,t)},du);function du(e,t){this.name=e,this.node=t}function pu(){}function vu(){return null!==hu&&hu.apply(this,arguments)||this}pu.prototype.getCompare=function(){return this.compare.bind(this)},pu.prototype.indexedValueChanged=function(e,t){return e=new fu(Wa,e),t=new fu(Wa,t),0!==this.compare(e,t)},pu.prototype.minPost=function(){return fu.MIN};var gu=new(Qi(vu,hu=K=pu),Object.defineProperty(vu,"__EMPTY_NODE",{get:function(){return lu},set:function(e){lu=e},enumerable:!1,configurable:!0}),vu.prototype.compare=function(e,t){return Ga(e.name,t.name)},vu.prototype.isDefinedOn=function(e){throw ao("KeyIndex.isDefinedOn not expected to be called.")},vu.prototype.indexedValueChanged=function(e,t){return!1},vu.prototype.minPost=function(){return fu.MIN},vu.prototype.maxPost=function(){return new fu(Ha,lu)},vu.prototype.makePost=function(e,t){return oo("string"==typeof e,"KeyIndex indexValue must always be a string."),new fu(e,lu)},vu.prototype.toString=function(){return".key"},kn=vu),mu=(yu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value};if(this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},yu.prototype.hasNext=function(){return 0<this.nodeStack_.length},yu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},yu);function yu(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var bu=(wu.prototype.copy=function(e,t,n,r,i){return new wu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},wu.prototype.count=function(){return this.left.count()+1+this.right.count()},wu.prototype.isEmpty=function(){return!1},wu.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},wu.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},wu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},wu.prototype.minKey=function(){return this.min_().key},wu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},wu.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},wu.prototype.removeMin_=function(){if(this.left.isEmpty())return Iu.EMPTY_NODE;var e=this;return(e=(e=e.left.isRed_()||e.left.left.isRed_()?e:e.moveRedLeft_()).copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},wu.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()?r:r.moveRedLeft_()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()?r:r.moveRedRight_()).key)){if(r.right.isEmpty())return Iu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},wu.prototype.isRed_=function(){return this.color},wu.prototype.fixUp_=function(){var e=this;return(e=(e=e.right.isRed_()&&!e.left.isRed_()?e.rotateLeft_():e).left.isRed_()&&e.left.left.isRed_()?e.rotateRight_():e).left.isRed_()&&e.right.isRed_()?e.colorFlip_():e},wu.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_():e},wu.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()?(e=e.rotateRight_()).colorFlip_():e},wu.prototype.rotateLeft_=function(){var e=this.copy(null,null,wu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},wu.prototype.rotateRight_=function(){var e=this.copy(null,null,wu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},wu.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},wu.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},wu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},wu.RED=!0,wu.BLACK=!1,wu);function wu(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wu.RED,this.left=null!=r?r:Iu.EMPTY_NODE,this.right=null!=i?i:Iu.EMPTY_NODE}function _u(){}_u.prototype.copy=function(e,t,n,r,i){return this},_u.prototype.insert=function(e,t,n){return new bu(e,t,null)},_u.prototype.remove=function(e,t){return this},_u.prototype.count=function(){return 0},_u.prototype.isEmpty=function(){return!0},_u.prototype.inorderTraversal=function(e){return!1},_u.prototype.reverseTraversal=function(e){return!1},_u.prototype.minKey=function(){return null},_u.prototype.maxKey=function(){return null},_u.prototype.check_=function(){return 0},_u.prototype.isRed_=function(){return!1},Ds=_u;var Eu,Iu=(Su.prototype.insert=function(e,t){return new Su(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,bu.BLACK,null,null))},Su.prototype.remove=function(e){return new Su(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bu.BLACK,null,null))},Su.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},Su.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Su.prototype.isEmpty=function(){return this.root_.isEmpty()},Su.prototype.count=function(){return this.root_.count()},Su.prototype.minKey=function(){return this.root_.minKey()},Su.prototype.maxKey=function(){return this.root_.maxKey()},Su.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},Su.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},Su.prototype.getIterator=function(e){return new mu(this.root_,null,this.comparator_,!1,e)},Su.prototype.getIteratorFrom=function(e,t){return new mu(this.root_,e,this.comparator_,!1,t)},Su.prototype.getReverseIteratorFrom=function(e,t){return new mu(this.root_,e,this.comparator_,!0,t)},Su.prototype.getReverseIterator=function(e){return new mu(this.root_,null,this.comparator_,!0,e)},Su.EMPTY_NODE=new Ds,Su);function Su(e,t){void 0===t&&(t=Su.EMPTY_NODE),this.comparator_=e,this.root_=t}function Tu(e,t){return Ga(e.name,t.name)}function ku(e,t){return Ga(e,t)}function Cu(e){return"number"==typeof e?"number:"+Ya(e):"string:"+e}var Nu,Au,xu,Pu,Ou=function(e){var t;e.isLeafNode()?(t=e.val(),oo("string"==typeof t||"number"==typeof t||"object"==typeof t&&xo(t,".sv"),"Priority must be a string or number.")):oo(e===Eu||e.isEmpty(),"priority of unexpected type."),oo(e===Eu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ru=(Object.defineProperty(Du,"__childrenNodeConstructor",{get:function(){return Nu},set:function(e){Nu=e},enumerable:!1,configurable:!0}),Du.prototype.isLeafNode=function(){return!0},Du.prototype.getPriority=function(){return this.priorityNode_},Du.prototype.updatePriority=function(e){return new Du(this.value_,e)},Du.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:Du.__childrenNodeConstructor.EMPTY_NODE},Du.prototype.getChild=function(e){return $s(e)?this:".priority"===Bs(e)?this.priorityNode_:Du.__childrenNodeConstructor.EMPTY_NODE},Du.prototype.hasChild=function(){return!1},Du.prototype.getPredecessorChildName=function(e,t){return null},Du.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Du.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},Du.prototype.updateChild=function(e,t){var n=Bs(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(oo(".priority"!==n||1===zs(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Du.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ks(e),t)))},Du.prototype.isEmpty=function(){return!1},Du.prototype.numChildren=function(){return 0},Du.prototype.forEachChild=function(e,t){return!1},Du.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Du.prototype.hash=function(){var e,t;return null===this.lazyHash_&&(e="",this.priorityNode_.isEmpty()||(e+="priority:"+Cu(this.priorityNode_.val())+":"),e+=(t=typeof this.value_)+":",e+="number"==t?Ya(this.value_):this.value_,this.lazyHash_=ka(e)),this.lazyHash_},Du.prototype.getValue=function(){return this.value_},Du.prototype.compareTo=function(e){return e===Du.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Du.__childrenNodeConstructor?-1:(oo(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},Du.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=Du.VALUE_TYPE_ORDER.indexOf(t),i=Du.VALUE_TYPE_ORDER.indexOf(n);return oo(0<=r,"Unknown leaf type: "+t),oo(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r},Du.prototype.withIndex=function(){return this},Du.prototype.isIndexed=function(){return!0},Du.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},Du.VALUE_TYPE_ORDER=["object","boolean","number","string"],Du);function Du(e,t){void 0===t&&(t=Du.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,oo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ou(this.priorityNode_)}function Lu(){return null!==Pu&&Pu.apply(this,arguments)||this}var Mu=new(Qi(Lu,Pu=K),Lu.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority();return 0===(r=n.compareTo(r))?Ga(e.name,t.name):r},Lu.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},Lu.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},Lu.prototype.minPost=function(){return fu.MIN},Lu.prototype.maxPost=function(){return new fu(Ha,new Ru("[PRIORITY-POST]",xu))},Lu.prototype.makePost=function(e,t){return e=Au(e),new fu(t,new Ru("[PRIORITY-POST]",e))},Lu.prototype.toString=function(){return".priority"},Lu),Fu=Math.log(2),ju=(Uu.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},Uu);function Uu(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Fu,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}var qu,Vu,Bu=function(e,t,n,r){e.sort(t);var i=function(t,r){if(0==(o=r-t))return null;if(1==o)return a=e[t],s=n?n(a):a,new bu(s,a.node,bu.BLACK,null,null);var o=parseInt(o/2,10)+t,a=(t=i(t,o),r=i(o+1,r),e[o]),s=n?n(a):a;return new bu(s,a.node,bu.BLACK,t,r)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t,t=i(1+o,s),s=e[o],o=n?n(s):s,u(new bu(o,s.node,r,null,t))},u=function(e){r=r?r.left=e:o=e},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,bu.BLACK):(s(h,bu.BLACK),s(h,bu.RED))}return o}(new ju(e.length));return new Iu(r||t,o)},zu={},Ku=(Object.defineProperty(Wu,"Default",{get:function(){return oo(Mu,"ChildrenNode.ts has not been loaded"),qu=qu||new Wu({".priority":zu},{".priority":Mu})},enumerable:!1,configurable:!0}),Wu.prototype.get=function(e){var t=Po(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Iu?t:null},Wu.prototype.hasIndex=function(e){return xo(this.indexSet_,e.toString())},Wu.prototype.addIndex=function(e,t){oo(e!==gu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,i=t.getIterator(fu.Wrap),o=i.getNext();o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();var a=r?Bu(n,e.getCompare()):zu,s=e.toString(),u=$i({},this.indexSet_);return u[s]=e,(t=$i({},this.indexes_))[s]=a,new Wu(t,u)},Wu.prototype.addToIndexes=function(e,t){var n=this;return new Wu(Ro(this.indexes_,(function(r,i){var o=Po(n.indexSet_,i);if(oo(o,"Missing index implementation for "+i),r===zu){if(o.isDefinedOn(e.node)){for(var a=[],s=t.getIterator(fu.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),Bu(a,o.getCompare())}return zu}return(r=(o=t.get(e.name))?r.remove(new fu(e.name,o)):r).insert(e,e.node)})),this.indexSet_)},Wu.prototype.removeFromIndexes=function(e,t){return new Wu(Ro(this.indexes_,(function(n){if(n===zu)return n;var r=t.get(e.name);return r?n.remove(new fu(e.name,r)):n})),this.indexSet_)},Wu);function Wu(e,t){this.indexes_=e,this.indexSet_=t}var Hu,Gu=(Object.defineProperty(Qu,"EMPTY_NODE",{get:function(){return Vu=Vu||new Qu(new Iu(ku),null,Ku.Default)},enumerable:!1,configurable:!0}),Qu.prototype.isLeafNode=function(){return!1},Qu.prototype.getPriority=function(){return this.priorityNode_||Vu},Qu.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new Qu(this.children_,e,this.indexMap_)},Qu.prototype.getImmediateChild=function(e){return".priority"===e?this.getPriority():null===(e=this.children_.get(e))?Vu:e},Qu.prototype.getChild=function(e){var t=Bs(e);return null===t?this:this.getImmediateChild(t).getChild(Ks(e))},Qu.prototype.hasChild=function(e){return null!==this.children_.get(e)},Qu.prototype.updateImmediateChild=function(e,t){if(oo(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n,r=new fu(e,t),i=void 0;return n=t.isEmpty()?(i=this.children_.remove(e),this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),this.indexMap_.addToIndexes(r,this.children_)),r=i.isEmpty()?Vu:this.priorityNode_,new Qu(i,r,n)},Qu.prototype.updateChild=function(e,t){var n=Bs(e);return null===n?t:(oo(".priority"!==Bs(e)||1===zs(e),".priority must be the last token in a path"),t=this.getImmediateChild(n).updateChild(Ks(e),t),this.updateImmediateChild(n,t))},Qu.prototype.isEmpty=function(){return this.children_.isEmpty()},Qu.prototype.numChildren=function(){return this.children_.count()},Qu.prototype.val=function(e){if(this.isEmpty())return null;var t={},n=0,r=0,i=!0;if(this.forEachChild(Mu,(function(o,a){t[o]=a.val(e),n++,i&&Qu.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},Qu.prototype.hash=function(){var e;return null===this.lazyHash_&&(e="",this.getPriority().isEmpty()||(e+="priority:"+Cu(this.getPriority().val())+":"),this.forEachChild(Mu,(function(t,n){""!==(n=n.hash())&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":ka(e)),this.lazyHash_},Qu.prototype.getPredecessorChildName=function(e,t,n){return(n=this.resolveIndex_(n))?(t=n.getPredecessorKey(new fu(e,t)))?t.name:null:this.children_.getPredecessorKey(e)},Qu.prototype.getFirstChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.minKey())&&e.name:this.children_.minKey()},Qu.prototype.getFirstChild=function(e){return(e=this.getFirstChildName(e))?new fu(e,this.children_.get(e)):null},Qu.prototype.getLastChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.maxKey())&&e.name:this.children_.maxKey()},Qu.prototype.getLastChild=function(e){return(e=this.getLastChildName(e))?new fu(e,this.children_.get(e)):null},Qu.prototype.forEachChild=function(e,t){return(e=this.resolveIndex_(e))?e.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},Qu.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},Qu.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,fu.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},Qu.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},Qu.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,fu.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},Qu.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yu?-1:0},Qu.prototype.withIndex=function(e){return e===gu||this.indexMap_.hasIndex(e)?this:(e=this.indexMap_.addIndex(e,this.children_),new Qu(this.children_,this.priorityNode_,e))},Qu.prototype.isIndexed=function(e){return e===gu||this.indexMap_.hasIndex(e)},Qu.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(Mu),n=e.getIterator(Mu),r=t.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1},Qu.prototype.resolveIndex_=function(e){return e===gu?null:this.indexMap_.get(e.toString())},Qu.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,Qu);function Qu(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ou(this.priorityNode_),this.children_.isEmpty()&&oo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function $u(){return Hu.call(this,new Iu(ku),Gu.EMPTY_NODE,Ku.Default)||this}var Yu=new(Qi($u,Hu=Gu),$u.prototype.compareTo=function(e){return e===this?0:1},$u.prototype.equals=function(e){return e===this},$u.prototype.getPriority=function(){return this},$u.prototype.getImmediateChild=function(e){return Gu.EMPTY_NODE},$u.prototype.isEmpty=function(){return!1},$u);Object.defineProperties(fu,{MIN:{value:new fu(Wa,Gu.EMPTY_NODE)},MAX:{value:new fu(Ha,Yu)}}),kn.__EMPTY_NODE=Gu.EMPTY_NODE,Ru.__childrenNodeConstructor=Gu,Eu=Yu,xu=Yu;function Xu(e,t){if(void 0===t&&(t=null),null===e)return Gu.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),oo(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ru(e,Xu(t));if(e instanceof Array){var n=Gu.EMPTY_NODE;return $a(e,(function(t,r){xo(e,t)&&"."!==t.substring(0,1)&&(!(r=Xu(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(t,r)))})),n.updatePriority(Xu(t))}var r=[],i=!1;if($a(e,(function(e,t){"."!==e.substring(0,1)&&((t=Xu(t)).isEmpty()||(i=i||!t.getPriority().isEmpty(),r.push(new fu(e,t))))})),0===r.length)return Gu.EMPTY_NODE;var o=Bu(r,Tu,(function(e){return e.name}),ku);if(i){var a=Bu(r,Mu.getCompare());return new Gu(o,Xu(t),new Ku({".priority":a},{".priority":Mu}))}return new Gu(o,Xu(t),Ku.Default)}Au=Xu;var Ju,Zu,ec=(Qi(tc,Ju=K),tc.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},tc.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},tc.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node);return 0===(r=n.compareTo(r))?Ga(e.name,t.name):r},tc.prototype.makePost=function(e,t){return e=Xu(e),e=Gu.EMPTY_NODE.updateChild(this.indexPath_,e),new fu(t,e)},tc.prototype.maxPost=function(){var e=Gu.EMPTY_NODE.updateChild(this.indexPath_,Yu);return new fu(Ha,e)},tc.prototype.toString=function(){return Hs(this.indexPath_,0).join("/")},tc);function tc(e){var t=Ju.call(this)||this;return t.indexPath_=e,oo(!$s(e)&&".priority"!==Bs(e),"Can't create PathIndex with empty path or .priority key"),t}function nc(){return null!==Zu&&Zu.apply(this,arguments)||this}function rc(e){if(e===""+es)return"-";var t=ts(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;0<=i&&"z"===n[i];)i--;return-1===i?Ha:(t=n[i],t=uc.charAt(uc.indexOf(t)+1),n[i]=t,n.slice(0,i+1).join(""))}function ic(e){if(e===""+Za)return Wa;var t=ts(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+es:(delete n[n.length-1],n.join("")):(n[n.length-1]=uc.charAt(uc.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}var oc,ac,sc=new(Qi(nc,Zu=K),nc.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Ga(e.name,t.name):n},nc.prototype.isDefinedOn=function(e){return!0},nc.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},nc.prototype.minPost=function(){return fu.MIN},nc.prototype.maxPost=function(){return fu.MAX},nc.prototype.makePost=function(e,t){return e=Xu(e),new fu(t,e)},nc.prototype.toString=function(){return".value"},nc),uc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cc=(oc=0,ac=[],function(e){var t=e===oc;oc=e;for(var n=new Array(8),r=7;0<=r;r--)n[r]=uc.charAt(e%64),e=Math.floor(e/64);oo(0===e,"Cannot push at time == 0");var i=n.join("");if(t){for(r=11;0<=r&&63===ac[r];r--)ac[r]=0;ac[r]++}else for(r=0;r<12;r++)ac[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=uc.charAt(ac[r]);return oo(20===i.length,"nextPushId: Length should be 20."),i});function lc(e){return{type:"value",snapshotNode:e}}function hc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function fc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function dc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var pc=(vc.prototype.updateChild=function(e,t,n,r,i,o){oo(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(fc(t,a)):oo(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(hc(t,n)):o.trackChildChange(dc(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},vc.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Mu,(function(e,r){t.hasChild(e)||n.trackChildChange(fc(e,r))})),t.isLeafNode()||t.forEachChild(Mu,(function(t,r){var i;e.hasChild(t)?(i=e.getImmediateChild(t)).equals(r)||n.trackChildChange(dc(t,r,i)):n.trackChildChange(hc(t,r))}))),t.withIndex(this.index_)},vc.prototype.updatePriority=function(e,t){return e.isEmpty()?Gu.EMPTY_NODE:e.updatePriority(t)},vc.prototype.filtersNodes=function(){return!1},vc.prototype.getIndexedFilter=function(){return this},vc.prototype.getIndex=function(){return this.index_},vc);function vc(e){this.index_=e}var gc=(mc.prototype.getStartPost=function(){return this.startPost_},mc.prototype.getEndPost=function(){return this.endPost_},mc.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},mc.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new fu(t,n))||(n=Gu.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},mc.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Gu.EMPTY_NODE);var r=(r=t.withIndex(this.index_)).updatePriority(Gu.EMPTY_NODE),i=this;return t.forEachChild(Mu,(function(e,t){i.matches(new fu(e,t))||(r=r.updateImmediateChild(e,Gu.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},mc.prototype.updatePriority=function(e,t){return e},mc.prototype.filtersNodes=function(){return!0},mc.prototype.getIndexedFilter=function(){return this.indexedFilter_},mc.prototype.getIndex=function(){return this.index_},mc.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},mc.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},mc);function mc(e){this.indexedFilter_=new pc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mc.getStartPost_(e),this.endPost_=mc.getEndPost_(e)}var yc=(bc.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new fu(t,n))||(n=Gu.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},bc.prototype.updateFullNode=function(e,t,n){if(t.isLeafNode()||t.isEmpty())r=Gu.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var r=Gu.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Gu.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(e,t){return s(t,e)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),(h=!h&&l(u,a)<=0||h)&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,Gu.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},bc.prototype.updatePriority=function(e,t){return e},bc.prototype.filtersNodes=function(){return!0},bc.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},bc.prototype.getIndex=function(){return this.index_},bc.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(e,t){return o(t,e)}):this.index_.getCompare();var s=e;oo(s.numChildren()===this.limit_,"");var u=new fu(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=d?(null!=i&&i.trackChildChange(dc(t,n,h)),s.updateImmediateChild(t,n)):(null!=i&&i.trackChildChange(fc(t,h)),h=s.updateImmediateChild(t,Gu.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(hc(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(fc(c.name,c.node)),i.trackChildChange(hc(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Gu.EMPTY_NODE)):e},bc);function bc(e){this.rangedFilter_=new gc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var wc=(_c.prototype.hasStart=function(){return this.startSet_},_c.prototype.hasStartAfter=function(){return this.startAfterSet_},_c.prototype.hasEndBefore=function(){return this.endBeforeSet_},_c.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},_c.prototype.getIndexStartValue=function(){return oo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},_c.prototype.getIndexStartName=function(){return oo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wa},_c.prototype.hasEnd=function(){return this.endSet_},_c.prototype.getIndexEndValue=function(){return oo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},_c.prototype.getIndexEndName=function(){return oo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ha},_c.prototype.hasLimit=function(){return this.limitSet_},_c.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},_c.prototype.getLimit=function(){return oo(this.limitSet_,"Only valid if limit has been set"),this.limit_},_c.prototype.getIndex=function(){return this.index_},_c.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},_c.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Mu},_c.prototype.copy=function(){var e=new _c;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},_c);function _c(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mu}function Ec(e,t,n){return(e=e.copy()).startSet_=!0,void 0===t&&(t=null),e.indexStartValue_=t,null!=n?(e.startNameSet_=!0,e.indexStartName_=n):(e.startNameSet_=!1,e.indexStartName_=""),e}function Ic(e,t,n){return(e=e.copy()).endSet_=!0,void 0===t&&(t=null),e.indexEndValue_=t,void 0!==n?(e.endNameSet_=!0,e.indexEndName_=n):(e.endNameSet_=!1,e.indexEndName_=""),e}function Sc(e,t){return(e=e.copy()).index_=t,e}function Tc(e){var t,n={};return e.isDefault()||(t=e.index_===Mu?"$priority":e.index_===sc?"$value":e.index_===gu?"$key":(oo(e.index_ instanceof ec,"Unrecognized index type!"),e.index_.toString()),n.orderBy=No(t),e.startSet_&&(n.startAt=No(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+No(e.indexStartName_))),e.endSet_&&(n.endAt=No(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+No(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function kc(e){var t,n={};return e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_&&(n.l=e.limit_,""===(t=e.viewFrom_)&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t),e.index_!==Mu&&(n.i=e.index_.toString()),n}var Cc,Nc=(Qi(Ac,Cc=W),Ac.prototype.reportStats=function(e){throw new Error("Method not implemented.")},Ac.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(oo(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},Ac.prototype.listen=function(e,t,n,r){var i=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var a=Ac.getListenId_(e,n),s={};this.listens_[a]=s,e=Tc(e._queryParams),this.restRequest_(o+".json",e,(function(e,t){null===(e=404===e?t=null:e)&&i.onDataUpdate_(o,t,!1,n),Po(i.listens_,a)===s&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},Ac.prototype.unlisten=function(e,t){t=Ac.getListenId_(e,t),delete this.listens_[t]},Ac.prototype.get=function(e){var t=this,n=Tc(e._queryParams),r=e._path.toString(),i=new lo;return this.restRequest_(r+".json",n,(function(e,n){null===(e=404===e?n=null:e)?(t.onDataUpdate_(r,n,!1,null),i.resolve(n)):i.reject(new Error(n))})),i.promise},Ac.prototype.refreshAuthToken=function(e){},Ac.prototype.restRequest_=function(e,t,n){var r=this;(t=void 0===t?{}:t).format="export",this.authTokenProvider_.getToken(!1).then((function(i){(i=i&&i.accessToken)&&(t.auth=i);var o=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n];!function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}(i[0],i[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+o);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);var e=null;if(200<=a.status&&a.status<300){try{e=Co(a.responseText)}catch(e){Ka("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Ka("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))},Ac);function Ac(e,t,n){var r=Cc.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=t,r.authTokenProvider_=n,r.log_=Ba("p:rest:"),r.listens_={},r}var xc=(Pc.prototype.getNode=function(e){return this.rootNode_.getChild(e)},Pc.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},Pc);function Pc(){this.rootNode_=Gu.EMPTY_NODE}function Oc(){return{value:null,children:new Map}}function Rc(e,t,n){var r;$s(t)?(e.value=n,e.children.clear()):null!==e.value?e.value=e.value.updateChild(t,n):(r=Bs(t),e.children.has(r)||e.children.set(r,Oc()),Rc(e.children.get(r),t=Ks(t),n))}function Dc(e,t,n){var r;null!==e.value?n(t,e.value):(r=function(e,r){Dc(r,new Us(t.toString()+"/"+e),n)},e.children.forEach((function(e,t){r(t,e)})))}var Lc=(Mc.prototype.get=function(){var e=this.collection_.get(),t=$i({},e);return this.last_&&$a(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},Mc);function Mc(e){this.collection_=e,this.last_=null}var Fc,jc=(Uc.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;$a(t,(function(t,i){0<i&&xo(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Xa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Uc);function Uc(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Lc(e),e=1e4+2e4*Math.random(),Xa(this.reportStats_.bind(this),Math.floor(e))}function qc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(Ds=Fc=Fc||{})[Ds.OVERWRITE=0]="OVERWRITE",Ds[Ds.MERGE=1]="MERGE",Ds[Ds.ACK_USER_WRITE=2]="ACK_USER_WRITE",Ds[Ds.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var Vc=(Bc.prototype.operationForChild=function(e){if($s(this.path)){if(null!=this.affectedTree.value)return oo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new Us(e));return new Bc(Vs(),t,this.revert)}return oo(Bs(this.path)===e,"operationForChild called for unrelated child."),new Bc(Ks(this.path),this.affectedTree,this.revert)},Bc);function Bc(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Fc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}var zc=(Kc.prototype.operationForChild=function(e){return $s(this.path)?new Kc(this.source,Vs()):new Kc(this.source,Ks(this.path))},Kc);function Kc(e,t){this.source=e,this.path=t,this.type=Fc.LISTEN_COMPLETE}var Wc=(Hc.prototype.operationForChild=function(e){return $s(this.path)?new Hc(this.source,Vs(),this.snap.getImmediateChild(e)):new Hc(this.source,Ks(this.path),this.snap)},Hc);function Hc(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Fc.OVERWRITE}var Gc=(Qc.prototype.operationForChild=function(e){if($s(this.path)){var t=this.children.subtree(new Us(e));return t.isEmpty()?null:t.value?new Wc(this.source,Vs(),t.value):new Qc(this.source,Vs(),t)}return oo(Bs(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qc(this.source,Ks(this.path),this.children)},Qc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},Qc);function Qc(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Fc.MERGE}var $c=(Yc.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Yc.prototype.isFiltered=function(){return this.filtered_},Yc.prototype.isCompleteForPath=function(e){return $s(e)?this.isFullyInitialized()&&!this.filtered_:(e=Bs(e),this.isCompleteForChild(e))},Yc.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},Yc.prototype.getNode=function(){return this.node_},Yc);function Yc(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var Xc,Jc=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Zc(e,t,n,r,i,o){(r=r.filter((function(e){return e.type===n}))).sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ao("Should only compare child_ events.");return t=new fu(t.childName,t.snapshotNode),n=new fu(n.childName,n.snapshotNode),e.index_.compare(t,n)}(e,t,n)})),r.forEach((function(n){var r,a,s,u=(r=e,s=o,"value"===(a=n).type||"child_removed"===a.type||(a.prevName=s.getPredecessorChildName(a.childName,a.snapshotNode,r.index_)),a);i.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(u,e.query_))}))}))}function el(e,t){return{eventCache:e,serverCache:t}}function tl(e,t,n,r){return el(new $c(t,n,r),e.serverCache)}function nl(e,t,n,r){return el(e.eventCache,new $c(t,n,r))}function rl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function il(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ol=(al.fromObject=function(e){var t=new al(null);return $a(e,(function(e,n){t=t.set(new Us(e),n)})),t},al.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},al.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Vs(),value:this.value};if($s(e))return null;var n=Bs(e),r=this.children.get(n);return null===r||null==(t=r.findRootMostMatchingPathAndValue(Ks(e),t))?null:{path:Qs(new Us(n),t.path),value:t.value}},al.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},al.prototype.subtree=function(e){if($s(e))return this;var t=Bs(e);return null!==(t=this.children.get(t))?t.subtree(Ks(e)):new al(null)},al.prototype.set=function(e,t){if($s(e))return new al(t,this.children);var n=Bs(e);return t=(this.children.get(n)||new al(null)).set(Ks(e),t),t=this.children.insert(n,t),new al(this.value,t)},al.prototype.remove=function(e){if($s(e))return this.children.isEmpty()?new al(null):new al(null,this.children);var t=Bs(e),n=this.children.get(t);return n?(n=n.remove(Ks(e)),e=void 0,e=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&e.isEmpty()?new al(null):new al(this.value,e)):this},al.prototype.get=function(e){if($s(e))return this.value;var t=Bs(e);return(t=this.children.get(t))?t.get(Ks(e)):null},al.prototype.setTree=function(e,t){if($s(e))return t;var n=Bs(e);return e=(this.children.get(n)||new al(null)).setTree(Ks(e),t),t=void 0,t=e.isEmpty()?this.children.remove(n):this.children.insert(n,e),new al(this.value,t)},al.prototype.fold=function(e){return this.fold_(Vs(),e)},al.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Qs(e,r),t)})),t(e,this.value,n)},al.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Vs(),t)},al.prototype.findOnPath_=function(e,t,n){if(r=!!this.value&&n(t,this.value))return r;if($s(e))return null;var r,i=Bs(e);return(r=this.children.get(i))?r.findOnPath_(Ks(e),Qs(t,i),n):null},al.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Vs(),t)},al.prototype.foreachOnPath_=function(e,t,n){if($s(e))return this;this.value&&n(t,this.value);var r=Bs(e),i=this.children.get(r);return i?i.foreachOnPath_(Ks(e),Qs(t,r),n):new al(null)},al.prototype.foreach=function(e){this.foreach_(Vs(),e)},al.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Qs(e,n),t)})),this.value&&t(e,this.value)},al.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},al);function al(e,t){void 0===t&&(t=Xc=Xc||new Iu(Aa)),this.value=e,this.children=t}var sl=(ul.empty=function(){return new ul(new ol(null))},ul);function ul(e){this.writeTree_=e}function cl(e,t,n){if($s(t))return new sl(new ol(n));if(null!=(o=e.writeTree_.findRootMostValueAndPath(t))){var r=o.path,i=o.value,o=Ys(r,t);return i=i.updateChild(o,n),new sl(e.writeTree_.set(r,i))}return n=new ol(n),n=e.writeTree_.setTree(t,n),new sl(n)}function ll(e,t,n){var r=e;return $a(n,(function(e,n){r=cl(r,Qs(t,e),n)})),r}function hl(e,t){return $s(t)?sl.empty():(t=e.writeTree_.setTree(t,new ol(null)),new sl(t))}function fl(e,t){return null!=dl(e,t)}function dl(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ys(n.path,t)):null}function pl(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Mu,(function(e,n){t.push(new fu(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new fu(e,n.value))})),t}function vl(e,t){if($s(t))return e;var n=dl(e,t);return new sl(null!=n?new ol(n):e.writeTree_.subtree(t))}function gl(e){return e.writeTree_.isEmpty()}function ml(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(oo(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(Qs(t,n),o,r)})),r=r.getChild(t).isEmpty()||null===i?r:r.updateChild(Qs(t,".priority"),i)}(Vs(),e.writeTree_,t)}function yl(e,t){return Nl(t,e)}function bl(e){return e.visible}function wl(e,t,n){for(var r=sl.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)Zs(n,a)?r=cl(r,s=Ys(n,a),o.snap):Zs(a,n)&&(s=Ys(a,n),r=cl(r,Vs(),o.snap.getChild(s)));else{if(!o.children)throw ao("WriteRecord should have .snap or .children");Zs(n,a)?r=ll(r,s=Ys(n,a),o.children):Zs(a,n)&&($s(s=Ys(a,n))?r=ll(r,Vs(),o.children):(o=Po(o.children,Bs(s)))&&(s=o.getChild(Ks(s)),r=cl(r,Vs(),s)))}}}return r}function _l(e,t,n,r,i){if(r||i){var o=vl(e.visibleWrites,t);return!i&&gl(o)?n:i||null!=n||fl(o,Vs())?ml(wl(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Zs(e.path,t)||Zs(t,e.path))}),t),n||Gu.EMPTY_NODE):null}return null!=(o=dl(e.visibleWrites,t))?o:gl(e=vl(e.visibleWrites,t))?n:null!=n||fl(e,Vs())?ml(e,n||Gu.EMPTY_NODE):null}function El(e,t,n,r){return _l(e.writeTree,e.treePath,t,n,r)}function Il(e,t){return function(e,t,n){var r=Gu.EMPTY_NODE,i=dl(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Mu,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=vl(e.visibleWrites,t);return n.forEachChild(Mu,(function(e,t){t=ml(vl(o,new Us(e)),t),r=r.updateImmediateChild(e,t)})),pl(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return pl(vl(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Sl(e,t,n,r){return i=e.writeTree,e=e.treePath,t=t,r=r,oo(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=Qs(e,t),fl(i.visibleWrites,e)?null:gl(e=vl(i.visibleWrites,e))?r.getChild(t):ml(e,r.getChild(t));var i}function Tl(e,t){return n=e.writeTree,t=Qs(e.treePath,t),dl(n.visibleWrites,t);var n}function kl(e,t,n){return r=e.writeTree,i=e.treePath,e=n,t=Qs(i,n=t),null!=(i=dl(r.visibleWrites,t))?i:e.isCompleteForChild(n)?ml(vl(r.visibleWrites,t),e.getNode().getImmediateChild(n)):null;var r,i}function Cl(e,t){return Nl(Qs(e.treePath,t),e.writeTree)}function Nl(e,t){return{treePath:e,writeTree:t}}var Al=(xl.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;oo("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),oo(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,dc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,fc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,hc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ao("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,dc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},xl.prototype.getChanges=function(){return Array.from(this.changeMap.values())},xl);function xl(){this.changeMap=new Map}function Pl(){}var Ol=new(Pl.prototype.getCompleteChild=function(e){return null},Pl.prototype.getChildAfterChild=function(e,t,n){return null},Pl),Rl=(Dl.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;return t.isCompleteForChild(e)?t.getNode().getImmediateChild(e):(t=null!=this.optCompleteServerCache_?new $c(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache,kl(this.writes_,e,t))},Dl.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:il(this.viewCache_);return 0===(e=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s;if(null!=(t=dl(e=vl(e.visibleWrites,t),Vs())))s=t;else{if(null==n)return[];s=ml(e,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=a.getCompare(),l=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=l.getNext();h&&u.length<i;)0!==c(h,r)&&u.push(h),h=l.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e)).length?null:e[0]},Dl);function Dl(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}function Ll(e,t,n,r,i,o){var a=t.eventCache;if(null!=Tl(r,n))return t;var s,u,c,l,h,f=void 0;return h=$s(n)?(oo(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()?(s=Il(r,(s=il(t))instanceof Gu?s:Gu.EMPTY_NODE),e.filter.updateFullNode(t.eventCache.getNode(),s,o)):(u=El(r,il(t)),e.filter.updateFullNode(t.eventCache.getNode(),u,o))):".priority"===(u=Bs(n))?(oo(1===zs(n),"Can't have a priority with additional path components"),null!=(l=Sl(r,n,c=a.getNode(),f=t.serverCache.getNode()))?e.filter.updatePriority(c,l):a.getNode()):(c=Ks(n),l=void 0,null!=(l=a.isCompleteForChild(u)?(f=t.serverCache.getNode(),null!=(f=Sl(r,n,a.getNode(),f))?a.getNode().getImmediateChild(u).updateChild(c,f):a.getNode().getImmediateChild(u)):kl(r,u,t.serverCache))?e.filter.updateChild(a.getNode(),u,l,c,i,o):a.getNode()),tl(t,h,a.isFullyInitialized()||$s(n),e.filter.filtersNodes())}function Ml(e,t,n,r,i,o,a,s){var u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if($s(n))h=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered())var l=u.getNode().updateChild(n,r),h=c.updateFullNode(u.getNode(),l,null);else{if(a=Bs(n),!u.isCompleteForPath(n)&&1<zs(n))return t;l=Ks(n),r=u.getNode().getImmediateChild(a).updateChild(l,r),h=".priority"===a?c.updatePriority(u.getNode(),r):c.updateChild(u.getNode(),a,r,l,Ol,null)}return Ll(e,c=nl(t,h,u.isFullyInitialized()||$s(n),c.filtersNodes()),n,i,new Rl(i,c,o),s)}function Fl(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new Rl(i,t,o);return $s(n)?(u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),tl(t,u,!0,e.filter.filtersNodes())):".priority"===(s=Bs(n))?(u=e.filter.updatePriority(t.eventCache.getNode(),r),tl(t,u,c.isFullyInitialized(),c.isFiltered())):(i=Ks(n),o=c.getNode().getImmediateChild(s),u=void 0,u=$s(i)?r:null!=(n=l.getCompleteChild(s))?".priority"===Ws(i)&&n.getChild(Gs(i)).isEmpty()?n:n.updateChild(i,r):Gu.EMPTY_NODE,o.equals(u)?t:tl(t,e.filter.updateChild(c.getNode(),s,u,i,l,a),c.isFullyInitialized(),e.filter.filtersNodes()))}function jl(e,t){return e.eventCache.isCompleteForChild(t)}function Ul(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function ql(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u=t,c=(r=$s(n)?r:new ol(null).setTree(n,r),t.serverCache.getNode());return r.children.inorderTraversal((function(n,r){c.hasChild(n)&&(r=Ul(0,t.serverCache.getNode().getImmediateChild(n),r),u=Ml(e,u,new Us(n),r,i,o,a,s))})),r.children.inorderTraversal((function(n,r){var l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;c.hasChild(n)||l||(r=Ul(0,t.serverCache.getNode().getImmediateChild(n),r),u=Ml(e,u,new Us(n),r,i,o,a,s))})),u}var Vl,Bl=(Object.defineProperty(zl.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),zl);function zl(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new pc(n.getIndex()),i=(o=n).loadsAllData()?new pc(o.getIndex()):new(o.hasLimit()?yc:gc)(o);this.processor_={filter:i},e=t.serverCache,n=t.eventCache;var o=r.updateFullNode(Gu.EMPTY_NODE,e.getNode(),null);t=i.updateFullNode(Gu.EMPTY_NODE,n.getNode(),null),r=new $c(o,e.isFullyInitialized(),r.filtersNodes()),i=new $c(t,n.isFullyInitialized(),i.filtersNodes()),this.viewCache_=el(i,r),this.eventGenerator_=new Jc(this.query_)}function Kl(e){return 0===e.eventRegistrations_.length}function Wl(e,t,n){var r,i=[];if(n&&(oo(null==t,"A cancel should cancel all event registrations."),r=e.query._path,e.eventRegistrations_.forEach((function(e){(e=e.createCancelEvent(n,r))&&i.push(e)}))),t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return i}function Hl(e,t,n,r){t.type===Fc.MERGE&&null!==t.source.queryId&&(oo(il(e.viewCache_),"We should always have a full cache before handling merges"),oo(rl(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_;return t=function(e,t,n,r,i){var o,a,s,u,c,l,h,f,d=new Al;if(n.type===Fc.OVERWRITE)var p=n,v=p.source.fromUser?Fl(e,t,p.path,p.snap,r,i,d):(oo(p.source.fromServer,"Unknown source."),o=p.source.tagged||t.serverCache.isFiltered()&&!$s(p.path),Ml(e,t,p.path,p.snap,r,i,o,d));else if(n.type===Fc.MERGE){var g=n;v=g.source.fromUser?(a=e,s=t,u=g.path,p=g.children,c=r,l=i,h=d,f=s,p.foreach((function(e,t){e=Qs(u,e),jl(s,Bs(e))&&(f=Fl(a,f,e,t,c,l,h))})),p.foreach((function(e,t){e=Qs(u,e),jl(s,Bs(e))||(f=Fl(a,f,e,t,c,l,h))})),f):(oo(g.source.fromServer,"Unknown source."),o=g.source.tagged||t.serverCache.isFiltered(),ql(e,t,g.path,g.children,r,i,o,d))}else if(n.type===Fc.ACK_USER_WRITE){var m=n;v=m.revert?function(e,t,n,r,i,o){var a;if(null!=Tl(r,n))return t;var s,u,c=new Rl(r,t,i),l=t.eventCache.getNode();return i=void 0,$s(n)||".priority"===Bs(n)?(u=void 0,u=t.serverCache.isFullyInitialized()?El(r,il(t)):(s=t.serverCache.getNode(),oo(s instanceof Gu,"serverChildren would be complete if leaf node"),Il(r,s)),i=e.filter.updateFullNode(l,u,o)):(null==(u=kl(r,s=Bs(n),t.serverCache))&&t.serverCache.isCompleteForChild(s)&&(u=l.getImmediateChild(s)),(i=null!=u?e.filter.updateChild(l,s,u,Ks(n),c,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(l,s,Gu.EMPTY_NODE,Ks(n),c,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=El(r,il(t))).isLeafNode()&&(i=e.filter.updateFullNode(i,a,o))),a=t.serverCache.isFullyInitialized()||null!=Tl(r,Vs()),tl(t,i,a,e.filter.filtersNodes())}(e,t,m.path,r,i,d):function(e,t,n,r,i,o,a){if(null!=Tl(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if($s(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ml(e,t,n,u.getNode().getChild(n),i,o,s,a);if($s(n)){var c=new ol(null);return u.getNode().forEachChild(gu,(function(e,t){c=c.set(new Us(e),t)})),ql(e,t,n,c,i,o,s,a)}return t}var l=new ol(null);return r.foreach((function(e,t){var r=Qs(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),ql(e,t,n,l,i,o,s,a)}(e,t,m.path,m.affectedTree,r,i,d)}else{if(n.type!==Fc.LISTEN_COMPLETE)throw ao("Unknown operation type: "+n.type);o=e,m=t,i=n.path,e=r,n=d,v=Ll(o,r=nl(m,(r=m.serverCache).getNode(),r.isFullyInitialized()||$s(i),r.isFiltered()),i,e,Ol,n)}return function(e,t,n){var r,i,o=t.eventCache;o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=rl(e),(0<n.length||!e.eventCache.isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(lc(rl(t))))}(t,v,d=d.getChanges()),{viewCache:v,changes:d}}(e.processor_,i,t,n,r),n=e.processor_,r=t.viewCache,oo(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),oo(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed"),oo(t.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=t.viewCache,Gl(e,t.changes,t.viewCache.eventCache.getNode(),null)}function Gl(e,t,n,r){return r=r?[r]:e.eventRegistrations_,function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Zc(e,i,"child_removed",t,r,n),Zc(e,i,"child_added",t,r,n),Zc(e,i,"child_moved",o,r,n),Zc(e,i,"child_changed",t,r,n),Zc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r)}var Ql,$l=function(){this.views=new Map};function Yl(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return oo(null!=s,"SyncTree gave us an op for an invalid query."),Hl(s,t,n,r)}var u=[];try{for(var c=Ji(e.views.values()),l=c.next();!l.done;l=c.next())s=l.value,u=u.concat(Hl(s,t,n,r))}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function Xl(e,t,n,r,i){var o=t._queryIdentifier;return(e=e.views.get(o))?e:(e=!1,e=!!(o=El(n,i?r:null))||(o=r instanceof Gu?Il(n,r):Gu.EMPTY_NODE,!1),i=el(new $c(o,e,!1),new $c(r,i,!1)),new Bl(t,i))}function Jl(e){var t,n,r=[];try{for(var i=Ji(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Zl(e,t){var n,r,i,o,a=null;try{for(var s=Ji(e.views.values()),u=s.next();!u.done;u=s.next()){var c=u.value;a=a||(i=t,o=void 0,(o=il((c=c).viewCache_))&&(c.query._queryParams.loadsAllData()||!$s(i)&&!o.getImmediateChild(Bs(i)).isEmpty())?o.getChild(i):null)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}function eh(e,t){return t._queryParams.loadsAllData()?rh(e):(t=t._queryIdentifier,e.views.get(t))}function th(e,t){return null!=eh(e,t)}function nh(e){return null!=rh(e)}function rh(e){var t,n;try{for(var r=Ji(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ih=1,oh=function(e){this.listenProvider_=e,this.syncPointTree_=new ol(null),this.pendingWriteTree_={visibleWrites:sl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ah(e,t,n,r,i){var o,a,s,u;return o=e.pendingWriteTree_,a=t,s=n,u=i,oo((r=r)>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),o.allWrites.push({path:a,snap:s,writeId:r,visible:u}),u&&(o.visibleWrites=cl(o.visibleWrites,a,s)),o.lastWriteId=r,i?fh(e,new Wc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function sh(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));oo(0<=n,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i,o=r.visible,a=!1,s=e.allWrites.length-1;o&&0<=s;){var u=e.allWrites[s];u.visible&&(n<=s&&function(e,t){if(e.snap)return Zs(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Zs(Qs(e.path,n),t))return!0;return!1}(u,r.path)?o=!1:Zs(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?((i=e).visibleWrites=wl(i.allWrites,bl,Vs()),0<i.allWrites.length?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1):r.snap?e.visibleWrites=hl(e.visibleWrites,r.path):$a(r.children,(function(t){e.visibleWrites=hl(e.visibleWrites,Qs(r.path,t))})),!0)}(e.pendingWriteTree_,t)){var i=new ol(null);return null!=r.snap?i=i.set(Vs(),!0):$a(r.children,(function(e){i=i.set(new Us(e),!0)})),fh(e,new Vc(r.path,i,n))}return[]}function uh(e,t,n){return fh(e,new Wc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ch(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||th(o,t))){var s=function(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],c=nh(e);if("default"===a)try{for(var l=Ji(e.views.entries()),h=l.next();!h.done;h=l.next()){var f=Zi(h.value,2),d=f[0],p=f[1];u=u.concat(Wl(p,n,r)),Kl(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=e.views.get(a))&&(u=u.concat(Wl(p,n,r)),Kl(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!nh(e)&&s.push((oo(Vl,"Reference.ts has not been loaded"),new Vl(t._repo,t._path))),{removed:s,events:u}}(o,t,n,r);if(0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i)),n=s.removed,a=s.events,o=-1!==n.findIndex((function(e){return e._queryParams.loadsAllData()})),s=e.syncPointTree_.findOnPath(i,(function(e,t){return nh(t)})),o&&!s&&!(i=e.syncPointTree_.subtree(i)).isEmpty())for(var u=i.fold((function(e,t,n){if(t&&nh(t))return[rh(t)];var r=[];return t&&(r=Jl(t)),$a(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=(h=u[c]).query,h=ph(e,h);e.listenProvider_.startListening(wh(l),vh(e,l),h.hashFn,h.onComplete)}!s&&0<n.length&&!r&&(o?e.listenProvider_.stopListening(wh(t),null):n.forEach((function(t){var n=e.queryToTagMap.get(gh(t));e.listenProvider_.stopListening(wh(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r,i=t[n];i._queryParams.loadsAllData()||(r=gh(i),i=e.queryToTagMap.get(r),e.queryToTagMap.delete(r),e.tagToQueryMap.delete(i))}}(e,n)}return a}function lh(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){e=Ys(e,r),i=i||Zl(t,e),o=o||nh(t)}));var a=e.syncPointTree_.get(r);a?(o=o||nh(a),i=i||Zl(a,Vs())):(a=new $l,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?l=!0:(l=!1,i=Gu.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){(t=Zl(t,Vs()))&&(i=i.updateImmediateChild(e,t))})));var s,u,c=th(a,t);c||t._queryParams.loadsAllData()||(s=gh(t),oo(!e.queryToTagMap.has(s),"View does not exist, but we have a tag"),u=ih++,e.queryToTagMap.set(s,u),e.tagToQueryMap.set(u,s));var l=function(e,t,n,r,i,o){var a;return o=Xl(e,t,r,i,o),e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),t=n,o.eventRegistrations_.push(t),t=n,o=(n=o).viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(Mu,(function(e,t){a.push(hc(e,t))})),o.isFullyInitialized()&&a.push(lc(o.getNode())),Gl(n,a,o.getNode(),t)}(a,t,n,yl(e.pendingWriteTree_,r),i,l);return c||o||(a=eh(a,t),l=l.concat(function(e,t,n){var r=t._path,i=vh(e,t);if(n=ph(e,n),n=e.listenProvider_.startListening(wh(t),i,n.hashFn,n.onComplete),r=e.syncPointTree_.subtree(r),i)oo(!nh(r.value),"If we're adding a query, it shouldn't be shadowed");else for(var o=r.fold((function(e,t,n){if(!$s(e)&&t&&nh(t))return[rh(t).query];var r=[];return t&&(r=r.concat(Jl(t).map((function(e){return e.query})))),$a(n,(function(e,t){r=r.concat(t)})),r})),a=0;a<o.length;++a){var s=o[a];e.listenProvider_.stopListening(wh(s),vh(e,s))}return n}(e,t,a))),l}function hh(e,t,n){var r=e.pendingWriteTree_;return e=e.syncPointTree_.findOnPath(t,(function(e,n){if(e=Zl(n,Ys(e,t)))return e})),_l(r,t,e,n,!0)}function fh(e,t){return function e(t,n,r,i){if($s(t.path))return dh(t,n,r,i);var o=n.get(Vs());null==r&&null!=o&&(r=Zl(o,Vs()));var a=[],s=Bs(t.path),u=t.operationForChild(s),c=n.children.get(s);return c&&u&&(n=r?r.getImmediateChild(s):null,s=Cl(i,s),a=a.concat(e(u,c,n,s))),o?a.concat(Yl(o,t,i,r)):a}(t,e.syncPointTree_,null,yl(e.pendingWriteTree_,Vs()))}function dh(e,t,n,r){var i=t.get(Vs());null==n&&null!=i&&(n=Zl(i,Vs()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Cl(r,t);(t=e.operationForChild(t))&&(o=o.concat(dh(t,i,a,s)))})),o=i?o.concat(Yl(i,e,r,n)):o}function ph(e,t){var n=t.query,r=vh(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||Gu.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=mh(e,n);return r?(r=(n=yh(r)).path,n=n.queryId,t=Ys(r,t),bh(e,r,new zc(qc(n),t))):[]}(e,n._path,r):(i=e,o=n._path,fh(i,new zc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},o)));var i,o=(o="Unknown Error","too_big"===(t=t)?o="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?o="Client doesn't have permission to access the desired data.":"unavailable"===t&&(o="The service is unavailable"),(o=new Error(t+" at "+n._path.toString()+": "+o)).code=t.toUpperCase(),o);return ch(e,n,null,o)}}}function vh(e,t){return t=gh(t),e.queryToTagMap.get(t)}function gh(e){return e._path.toString()+"$"+e._queryIdentifier}function mh(e,t){return e.tagToQueryMap.get(t)}function yh(e){var t=e.indexOf("$");return oo(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Us(e.substr(0,t))}}function bh(e,t,n){var r=e.syncPointTree_.get(t);return oo(r,"Missing sync point for query tag that we're tracking"),Yl(r,n,yl(e.pendingWriteTree_,t),null)}function wh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?(oo(Ql,"Reference.ts has not been loaded"),new Ql(e._repo,e._path)):e}var _h=(Eh.prototype.getImmediateChild=function(e){return new Eh(this.node_.getImmediateChild(e))},Eh.prototype.node=function(){return this.node_},Eh);function Eh(e){this.node_=e}var Ih=(Sh.prototype.getImmediateChild=function(e){return e=Qs(this.path_,e),new Sh(this.syncTree_,e)},Sh.prototype.node=function(){return hh(this.syncTree_,this.path_)},Sh);function Sh(e,t){this.syncTree_=e,this.path_=t}var Th=function(e,t,n){return e&&"object"==typeof e?(oo(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?kh(e[".sv"],t,n):"object"==typeof e[".sv"]?Ch(e[".sv"],t):void oo(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},kh=function(e,t,n){if("timestamp"===e)return n.timestamp;oo(!1,"Unexpected server value: "+e)},Ch=function(e,t,n){return e.hasOwnProperty("increment")||oo(!1,"Unexpected server value: "+JSON.stringify(e,null,2)),"number"!=typeof(e=e.increment)&&oo(!1,"Unexpected increment value: "+e),t=t.node(),oo(null!=t,"Expected ChildrenNode.EMPTY_NODE for nulls"),t.isLeafNode()?"number"!=typeof(t=t.getValue())?e:t+e:e},Nh=function(e,t,n,r){return xh(t,new Ih(n,e),r)},Ah=function(e,t,n){return xh(e,new _h(t),n)};function xh(e,t,n){var r=e.getPriority().val(),i=Th(r,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e;return(r=Th(o.getValue(),t,n))!==o.getValue()||i!==o.getPriority().val()?new Ru(r,Xu(i)):e}var a=e=e;return i!==e.getPriority().val()&&(a=a.updatePriority(new Ru(i))),e.forEachChild(Mu,(function(e,r){var i=xh(r,t.getImmediateChild(e),n);i!==r&&(a=a.updateImmediateChild(e,i))})),a}var Ph=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Oh(e,t){for(var n=t instanceof Us?t:new Us(t),r=e,i=Bs(n);null!==i;){var o=Po(r.node.children,i)||{children:{},childCount:0};r=new Ph(i,r,o),i=Bs(n=Ks(n))}return r}function Rh(e){return e.node.value}function Dh(e,t){e.node.value=t,jh(e)}function Lh(e){return 0<e.node.childCount}function Mh(e,t){$a(e.node.children,(function(n,r){t(new Ph(n,e,r))}))}function Fh(e){return new Us(null===e.parent?e.name:Fh(e.parent)+"/"+e.name)}function jh(e){var t,n,r,i;null!==e.parent&&(t=e.parent,n=e.name,i=function(e){return void 0===Rh(e)&&!Lh(e)}(r=e),e=xo(t.node.children,n),i&&e?(delete t.node.children[n],t.node.childCount--,jh(t)):i||e||(t.node.children[n]=r.node,t.node.childCount++,jh(t)))}function Uh(e){return"string"==typeof e&&0!==e.length&&!Kh.test(e)}function qh(e){return"string"==typeof e&&0!==e.length&&!Wh.test(e)}function Vh(e,t,n,r){if(!r||void 0!==t){var i=Vo(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];$a(t,(function(e,t){if(e=new Us(e),$h(i,t,Qs(n,e)),".priority"===Ws(e)&&!Gh(t))throw new Error(i+"contains an invalid value for '"+e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(e)})),function(e,t){for(var n=0;n<t.length;n++)for(var r,i=Hs(r=t[n]),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!Uh(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Xs);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Zs(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}}function Bh(e,t,n){if(!n||void 0!==t){if(Na(t))throw new Error(Vo(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gh(t))throw new Error(Vo(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function zh(e,t,n,r){if(!(r&&void 0===n||Uh(n)))throw new Error(Vo(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}var Kh=/[\[\].#$\/\u0000-\u001F\u007F]/,Wh=/[\[\].#$\u0000-\u001F\u007F]/,Hh=10485760,Gh=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Na(e)||e&&"object"==typeof e&&xo(e,".sv")},Qh=function(e,t,n,r){r&&void 0===t||$h(Vo(e,"value"),t,n)},$h=function(e,t,n){var r=n instanceof Us?new eu(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+nu(r));if("function"==typeof t)throw new Error(e+"contains a function "+nu(r)+" with contents = "+t.toString());if(Na(t))throw new Error(e+"contains "+t.toString()+" "+nu(r));if("string"==typeof t&&t.length>Hh/3&&Ko(t)>Hh)throw new Error(e+"contains a string greater than "+Hh+" utf8 bytes "+nu(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if($a(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Uh(t)))throw new Error(e+" contains an invalid key ("+t+") "+nu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a;a=t,0<(t=r).parts_.length&&(t.byteLength_+=1),t.parts_.push(a),t.byteLength_+=Ko(a),tu(t),$h(e,n,r),n=(t=r).parts_.pop(),t.byteLength_-=Ko(n),0<t.parts_.length&&--t.byteLength_})),i&&o)throw new Error(e+' contains ".value" child '+nu(r)+" in addition to actual children.")}},Yh=function(e,t,n,r){if(!(r&&void 0===n||qh(n)))throw new Error(Vo(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xh=function(e,t,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),Yh(e,t,n,r)},Jh=function(e,t){if(".info"===Bs(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zh=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Uh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!qh(n=(n=n)&&n.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(Vo(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ef=function(){this.eventLists_=[],this.recursionDepth_=0};function tf(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Js(o,n.path)||(e.eventLists_.push(n),n=null),(n=null===n?{events:[],path:o}:n).events.push(i)}n&&e.eventLists_.push(n)}function nf(e,t,n){tf(e,n),of(e,(function(e){return Js(e,t)}))}function rf(e,t,n){tf(e,n),of(e,(function(e){return Zs(e,t)||Zs(t,e)}))}function of(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n,r=e.events[t];null!==r&&(e.events[t]=null,n=r.getEventRunner(),ja&&Va("event: "+r.toString()),ns(n))}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}var af="repo_interrupt",sf=(uf.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},uf);function uf(e,t,n){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ef,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oc(),this.transactionQueueTree_=new Ph,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function cf(e){return e=e.infoData_.getNode(new Us(".info/serverTimeOffset")).val()||0,(new Date).getTime()+e}function lf(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:cf(e)})}function hf(e,t,n,r,i){e.dataUpdateCount++;var o=new Us(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a,s,u,c,l=o;0<(c=i?r?(a=Ro(n,(function(e){return Xu(e)})),function(e,t,n,r){var i=mh(e,r);return i?(i=(r=yh(i)).path,r=r.queryId,t=Ys(i,t),n=ol.fromObject(n),bh(e,i,new Gc(qc(r),t,n))):[]}(e.serverSyncTree_,o,a,i)):(t=Xu(n),a=e.serverSyncTree_,s=o,u=t,null==(i=mh(a,t=i))?[]:(t=yh(i),i=t.path,t=t.queryId,s=Ys(i,s),bh(a,i,new Wc(qc(t),s,u)))):r?(s=Ro(n,(function(e){return Xu(e)})),u=e.serverSyncTree_,r=o,s=s,s=ol.fromObject(s),fh(u,new Gc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,s))):(n=Xu(n),uh(e.serverSyncTree_,o,n))).length&&(l=If(e,o)),rf(e.eventQueue_,l,c)}function ff(e,t){df(e,"connected",t),!1===t&&function(e){bf(e,"onDisconnectEvents");var t=lf(e),n=Oc();Dc(e.onDisconnect_,Vs(),(function(r,i){i=Nh(r,i,e.serverSyncTree_,t),Rc(n,r,i)}));var r=[];Dc(n,Vs(),(function(t,n){r=r.concat(uh(e.serverSyncTree_,t,n)),t=Cf(e,t),If(e,t)})),e.onDisconnect_=Oc(),rf(e.eventQueue_,Vs(),r)}(e)}function df(e,t,n){t=new Us("/.info/"+t),n=Xu(n),e.infoData_.updateSnapshot(t,n),n=uh(e.infoSyncTree_,t,n),rf(e.eventQueue_,t,n)}function pf(e){return e.nextWriteId_++}function vf(e,t,n,r,i){bf(e,"set",{path:t.toString(),value:n,priority:r});var o=lf(e),a=(n=Xu(n,r),r=hh(e.serverSyncTree_,t),o=Ah(n,r,o),pf(e));o=ah(e.serverSyncTree_,t,o,a,!0),tf(e.eventQueue_,o),e.server_.put(t.toString(),n.val(!0),(function(n,r){var o="ok"===n;o||Ka("set at "+t+" failed: "+n),o=sh(e.serverSyncTree_,a,!o),rf(e.eventQueue_,t,o),wf(0,i,n,r)})),n=Cf(e,t),If(e,n),rf(e.eventQueue_,n,[])}function gf(e,t,n,r){var i=Xu(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Rc(e.onDisconnect_,t,i),wf(0,r,n,o)}))}function mf(e,t,n){n=".info"===Bs(t._path)?ch(e.infoSyncTree_,t,n):ch(e.serverSyncTree_,t,n),nf(e.eventQueue_,t._path,n)}function yf(e){e.persistentConnection_&&e.persistentConnection_.interrupt(af)}function bf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Va.apply(void 0,eo([r],Zi(t)))}function wf(e,t,n,r){t&&ns((function(){var e,i;"ok"===n?t(null):(i=e=(n||"error").toUpperCase(),r&&(i+=": "+r),(i=new Error(i)).code=e,t(i))}))}function _f(e,t,n){return hh(e.serverSyncTree_,t,n)||Gu.EMPTY_NODE}function Ef(e,t){var n;(t=void 0===t?e.transactionQueueTree_:t)||kf(e,t),Rh(t)?(n=Tf(e,t),oo(0<n.length,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=u=_f(e,t,r),o=(r=u.hash(),0);o<n.length;o++){var a=n[o];oo(0===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=1,a.retryCount++;var s=Ys(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;e.server_.put(c.toString(),u,(function(r){bf(e,"transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++)!function(t){n[t].status=2,i=i.concat(sh(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()}(a);for(kf(e,Oh(e.transactionQueueTree_,t)),Ef(e,e.transactionQueueTree_),rf(e.eventQueue_,t,i),a=0;a<o.length;a++)ns(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(Ka("transaction at "+c.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;If(e,t)}}),r)}(e,Fh(t),n)):Lh(t)&&Mh(t,(function(t){Ef(e,t)}))}function If(e,t){var n=Sf(e,t);return t=Fh(n),function(e,t,n){if(0!==t.length){for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=0;a<t.length;a++)!function(a){var s,u,c,l,h=t[a],f=Ys(n,h.path),d=!1;oo(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status?(d=!0,s=h.abortReason,i=i.concat(sh(e.serverSyncTree_,h.currentWriteId,!0))):0===h.status&&(i=h.retryCount>=25?(d=!0,s="maxretry",i.concat(sh(e.serverSyncTree_,h.currentWriteId,!0))):(u=_f(e,h.path,o),h.currentInputSnapshot=u,void 0!==(l=t[a].update(u.val()))?($h("transaction failed: Data returned ",l,h.path),c=Xu(l),"object"==typeof l&&null!=l&&xo(l,".priority")||(c=c.updatePriority(u.getPriority())),f=h.currentWriteId,l=lf(e),l=Ah(c,u,l),h.currentOutputSnapshotRaw=c,h.currentOutputSnapshotResolved=l,h.currentWriteId=pf(e),o.splice(o.indexOf(f),1),(i=i.concat(ah(e.serverSyncTree_,h.path,l,h.currentWriteId,h.applyLocally))).concat(sh(e.serverSyncTree_,f,!0))):(d=!0,s="nodata",i.concat(sh(e.serverSyncTree_,h.currentWriteId,!0))))),rf(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,d=t[a].unwatcher,setTimeout(d,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))}(a);for(kf(e,e.transactionQueueTree_),a=0;a<r.length;a++)ns(r[a]);Ef(e,e.transactionQueueTree_)}}(e,Tf(e,n),t),t}function Sf(e,t){for(var n=e.transactionQueueTree_,r=Bs(t);null!==r&&void 0===Rh(n);)n=Oh(n,r),r=Bs(t=Ks(t));return n}function Tf(e,t){var n=[];return function e(t,n,r){var i=Rh(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Mh(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function kf(e,t){var n=Rh(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Dh(t,0<n.length?n:void 0)}Mh(t,(function(t){kf(e,t)}))}function Cf(e,t){var n=Fh(Sf(e,t));return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return;r=r.parent}}(t=Oh(e.transactionQueueTree_,t),(function(t){Nf(e,t)})),Nf(e,t),function e(t,n,r,i){r&&!i&&n(t),Mh(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(t,(function(t){Nf(e,t)})),n}function Nf(e,t){var n=Rh(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(oo(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=3,n[a].abortReason="set"):(oo(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(sh(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?Dh(t,void 0):n.length=o+1,rf(e.eventQueue_,Fh(t),i),a=0;a<r.length;a++)ns(r[a])}}var Af=function(e,t){var n=xf(e),r=n.namespace;return"firebase.com"===n.domain&&za(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||za("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ka("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),e="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new ls(n.host,n.secure,r,t,e,"",r!==n.subdomain),path:new Us(n.pathString)}},xf=function(e){var t,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof e&&(0<=(r=e.indexOf("//"))&&(l=e.substring(0,r-1),e=e.substring(r+2)),-1===(t=e.indexOf("/"))&&(t=e.length),-1===(n=e.indexOf("?"))&&(n=e.length),i=e.substring(0,Math.min(t,n)),t<n&&(s=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(t,n))),n=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Ji(e.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ka("Invalid query segment '"+s+"' in query '"+e+"'"))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},Pf=(Of.prototype.getPath=function(){var e=this.snapshot.ref;return("value"===this.eventType?e:e.parent)._path},Of.prototype.getEventType=function(){return this.eventType},Of.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Of.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+No(this.snapshot.exportVal())},Of);function Of(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var Rf=(Df.prototype.getPath=function(){return this.path},Df.prototype.getEventType=function(){return"cancel"},Df.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Df.prototype.toString=function(){return this.path.toString()+":cancel"},Df);function Df(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var Lf=(Mf.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},Mf.prototype.onCancel=function(e){return oo(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(Mf.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),Mf.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},Mf);function Mf(e,t){this.snapshotCallback=e,this.cancelCallback=t}var Ff=(jf.prototype.cancel=function(){var e=new lo;return function(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if($s(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(Mu,(function(e,n){Rc(t,new Us(e),n)})),e(t,n)}return!(0<t.children.size)||(r=Bs(n),n=Ks(n),t.children.has(r)&&e(t.children.get(r),n)&&t.children.delete(r),0===t.children.size)}(e.onDisconnect_,t),wf(0,n,r,i)}))}(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},jf.prototype.remove=function(){Jh("OnDisconnect.remove",this._path);var e=new lo;return gf(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},jf.prototype.set=function(e){Jh("OnDisconnect.set",this._path),Qh("OnDisconnect.set",e,this._path,!1);var t=new lo;return gf(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},jf.prototype.setWithPriority=function(e,t){Jh("OnDisconnect.setWithPriority",this._path),Qh("OnDisconnect.setWithPriority",e,this._path,!1),Bh("OnDisconnect.setWithPriority",t,!1);var n,r,i,o,a=new lo;return n=this._repo,r=this._path,e=e,t=t,i=a.wrapCallback((function(){})),o=Xu(e,t),n.server_.onDisconnectPut(r.toString(),o.val(!0),(function(e,t){"ok"===e&&Rc(n.onDisconnect_,r,o),wf(0,i,e,t)})),a.promise},jf.prototype.update=function(e){Jh("OnDisconnect.update",this._path),Vh("OnDisconnect.update",e,this._path,!1);var t=new lo;return function(e,t,n,r){if(Oo(n))return Va("onDisconnect().update() called with empty data.  Don't do anything."),wf(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&$a(n,(function(n,r){r=Xu(r),Rc(e.onDisconnect_,Qs(t,n),r)})),wf(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},jf);function jf(e,t){this._repo=e,this._path=t}var Uf=(Object.defineProperty(qf.prototype,"key",{get:function(){return $s(this._path)?null:Ws(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(qf.prototype,"ref",{get:function(){return new Wf(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(qf.prototype,"_queryIdentifier",{get:function(){var e=kc(this._queryParams);return"{}"===(e=Qa(e))?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(qf.prototype,"_queryObject",{get:function(){return kc(this._queryParams)},enumerable:!1,configurable:!0}),qf.prototype.isEqual=function(e){if(!((e=Ho(e))instanceof qf))return!1;var t=this._repo===e._repo,n=Js(this._path,e._path);return e=this._queryIdentifier===e._queryIdentifier,t&&n&&e},qf.prototype.toJSON=function(){return this.toString()},qf.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},qf);function qf(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}function Vf(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Bf(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===gu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Wa)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Ha)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Mu){if(null!=t&&!Gh(t)||null!=n&&!Gh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(oo(e.getIndex()instanceof ec||e.getIndex()===sc,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zf(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Kf,Wf=(Qi(Hf,Kf=Uf),Object.defineProperty(Hf.prototype,"parent",{get:function(){var e=Gs(this._path);return null===e?null:new Hf(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Hf.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),Hf);function Hf(e,t){return Kf.call(this,e,t,new wc,!1)||this}var Gf=(Object.defineProperty(Qf.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(Qf.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(Qf.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),Qf.prototype.child=function(e){var t=new Us(e);return e=Xf(this.ref,e),new Qf(this._node.getChild(t),e,Mu)},Qf.prototype.exists=function(){return!this._node.isEmpty()},Qf.prototype.exportVal=function(){return this._node.val(!0)},Qf.prototype.forEach=function(e){var t=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(n,r){return e(new Qf(r,Xf(t.ref,n),Mu))}))},Qf.prototype.hasChild=function(e){return e=new Us(e),!this._node.getChild(e).isEmpty()},Qf.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},Qf.prototype.toJSON=function(){return this.exportVal()},Qf.prototype.val=function(){return this._node.val()},Qf);function Qf(e,t,n){this._node=e,this.ref=t,this._index=n}function $f(e,t){return(e=Ho(e))._checkNotDeleted("ref"),void 0!==t?Xf(e._root,t):e._root}function Yf(e,t){(e=Ho(e))._checkNotDeleted("refFromURL");var n=Af(t,e._repo.repoInfo_.nodeAdmin);return Zh("refFromURL",n),t=n.repoInfo,e._repo.repoInfo_.isCustomHost()||t.host===e._repo.repoInfo_.host||za("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+e._repo.repoInfo_.host+")"),$f(e,n.path.toString())}function Xf(e,t){return(null===Bs((e=Ho(e))._path)?Xh:Yh)("child","path",t,!1),new Wf(e._repo,Qs(e._path,t))}function Jf(e,t){e=Ho(e),Jh("set",e._path),Qh("set",t,e._path,!1);var n=new lo;return vf(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Zf(e,t){Vh("update",t,e._path,!1);var n=new lo;return function(e,t,n,r){bf(e,"update",{path:t.toString(),value:n});var i,o,a=!0,s=lf(e),u={};$a(n,(function(n,r){a=!1,u[n]=Nh(Qs(t,n),Xu(r),e.serverSyncTree_,s)})),a?(Va("update() called with empty data.  Don't do anything."),wf(0,r,"ok",void 0)):(i=pf(e),o=function(e,t,n,r){var i,o,a;return i=e.pendingWriteTree_,o=t,a=n,oo((r=r)>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:o,children:a,writeId:r,visible:!0}),i.visibleWrites=ll(i.visibleWrites,o,a),i.lastWriteId=r,n=ol.fromObject(n),fh(e,new Gc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n))}(e.serverSyncTree_,t,u,i),tf(e.eventQueue_,o),e.server_.merge(t.toString(),n,(function(n,o){(s="ok"===n)||Ka("update at "+t+" failed: "+n);var a=sh(e.serverSyncTree_,i,!s),s=0<a.length?If(e,t):t;rf(e.eventQueue_,s,a),wf(0,r,n,o)})),$a(n,(function(n){n=Cf(e,Qs(t,n)),If(e,n)})),rf(e.eventQueue_,t,[]))}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function ed(e){return e=Ho(e),t=e._repo,n=e,(null!=(r=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){e=Ys(e,n),r=r||Zl(t,e)}));var i=e.syncPointTree_.get(n);i?r=r||Zl(i,Vs()):(i=new $l,e.syncPointTree_=e.syncPointTree_.set(n,i));var o,a=(o=null!=r)?new $c(r,!0,!1):null;return rl((o=Xl(i,t,yl(e.pendingWriteTree_,t._path),o?a.getNode():Gu.EMPTY_NODE,o)).viewCache_)}(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then((function(e){var r=Xu(e);return e=uh(t.serverSyncTree_,n._path,r),nf(t.eventQueue_,n._path,e),Promise.resolve(r)}),(function(e){return bf(t,"get for query "+No(n)+" failed: "+e),Promise.reject(new Error(e))}))).then((function(t){return new Gf(t,new Wf(e._repo,e._path),e._queryParams.getIndex())}));var t,n,r}var td=(nd.prototype.respondsTo=function(e){return"value"===e},nd.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Pf("value",this,new Gf(e.snapshotNode,new Wf(t._repo,t._path),n))},nd.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},nd.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Rf(this,e,t):null},nd.prototype.matches=function(e){return e instanceof nd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},nd.prototype.hasAnyCallback=function(){return null!==this.callbackContext},nd);function nd(e){this.callbackContext=e}var rd=(id.prototype.respondsTo=function(e){return e="children_removed"===(e="children_added"===e?"child_added":e)?"child_removed":e,xo(this.callbacks,e)},id.prototype.createCancelEvent=function(e,t){return this.callbacks.cancel.hasCancelCallback?new Rf(this,e,t):null},id.prototype.createEvent=function(e,t){oo(null!=e.childName,"Child events should have a childName.");var n=Xf(new Wf(t._repo,t._path),e.childName);return t=t._queryParams.getIndex(),new Pf(e.type,this,new Gf(e.snapshotNode,n,t),e.prevName)},id.prototype.getEventRunner=function(e){if("cancel"===e.getEventType()){var t=this.callbacks.cancel;return function(){return t.onCancel(e.error)}}var n=this.callbacks[e.eventType];return function(){return n.onValue(e.snapshot,e.prevName)}},id.prototype.matches=function(e){var t=this;if(e instanceof id){if(!this.callbacks||!e.callbacks)return!0;var n=Object.keys(e.callbacks),r=Object.keys(this.callbacks),i=n.length;if(i===r.length)return 1!==i?r.every((function(n){return e.callbacks[n].matches(t.callbacks[n])})):(n=n[0],(r=r[0])===n&&(!e.callbacks[n]||!this.callbacks[r]||e.callbacks[n].matches(this.callbacks[r])))}return!1},id.prototype.hasAnyCallback=function(){return null!==this.callbacks},id);function id(e){this.callbacks=e}function od(e,t,n,r,i){var o;"object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce&&((i=function(t,n){o(t,n),mf(e._repo,e,u)}).userCallback=(o=n).userCallback,i.context=n.context,n=i);var a,s=new Lf(n,s||void 0),u="value"===t?new td(s):new rd(((a={})[t]=s,a));return t=e._repo,s=u,s=".info"===Bs((a=e)._path)?lh(t.infoSyncTree_,a,s):lh(t.serverSyncTree_,a,s),nf(t.eventQueue_,a._path,s),function(){return mf(e._repo,e,u)}}function ad(e,t,n,r){return od(e,"value",t,n,r)}function sd(e,t,n,r){return od(e,"child_added",t,n,r)}function ud(e,t,n,r){return od(e,"child_changed",t,n,r)}function cd(e,t,n,r){return od(e,"child_moved",t,n,r)}function ld(e,t,n,r){return od(e,"child_removed",t,n,r)}function hd(e,t,n){var r=null,i=null,o=n?new Lf(n):null;"value"===t?r=new td(o):t&&(n&&((i={})[t]=o),r=new rd(i)),mf(e._repo,e,r)}var fd,dd=(Qi(pd,fd=kn=function(){}),pd.prototype._apply=function(e){Qh("endAt",this._value,e._path,!0);var t=Ic(e._queryParams,this._value,this._key);if(zf(t),Bf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Uf(e._repo,e._path,t,e._orderByCalled)},pd);function pd(e,t){var n=fd.call(this)||this;return n._value=e,n._key=t,n}var vd,gd=(Qi(md,vd=kn),md.prototype._apply=function(e){var t,n,r;if(Qh("endBefore",this._value,e._path,!1),zf((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===gu?Ic(t,n="string"==typeof n?ic(n):n,r):Ic(t,n,null==r?Wa:ic(r))).endBeforeSet_=!0,r=r)),Bf(r),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Uf(e._repo,e._path,r,e._orderByCalled)},md);function md(e,t){var n=vd.call(this)||this;return n._value=e,n._key=t,n}var yd,bd=(Qi(wd,yd=kn),wd.prototype._apply=function(e){Qh("startAt",this._value,e._path,!0);var t=Ec(e._queryParams,this._value,this._key);if(zf(t),Bf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Uf(e._repo,e._path,t,e._orderByCalled)},wd);function wd(e,t){var n=yd.call(this)||this;return n._value=e,n._key=t,n}var _d,Ed=(Qi(Id,_d=kn),Id.prototype._apply=function(e){var t,n,r;if(Qh("startAfter",this._value,e._path,!1),zf((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===gu?Ec(t,n="string"==typeof n?rc(n):n,r):Ec(t,n,null==r?Ha:rc(r))).startAfterSet_=!0,r=r)),Bf(r),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Uf(e._repo,e._path,r,e._orderByCalled)},Id);function Id(e,t){var n=_d.call(this)||this;return n._value=e,n._key=t,n}var Sd,Td=(Qi(kd,Sd=kn),kd.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Uf(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="l",t),e._orderByCalled);var t,n},kd);function kd(e){var t=Sd.call(this)||this;return t._limit=e,t}var Cd,Nd=(Qi(Ad,Cd=kn),Ad.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Uf(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="r",t),e._orderByCalled);var t,n},Ad);function Ad(e){var t=Cd.call(this)||this;return t._limit=e,t}var xd,Pd=(Qi(Od,xd=kn),Od.prototype._apply=function(e){Vf(e,"orderByChild");var t=new Us(this._path);if($s(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return t=new ec(t),Bf(t=Sc(e._queryParams,t)),new Uf(e._repo,e._path,t,!0)},Od);function Od(e){var t=xd.call(this)||this;return t._path=e,t}var Rd,Dd=(Qi(Ld,Rd=kn),Ld.prototype._apply=function(e){Vf(e,"orderByKey");var t=Sc(e._queryParams,gu);return Bf(t),new Uf(e._repo,e._path,t,!0)},Ld);function Ld(){return null!==Rd&&Rd.apply(this,arguments)||this}var Md,Fd=(Qi(jd,Md=kn),jd.prototype._apply=function(e){Vf(e,"orderByPriority");var t=Sc(e._queryParams,Mu);return Bf(t),new Uf(e._repo,e._path,t,!0)},jd);function jd(){return null!==Md&&Md.apply(this,arguments)||this}var Ud,qd=(Qi(Vd,Ud=kn),Vd.prototype._apply=function(e){Vf(e,"orderByValue");var t=Sc(e._queryParams,sc);return Bf(t),new Uf(e._repo,e._path,t,!0)},Vd);function Vd(){return null!==Ud&&Ud.apply(this,arguments)||this}var Bd,zd,Kd,Wd=(Qi(Hd,Bd=kn),Hd.prototype._apply=function(e){if(Qh("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dd(this._value,this._key)._apply(new bd(this._value,this._key)._apply(e))},Hd);function Hd(e,t){var n=Bd.call(this)||this;return n._value=e,n._key=t,n}function Gd(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Ho(e);try{for(var a=Ji(r),s=a.next();!s.done;s=a.next())o=s.value._apply(o)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}zd=Wf,oo(!Vl,"__referenceConstructor has already been defined"),Vl=zd,Kd=Wf,oo(!Ql,"__referenceConstructor has already been defined"),Ql=Kd;var Qd={},$d=!1;function Yd(e,t,n,r){var i=n||e.options.databaseURL;void 0===i&&(e.options.projectId||za("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Va("Using default host for project ",e.options.projectId),i=e.options.projectId+"-default-rtdb.firebaseio.com");var o,a=Af(i,r),s=a.repoInfo;return n=void 0,(n="undefined"!=typeof process?process.env.FIREBASE_DATABASE_EMULATOR_HOST:n)?(o=!0,i="http://"+n+"?ns="+s.namespace,s=(a=Af(i,r)).repoInfo):o=!a.repoInfo.secure,t=r&&o?new os:new rs(e.name,e.options,t),Zh("Invalid Firebase Database URL",a),$s(a.path)||za("Database URL must point to the root of a Firebase Database (not including a child path)."),t=function(e,t,n){var r=Qd[t.name];return r||(r={},Qd[t.name]=r),(t=r[e.toURLString()])&&za("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),t=new sf(e,$d,n),r[e.toURLString()]=t}(s,e,t),new Xd(t,e)}var Xd=(Object.defineProperty(Jd.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=ms(e.repoInfo_),e.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))e.server_=new Nc(e.repoInfo_,(function(t,n,r,i){hf(e,t,n,r,i)}),e.authTokenProvider_),setTimeout((function(){return ff(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{No(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}e.persistentConnection_=new uu(e.repoInfo_,t,(function(t,n,r,i){hf(e,t,n,r,i)}),(function(t){ff(e,t)}),(function(t){var n;n=e,$a(t,(function(e,t){df(n,e,t)}))}),e.authTokenProvider_,n),e.server_=e.persistentConnection_}var r;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.statsReporter_=(t=function(){return new jc(e.stats_,e.server_)},r=(r=e.repoInfo_).toString(),gs[r]||(gs[r]=t()),gs[r]),e.infoData_=new xc,e.infoSyncTree_=new oh({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=uh(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),df(e,"connected",!1),e.serverSyncTree_=new oh({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){r=i(n,r),rf(e.eventQueue_,t._path,r)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(Jd.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Wf(this._repo,Vs())),this._rootInternal},enumerable:!1,configurable:!0}),Jd.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Qd[t])&&n[e.key]===e||za("Database "+t+"("+e.repoInfo_+") has already been deleted."),yf(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},Jd.prototype._checkNotDeleted=function(e){null===this._rootInternal&&za("Cannot call "+e+" on a deleted database.")},Jd);function Jd(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}function Zd(e){(e=Ho(e))._checkNotDeleted("goOnline"),(e=e._repo).persistentConnection_&&e.persistentConnection_.resume(af)}var ep=(tp.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},tp);function tp(e,t){this.committed=e,this.snapshot=t}function np(e,t,n){if(e=Ho(e),Jh("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";n=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i;var r=new lo,i=ad(e,(function(){}));return function(e,t,n,r,i,o){bf(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:Ma(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};n=_f(e,t,void 0),a.currentInputSnapshot=n,void 0===(r=a.update(n.val()))?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot)):($h("transaction failed: Data returned ",r,a.path),a.status=0,(i=Rh(o=Oh(e.transactionQueueTree_,t))||[]).push(a),Dh(o,i),o=void 0,"object"==typeof r&&null!==r&&xo(r,".priority")?(o=Po(r,".priority"),oo(Gh(o),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):o=(hh(e.serverSyncTree_,t)||Gu.EMPTY_NODE).getPriority().val(),i=lf(e),o=Xu(r,o),i=Ah(o,n,i),a.currentOutputSnapshotRaw=o,a.currentOutputSnapshotResolved=i,a.currentWriteId=pf(e),a=ah(e.serverSyncTree_,t,i,a.currentWriteId,a.applyLocally),rf(e.eventQueue_,t,a),Ef(e,e.transactionQueueTree_))}(e._repo,e._path,t,(function(t,n,i){var o;t?r.reject(t):(o=new Gf(i,new Wf(e._repo,e._path),Mu),r.resolve(new ep(n,o)))}),i,n),r.promise}var rp=(ip.prototype.cancel=function(e){qo("OnDisconnect.cancel",0,1,arguments.length),Bo("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},ip.prototype.remove=function(e){qo("OnDisconnect.remove",0,1,arguments.length),Bo("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},ip.prototype.set=function(e,t){return qo("OnDisconnect.set",1,2,arguments.length),Bo("OnDisconnect.set","onComplete",t,!0),e=this._delegate.set(e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},ip.prototype.setWithPriority=function(e,t,n){return qo("OnDisconnect.setWithPriority",2,3,arguments.length),Bo("OnDisconnect.setWithPriority","onComplete",n,!0),t=this._delegate.setWithPriority(e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},ip.prototype.update=function(e,t){if(qo("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Ka("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bo("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},ip);function ip(e){this._delegate=e}var op=(ap.prototype.toJSON=function(){return qo("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},ap);function ap(e,t){this.committed=e,this.snapshot=t}var sp=(up.prototype.val=function(){return qo("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},up.prototype.exportVal=function(){return qo("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},up.prototype.toJSON=function(){return qo("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},up.prototype.exists=function(){return qo("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},up.prototype.child=function(e){return qo("DataSnapshot.child",0,1,arguments.length),e=String(e),Yh("DataSnapshot.child","path",e,!1),new up(this._database,this._delegate.child(e))},up.prototype.hasChild=function(e){return qo("DataSnapshot.hasChild",1,1,arguments.length),Yh("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},up.prototype.getPriority=function(){return qo("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},up.prototype.forEach=function(e){var t=this;return qo("DataSnapshot.forEach",1,1,arguments.length),Bo("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(n){return e(new up(t._database,n))}))},up.prototype.hasChildren=function(){return qo("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(up.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),up.prototype.numChildren=function(){return qo("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},up.prototype.getRef=function(){return qo("DataSnapshot.ref",0,0,arguments.length),new fp(this._database,this._delegate.ref)},Object.defineProperty(up.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),up);function up(e,t){this._database=e,this._delegate=t}var cp=(lp.prototype.on=function(e,t,n,r){var i=this;function o(e,n){t.call(a.context,new sp(i.database,e),n)}qo("Query.on",2,4,arguments.length),Bo("Query.on","callback",t,!1);var a=lp.getCancelAndContextArgs_("Query.on",n,r);o.userCallback=t,o.context=a.context;var s=null===(r=a.cancel)||void 0===r?void 0:r.bind(a.context);switch(e){case"value":return ad(this._delegate,o,s),t;case"child_added":return sd(this._delegate,o,s),t;case"child_removed":return ld(this._delegate,o,s),t;case"child_changed":return ud(this._delegate,o,s),t;case"child_moved":return cd(this._delegate,o,s),t;default:throw new Error(Vo("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},lp.prototype.off=function(e,t,n){var r;qo("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Vo("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),Bo("Query.off","callback",t,!0),zo("Query.off","context",n,!0),t?((r=function(){}).userCallback=t,r.context=n,hd(this._delegate,e,r)):hd(this._delegate,e)},lp.prototype.get=function(){var e=this;return ed(this._delegate).then((function(t){return new sp(e.database,t)}))},lp.prototype.once=function(e,t,n,r){var i=this;function o(e,n){e=new sp(i.database,e),t&&t.call(a.context,e,n),s.resolve(e)}qo("Query.once",1,4,arguments.length),Bo("Query.once","callback",t,!0);var a=lp.getCancelAndContextArgs_("Query.on",n,r),s=new lo;function u(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)}switch(o.userCallback=t,o.context=a.context,e){case"value":ad(this._delegate,o,u,{onlyOnce:!0});break;case"child_added":sd(this._delegate,o,u,{onlyOnce:!0});break;case"child_removed":ld(this._delegate,o,u,{onlyOnce:!0});break;case"child_changed":ud(this._delegate,o,u,{onlyOnce:!0});break;case"child_moved":cd(this._delegate,o,u,{onlyOnce:!0});break;default:throw new Error(Vo("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},lp.prototype.limitToFirst=function(e){return qo("Query.limitToFirst",1,1,arguments.length),new lp(this.database,Gd(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Td(e)}(e)))},lp.prototype.limitToLast=function(e){return qo("Query.limitToLast",1,1,arguments.length),new lp(this.database,Gd(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nd(e)}(e)))},lp.prototype.orderByChild=function(e){return qo("Query.orderByChild",1,1,arguments.length),new lp(this.database,Gd(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yh("orderByChild","path",e,!1),new Pd(e)}(e)))},lp.prototype.orderByKey=function(){return qo("Query.orderByKey",0,0,arguments.length),new lp(this.database,Gd(this._delegate,new Dd))},lp.prototype.orderByPriority=function(){return qo("Query.orderByPriority",0,0,arguments.length),new lp(this.database,Gd(this._delegate,new Fd))},lp.prototype.orderByValue=function(){return qo("Query.orderByValue",0,0,arguments.length),new lp(this.database,Gd(this._delegate,new qd))},lp.prototype.startAt=function(e,t){return void 0===e&&(e=null),qo("Query.startAt",0,2,arguments.length),new lp(this.database,Gd(this._delegate,(void 0===(e=e)&&(e=null),zh("startAt","key",t=t,!0),new bd(e,t))))},lp.prototype.startAfter=function(e,t){return void 0===e&&(e=null),qo("Query.startAfter",0,2,arguments.length),new lp(this.database,Gd(this._delegate,(e=e,zh("startAfter","key",t=t,!0),new Ed(e,t))))},lp.prototype.endAt=function(e,t){return void 0===e&&(e=null),qo("Query.endAt",0,2,arguments.length),new lp(this.database,Gd(this._delegate,(e=e,zh("endAt","key",t=t,!0),new dd(e,t))))},lp.prototype.endBefore=function(e,t){return void 0===e&&(e=null),qo("Query.endBefore",0,2,arguments.length),new lp(this.database,Gd(this._delegate,(e=e,zh("endBefore","key",t=t,!0),new gd(e,t))))},lp.prototype.equalTo=function(e,t){return qo("Query.equalTo",1,2,arguments.length),new lp(this.database,Gd(this._delegate,(e=e,zh("equalTo","key",t=t,!0),new Wd(e,t))))},lp.prototype.toString=function(){return qo("Query.toString",0,0,arguments.length),this._delegate.toString()},lp.prototype.toJSON=function(){return qo("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},lp.prototype.isEqual=function(e){if(qo("Query.isEqual",1,1,arguments.length),e instanceof lp)return this._delegate.isEqual(e._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},lp.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Bo(e,"cancel",r.cancel,!0),r.context=n,zo(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Vo(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(lp.prototype,"ref",{get:function(){return new fp(this.database,new Wf(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),lp);function lp(e,t){this.database=e,this._delegate=t}var hp,fp=(Qi(dp,hp=cp),dp.prototype.getKey=function(){return qo("Reference.key",0,0,arguments.length),this._delegate.key},dp.prototype.child=function(e){return qo("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new dp(this.database,Xf(this._delegate,e))},dp.prototype.getParent=function(){qo("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new dp(this.database,e):null},dp.prototype.getRoot=function(){return qo("Reference.root",0,0,arguments.length),new dp(this.database,this._delegate.root)},dp.prototype.set=function(e,t){return qo("Reference.set",1,2,arguments.length),Bo("Reference.set","onComplete",t,!0),e=Jf(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},dp.prototype.update=function(e,t){if(qo("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Ka("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jh("Reference.update",this._delegate._path),Bo("Reference.update","onComplete",t,!0);var i=Zf(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},dp.prototype.setWithPriority=function(e,t,n){return qo("Reference.setWithPriority",2,3,arguments.length),Bo("Reference.setWithPriority","onComplete",n,!0),t=function(e,t,n){if(Jh("setWithPriority",e._path),Qh("setWithPriority",t,e._path,!1),Bh("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new lo;return vf(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},dp.prototype.remove=function(e){qo("Reference.remove",0,1,arguments.length),Bo("Reference.remove","onComplete",e,!0);var t=(t=this._delegate,Jh("remove",t._path),Jf(t,null));return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},dp.prototype.transaction=function(e,t,n){var r=this;return qo("Reference.transaction",1,3,arguments.length),Bo("Reference.transaction","transactionUpdate",e,!1),Bo("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(Vo("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n),n=np(this._delegate,e,{applyLocally:n}).then((function(e){return new op(e.committed,new sp(r.database,e.snapshot))})),t&&n.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),n},dp.prototype.setPriority=function(e,t){return qo("Reference.setPriority",1,2,arguments.length),Bo("Reference.setPriority","onComplete",t,!0),e=function(e,t){e=Ho(e),Jh("setPriority",e._path),Bh("setPriority",t,!1);var n=new lo;return vf(e._repo,Qs(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},dp.prototype.push=function(e,t){var n=this;qo("Reference.push",0,2,arguments.length),Bo("Reference.push","onComplete",t,!0);var r=function(e,t){e=Ho(e),Jh("push",e._path),Qh("push",t,e._path,!0);var n=cf(e._repo),r=cc(n),i=(n=Xf(e,r),Xf(e,r));return t=null!=t?Jf(i,t).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),n}(this._delegate,e);return e=r.then((function(e){return new dp(n.database,e)})),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),(r=new dp(this.database,r)).then=e.then.bind(e),r.catch=e.catch.bind(e,void 0),r},dp.prototype.onDisconnect=function(){return Jh("Reference.onDisconnect",this._delegate._path),new rp(new Ff(this._delegate._repo,this._delegate._path))},Object.defineProperty(dp.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(dp.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(dp.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),dp);function dp(e,t){var n=hp.call(this,e,new Uf(t._repo,t._path,new wc,!1))||this;return n.database=e,n._delegate=t,n}var pp=(vp.prototype.useEmulator=function(e,t){!function(e,t,n){(e=Ho(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&za("Cannot call useEmulator() after instance has already been initialized."),t=t,n=n,(e=e._repo).repoInfo_=new ls(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new os)}(this._delegate,e,t)},vp.prototype.ref=function(e){if(qo("database.ref",0,1,arguments.length),e instanceof fp){var t=Yf(this._delegate,e.toString());return new fp(this,t)}return t=$f(this._delegate,e),new fp(this,t)},vp.prototype.refFromURL=function(e){return qo("database.refFromURL",1,1,arguments.length),e=Yf(this._delegate,e),new fp(this,e)},vp.prototype.goOffline=function(){var e;qo("database.goOffline",0,0,arguments.length),(e=Ho(e=this._delegate))._checkNotDeleted("goOffline"),yf(e._repo)},vp.prototype.goOnline=function(){return qo("database.goOnline",0,0,arguments.length),Zd(this._delegate)},vp.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},vp);function vp(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}var gp=Object.freeze({__proto__:null,forceLongPolling:function(){Cs.forceDisallow(),ws.forceAllow()},forceWebSockets:function(){ws.forceDisallow()},isWebSocketsAvailable:function(){return Cs.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){var n;e=e._delegate._repo,void 0===(t=t)&&(t=!1),"undefined"!=typeof console&&(e=t?(e.statsListener_||(e.statsListener_=new Lc(e.stats_)),e.statsListener_.get()):e.stats_.get(),n=Object.keys(e).reduce((function(e,t){return Math.max(t.length,e)}),0),$a(e,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)})))},statsIncrementCounter:function(e,t){t=t,(e=e._delegate._repo).stats_.incrementCounter(t),t=t,(e=e.statsReporter_).statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){t=t,(e=e._delegate._repo).interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace;return e=void 0!==(e=e.nodeAdmin)&&e,Ts(r),(r=new Yo("auth-internal",new Jo("database-standalone"))).setComponent(new Go("auth-internal",(function(){return i}),"PRIVATE")),{instance:new pp(Yd(t,r,n,e),t),namespace:o}}});K=uu,uu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var mp,yp=Object.freeze({__proto__:null,DataConnection:K,RealTimeConnection:Ps,hijackHash:function(e){var t=uu.prototype.put;return uu.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){uu.prototype.put=t}},ConnectionTarget:ls,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){$d=e}}),bp=pp.ServerValue;Ts((mp=_a).SDK_VERSION),mp.INTERNAL.registerComponent(new Go("database",(function(e,t){var n=t.instanceIdentifier;return t=e.getProvider("app").getImmediate(),e=e.getProvider("auth-internal"),new pp(Yd(t,e,n),t)}),"PUBLIC").setServiceProps({Reference:fp,Query:cp,Database:pp,DataSnapshot:sp,enableLogging:function(e,t){qa(e,t)},INTERNAL:gp,ServerValue:bp,TEST_ACCESS:yp}).setMultipleInstances(!0)),mp.registerVersion("@firebase/database","0.9.11");var wp=function(e,t){return(wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function _p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};var Ep={},Ip=W||self;function Sp(){}function Tp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Cp="closure_uid_"+(1e9*Math.random()>>>0),Np=0;function Ap(e,t,n){return e.call.apply(e.bind,arguments)}function xp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Pp(e,t,n){return(Pp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ap:xp).apply(null,arguments)}function Op(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function Rp(){return Date.now()}function Dp(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,(e.prototype.constructor=e).Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Lp(){this.j=this.j,this.i=this.i}Lp.prototype.j=!1,Lp.prototype.ja=function(){var e;!this.j&&(this.j=!0,this.G(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Cp)&&e[Cp]||(e[Cp]=++Np))},Lp.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Mp=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Fp=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function jp(){return Array.prototype.concat.apply([],arguments)}function Up(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function qp(e){return/^[\s\xa0]*$/.test(e)}var Vp,Bp=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function zp(e,t){return-1!=e.indexOf(t)}function Kp(e,t){return e<t?-1:t<e?1:0}var Wp=Ip.navigator;function Hp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Gp(e){var t,n={};for(t in e)n[t]=e[t];return n}Vp=Wp&&(Wp=Wp.userAgent)?Wp:"";var Qp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $p(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<Qp.length;i++)t=Qp[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function Yp(e){return Yp[" "](e),e}Yp[" "]=Sp;var Xp,Jp=zp(Vp,"Opera"),Zp=zp(Vp,"Trident")||zp(Vp,"MSIE"),ev=zp(Vp,"Edge"),tv=ev||Zp,nv=zp(Vp,"Gecko")&&!(zp(Vp.toLowerCase(),"webkit")&&!zp(Vp,"Edge"))&&!(zp(Vp,"Trident")||zp(Vp,"MSIE"))&&!zp(Vp,"Edge"),rv=zp(Vp.toLowerCase(),"webkit")&&!zp(Vp,"Edge");function iv(){var e=Ip.document;return e?e.documentMode:void 0}var ov="",av=(av=Vp,nv?/rv:([^\);]+)(\)|;)/.exec(av):ev?/Edge\/([\d\.]+)/.exec(av):Zp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(av):rv?/WebKit\/(\S+)/.exec(av):Jp?/(?:Version)[ \/]?(\S+)/.exec(av):void 0);av&&(ov=av?av[1]:""),Xp=Zp&&null!=(av=iv())&&av>parseFloat(ov)?String(av):ov;var sv={};function uv(e){return t=e,n=function(){for(var t=0,n=Bp(String(Xp)).split("."),r=Bp(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=Kp(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Kp(0==a[2].length,0==s[2].length)||Kp(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=sv,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n();var t,n,r}var cv=Ip.document&&Zp&&(iv()||parseInt(Xp,10))||void 0,lv=!Zp||9<=Number(cv),hv=Zp&&!uv("9"),fv=function(){if(!Ip.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ip.addEventListener("test",Sp,t),Ip.removeEventListener("test",Sp,t)}catch(e){}return e}();function dv(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function pv(e,t){if(dv.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(nv){e:{try{Yp(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:vv[e.pointerType]||"",(this.c=e).defaultPrevented&&this.b()}}dv.prototype.b=function(){this.defaultPrevented=!0},Dp(pv,dv);var vv={2:"touch",3:"pen",4:"mouse"};pv.prototype.b=function(){pv.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,hv)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}};var gv="closure_listenable_"+(1e6*Math.random()|0),mv=0;function yv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++mv,this.Y=this.Z=!1}function bv(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function wv(e){this.src=e,this.a={},this.b=0}function _v(e,t){var n,r,i,o=t.type;o in e.a&&(n=e.a[o],(i=0<=(r=Mp(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(bv(t),0==e.a[o].length&&(delete e.a[o],e.b--)))}function Ev(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}wv.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Ev(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new yv(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Iv="closure_lm_"+(1e6*Math.random()|0),Sv={};function Tv(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=Rv(r),t&&t[gv]?t.wa(n,r,kp(i)?!!i.capture:!!i,o):kv(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Tv(e,t[o],n,r,i);return null}return n=Rv(n),e&&e[gv]?e.va(t,n,kp(r)?!!r.capture:!!r,i):kv(e,t,n,!1,r,i)}function kv(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=kp(i)?!!i.capture:!!i;if(a&&!lv)return null;var s,u,c=Pv(e);if(c||(e[Iv]=c=new wv(e)),(n=c.add(t,n,r,a,o)).proxy)return n;if(s=xv,r=u=lv?function(e){return s.call(u.src,u.listener,e)}:function(e){if(!(e=s.call(u.src,u.listener,e)))return e},(n.proxy=r).src=e,r.listener=n,e.addEventListener)void 0===(i=fv?i:a)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Nv(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Cv(e){var t,n,r;"number"!=typeof e&&e&&!e.Y&&((t=e.src)&&t[gv]?_v(t.c,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Nv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pv(t))?(_v(n,e),0==n.b&&(n.src=null,t[Iv]=null)):bv(e)))}function Nv(e){return e in Sv?Sv[e]:Sv[e]="on"+e}function Av(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Cv(e),n.call(r,t)}function xv(e,t){if(e.Y)return!0;if(lv)return Av(e,new pv(t,this));if(!t)e:{t=["window","event"];for(var n=Ip,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Av(e,t=new pv(t,this))}function Pv(e){return(e=e[Iv])instanceof wv?e:null}var Ov="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rv(e){return"function"==typeof e?e:(e[Ov]||(e[Ov]=function(t){return e.handleEvent(t)}),e[Ov])}function Dv(){Lp.call(this),this.c=new wv(this),(this.J=this).C=null}function Lv(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t?t=new dv(t,e):t instanceof dv?t.target=t.target||e:(a=t,$p(t=new dv(r,e),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=t.a=n[i],a=Mv(o,r,!0,t)&&a;if(a=Mv(o=t.a=e,r,!0,t)&&a,a=Mv(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=Mv(o=t.a=n[i],r,!1,t)&&a}function Mv(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.Y&&u.capture==n&&(a=u.listener,s=u.ca||u.src,u.Z&&_v(e.c,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}Dp(Dv,Lp),Dv.prototype[gv]=!0,(Ds=Dv.prototype).addEventListener=function(e,t,n,r){Tv(this,e,t,n,r)},Ds.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=kp(i)?!!i.capture:!!i,r=Rv(r),t&&t[gv]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Ev(a=t.a[n],r,i,o))&&(bv(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.a[n],t.b--))):(t=t&&Pv(t))&&(n=t.a[n.toString()],(r=(t=-1)<(t=n?Ev(n,r,i,o):t)?n[t]:null)&&Cv(r))}(this,e,t,n,r)},Ds.G=function(){if(Dv.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)bv(n[r]);delete t.a[e],t.b--}}this.C=null},Ds.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Ds.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Fv=Ip.JSON.stringify;function jv(){this.b=this.a=null}var Uv,qv=(Vv.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},new Vv((function(){return new Bv}),(function(e){e.reset()})));function Vv(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function Bv(){this.next=this.b=this.a=null}function zv(e,t){var n;Uv||(n=Ip.Promise.resolve(void 0),Uv=function(){n.then(Hv)}),Kv||(Uv(),Kv=!0),Wv.add(e,t)}jv.prototype.add=function(e,t){var n=qv.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Bv.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};var Kv=!(Bv.prototype.reset=function(){this.next=this.b=this.a=null}),Wv=new jv;function Hv(){for(var e,t;n=t=void 0,n=null,(t=Wv).a&&(n=t.a,t.a=t.a.next,t.a||(t.b=null),n.next=null),e=n;){try{e.a.call(e.b)}catch(e){!function(e){Ip.setTimeout((function(){throw e}),0)}(e)}var n=qv;n.f(e),n.b<100&&(n.b++,e.next=n.a,n.a=e)}Kv=!1}function Gv(e,t){Dv.call(this),this.b=e||1,this.a=t||Ip,this.f=Pp(this.Za,this),this.g=Rp()}function Qv(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function $v(e,t,n){if("function"==typeof e)n&&(e=Pp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Pp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ip.setTimeout(e,t||0)}Dp(Gv,Dv),(Ds=Gv.prototype).aa=!1,Ds.M=null,Ds.Za=function(){var e;this.aa&&(0<(e=Rp()-this.g)&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Lv(this,"tick"),this.aa&&(Qv(this),this.start())))},Ds.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Rp())},Ds.G=function(){Gv.X.G.call(this),Qv(this),delete this.a};var Yv,Xv,Jv,Zv=(wp(Xv=tg,Jv=Yv=Lp),Xv.prototype=null===Jv?Object.create(Jv):(eg.prototype=Jv.prototype,new eg),tg.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:function e(t){t.a=$v((function(){t.a=null,t.c&&(t.c=!1,e(t))}),t.h);var n=t.b;t.b=null,t.g.apply(null,n)}(this)},tg.prototype.G=function(){Yv.prototype.G.call(this),this.a&&(Ip.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},tg);function eg(){this.constructor=Xv}function tg(e,t){var n=Yv.call(this)||this;return n.g=e,n.h=t,n.b=null,n.c=!1,n.a=null,n}function ng(e){Lp.call(this),this.b=e,this.a={}}Dp(ng,Lp);var rg=[];function ig(e,t,n,r){Array.isArray(n)||(n&&(rg[0]=n.toString()),n=rg);for(var i=0;i<n.length;i++){var o=Tv(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function og(e){Hp(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Cv(e)}),e),e.a={}}function ag(){this.a=!0}function sg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)&&"noop"!=(r=i[0])&&"stop"!=r&&"close"!=r)for(var o=1;o<i.length;o++)i[o]=""}}return Fv(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}ng.prototype.G=function(){ng.X.G.call(this),og(this)},ng.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ag.prototype.info=function(){};var ug={},cg=null;function lg(){return cg=cg||new Dv}function hg(e){dv.call(this,ug.Fa,e)}function fg(e){var t=lg();Lv(t,new hg(t))}function dg(e,t){dv.call(this,ug.STAT_EVENT,e),this.stat=t}function pg(e){var t=lg();Lv(t,new dg(t,e))}function vg(e){dv.call(this,ug.Ga,e)}function gg(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ip.setTimeout((function(){e()}),t)}function mg(){}function yg(e){var t;return(t=e.a)?t:e.a={}}function bg(){}function wg(){dv.call(this,"d")}function _g(){dv.call(this,"c")}function Eg(){}function Ig(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new ng(this),this.P=Tg,e=tv?125:void 0,this.R=new Gv(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ug.Fa="serverreachability",Dp(hg,dv),ug.STAT_EVENT="statevent",Dp(dg,dv),ug.Ga="timingevent",Dp(vg,dv),kn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},K={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"},mg.prototype.a=null,W={OPEN:"a",eb:"b",Ea:"c",qb:"d"},Dp(wg,dv),Dp(_g,dv),Dp(Eg,mg);var Sg=new Eg,Tg=45e3,kg={},Cg={};function Ng(e,t,n){e.H=1,e.i=$g(zg(t)),e.j=n,e.I=!0,Ag(e,null)}function Ag(e,t){e.u=Rp(),Pg(e),e.l=zg(e.i);var n,r,i,o,a,s,u=e.l,c=e.S;Array.isArray(c)||(c=[String(c)]),um(u.b,"t",c),e.D=0,e.a=ty(e.g,e.g.C?t:null),0<e.O&&(e.F=new Zv(Pp(e.Ca,e,e.a),e.O)),ig(e.J,e.a,"readystatechange",e.Xa),t=e.B?Gp(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),fg(),n=e.c,r=e.m,i=e.l,o=e.f,a=e.S,s=e.j,n.info((function(){if(n.a)if(s)for(var e="",t=s.split("&"),u=0;u<t.length;u++){var c,l,h=t[u].split("=");1<h.length&&(c=h[0],h=h[1],e=2<=(l=c.split("_")).length&&"type"==l[1]?e+(c+"=")+h+"&":e+(c+"=redacted&"))}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e}))}function xg(e,t,n){for(var r,i,o,a=!0;!e.A&&e.D<n.length;){var s=(s=n,o=i=void 0,i=(r=e).D,-1==(o=s.indexOf("\n",i))?Cg:(i=Number(s.substring(i,o)),isNaN(i)?kg:(o+=1)+i>s.length?Cg:(s=s.substr(o,i),r.D=o+i,s)));if(s==Cg){4==t&&(e.h=4,pg(14),a=!1),sg(e.c,e.f,null,"[Incomplete Response]");break}if(s==kg){e.h=4,pg(15),sg(e.c,e.f,n,"[Invalid Chunk]"),a=!1;break}sg(e.c,e.f,s,null),Mg(e,s)}4==t&&0==n.length&&(e.h=1,pg(16),a=!1),e.b=e.b&&a,a?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gm(t),t.F=!0,pg(11))):(sg(e.c,e.f,n,"[Invalid Chunked Response]"),Lg(e),Dg(e))}function Pg(e){e.T=Rp()+e.P,Og(e,e.P)}function Og(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=gg(Pp(e.Va,e),t)}function Rg(e){e.o&&(Ip.clearTimeout(e.o),e.o=null)}function Dg(e){0==e.g.v||e.A||Ym(e.g,e)}function Lg(e){Rg(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Qv(e.R),og(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Mg(e,t){try{var n,r,i,o,a,s=e.g;if(0!=s.v&&(s.a==e||vm(s.b,e)))if(s.I=e.N,!e.C&&vm(s.b,e)&&3==s.v){try{var u=s.ka.a.parse(t)}catch(e){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){e:if(!s.j){if(s.a){if(!(s.a.u+3e3<e.u))break e;$m(s),jm(s)}Hm(s),pg(18)}}else s.oa=c[1],0<s.oa-s.P&&c[2]<37500&&s.H&&0==s.o&&!s.m&&(s.m=gg(Pp(s.Sa,s),6e3));if(pm(s.b)<=1&&s.ea){try{s.ea()}catch(e){}s.ea=void 0}}else Jm(s,11)}else if(!e.C&&s.a!=e||$m(s),!qp(t))for(t=u=s.ka.a.parse(t),u=0;u<t.length;u++)c=t[u],s.P=c[0],c=c[1],2==s.v?"c"==c[0]?(s.J=c[1],s.ga=c[2],null!=(r=c[3])&&(s.ha=r,s.c.info("VER="+s.ha)),null!=(o=c[4])&&(s.pa=o,s.c.info("SVER="+s.pa)),null!=(r=c[5])&&"number"==typeof r&&0<r&&(n=1.5*r,s.D=n,s.c.info("backChannelRequestTimeoutMs_="+n)),n=s,(o=e.a)&&(!(r=o.a?o.a.getResponseHeader("X-Client-Wire-Protocol"):null)||!(i=n.b).a&&(zp(r,"spdy")||zp(r,"quic")||zp(r,"h2"))&&(i.f=i.g,i.a=new Set,i.b&&(gm(i,i.b),i.b=null)),!n.A||(a=o.a?o.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(n.na=a,Qg(n.B,n.A,a))),s.v=3,s.f&&s.f.ta(),s.U&&(s.N=Rp()-e.u,s.c.info("Handshake RTT: "+s.N+"ms")),i=e,(n=s).la=ey(n,n.C?n.ga:null,n.fa),i.C?(mm(n.b,i),o=i,(a=n.D)&&o.setTimeout(a),o.o&&(Rg(o),Pg(o)),n.a=i):Wm(n),0<s.g.length&&Vm(s)):"stop"!=c[0]&&"close"!=c[0]||Jm(s,7):3==s.v&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Jm(s,7):Fm(s):"noop"!=c[0]&&s.f&&s.f.sa(c),s.o=0);fg()}catch(e){}}function Fg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Tp(e)||"string"==typeof e)Fp(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(Tp(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(Tp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function jg(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof jg)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ug(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];qg(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)qg(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function qg(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ds=Ig.prototype).setTimeout=function(e){this.P=e},Ds.Xa=function(e){e=e.target;var t=this.F;t&&3==Rm(e)?t.f():this.Ca(e)},Ds.Ca=function(e){try{if(e==this.a)e:{var t=Rm(this.a),n=this.a.ua(),r=this.a.W();if(!(t<3||3==t&&!tv&&!this.a.$())){this.A||4!=t||7==n||fg(),Rg(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,r=this.c,u=this.m,c=this.l,l=this.f,h=this.S,f=t,d=i,r.info((function(){return"XMLHTTP RESP ("+l+") [ attempt "+h+"]: "+u+"\n"+c+"\n"+f+" "+d})),this.b){if(this.U&&!this.C){t:{if(this.a){var a=this.a;if((a=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qp(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.h=3,pg(12),Lg(this),Dg(this);break e}sg(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Mg(this,s)}this.I?(xg(this,t,o),tv&&this.b&&3==t&&(ig(this.J,this.R,"tick",this.Wa),this.R.start())):(sg(this.c,this.f,o,null),Mg(this,o)),4==t&&Lg(this),this.b&&!this.A&&(4==t?Ym(this.g,this):(this.b=!1,Pg(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,pg(12)):(this.h=0,pg(13)),Lg(this),Dg(this)}}}catch(e){}var u,c,l,h,f,d},Ds.Wa=function(){var e,t;this.a&&(e=Rm(this.a),t=this.a.$(),this.D<t.length&&(Rg(this),xg(this,e,t),this.b&&4!=e&&Pg(this)))},Ds.cancel=function(){this.A=!0,Lg(this)},Ds.Va=function(){this.o=null;var e,t,n=Rp();0<=n-this.T?(e=this.c,t=this.l,e.info((function(){return"TIMEOUT: "+t})),2!=this.H&&(fg(),pg(17)),Lg(this),this.h=2,Dg(this)):Og(this,this.T-n)},(Ds=jg.prototype).K=function(){Ug(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Ds.L=function(){return Ug(this),this.a.concat()},Ds.get=function(e,t){return qg(this.b,e)?this.b[e]:t},Ds.set=function(e,t){qg(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Ds.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Vg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bg(e,t){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Bg?(this.a=void 0!==t?t:e.a,Kg(this,e.f),this.j=e.j,Wg(this,e.c),Hg(this,e.h),this.g=e.g,t=e.b,(n=new im).c=t.c,t.a&&(n.a=new jg(t.a),n.b=t.b),Gg(this,n),this.i=e.i):e&&(n=String(e).match(Vg))?(this.a=!!t,Kg(this,n[1]||"",!0),this.j=Yg(n[2]||""),Wg(this,n[3]||"",!0),Hg(this,n[4]),this.g=Yg(n[5]||"",!0),Gg(this,n[6]||"",!0),this.i=Yg(n[7]||"")):(this.a=!!t,this.b=new im(null,this.a))}function zg(e){return new Bg(e)}function Kg(e,t,n){e.f=n?Yg(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Wg(e,t,n){e.c=n?Yg(t,!0):t}function Hg(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Gg(e,t,n){var r,i;t instanceof im?(e.b=t,r=e.b,(i=e.a)&&!r.f&&(om(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(am(this,t),um(this,n,e))}),r)),r.f=i):(n||(t=Xg(t,nm)),e.b=new im(t,e.a))}function Qg(e,t,n){e.b.set(t,n)}function $g(e){return Qg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Rp()).toString(36)),e}function Yg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xg(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Jg),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function Jg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bg.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Xg(t,Zg,!0),":");var n=this.c;return!n&&"file"!=t||(e.push("//"),(t=this.j)&&e.push(Xg(t,Zg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xg(n,"/"==n.charAt(0)?tm:em,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Xg(n,rm)),e.join("")};var Zg=/[#\/\?@]/g,em=/[#\?:]/g,tm=/[#\?]/g,nm=/[#\?@]/g,rm=/#/g;function im(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function om(e){e.a||(e.a=new jg,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function am(e,t){om(e),t=cm(e,t),qg(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,qg((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Ug(e)))}function sm(e,t){return om(e),t=cm(e,t),qg(e.a.b,t)}function um(e,t,n){am(e,t),0<n.length&&(e.c=null,e.a.set(cm(e,t),Up(n)),e.b+=n.length)}function cm(e,t){return t=String(t),e.f?t.toLowerCase():t}(Ds=im.prototype).add=function(e,t){om(this),this.c=null,e=cm(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Ds.forEach=function(e,t){om(this),this.a.forEach((function(n,r){Fp(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ds.L=function(){om(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ds.K=function(e){om(this);var t=[];if("string"==typeof e)sm(this,e)&&(t=jp(t,this.a.get(cm(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=jp(t,e[n])}return t},Ds.set=function(e,t){return om(this),this.c=null,sm(this,e=cm(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Ds.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Ds.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.K(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var lm=function(e,t){this.b=e,this.a=t};function hm(e){this.g=e||fm,e=Ip.PerformanceNavigationTiming?0<(e=Ip.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Ip.ia&&Ip.ia.ya&&Ip.ia.ya()&&Ip.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var fm=10;function dm(e){return e.b||e.a&&e.a.size>=e.f}function pm(e){return e.b?1:e.a?e.a.size:0}function vm(e,t){return e.b?e.b==t:e.a&&e.a.has(t)}function gm(e,t){e.a?e.a.add(t):e.b=t}function mm(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function ym(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null==e.a||0===e.a.size)return Up(e.c);var r=e.c;try{for(var i=_p(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function bm(){}function wm(){this.a=new bm}function _m(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}hm.prototype.cancel=function(){var e,t;if(this.c=ym(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=_p(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},bm.prototype.stringify=function(e){return Ip.JSON.stringify(e,void 0)},bm.prototype.parse=function(e){return Ip.JSON.parse(e,void 0)};var Em=Ip.JSON.parse;function Im(e){Dv.call(this),this.headers=new jg,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Sm,this.D=this.F=!1}Dp(Im,Dv);var Sm="",Tm=/^https?$/i,km=["POST","PUT"];function Cm(e){return"content-type"==e.toLowerCase()}function Nm(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Am(e),Pm(e)}function Am(e){e.u||(e.u=!0,Lv(e,"complete"),Lv(e,"error"))}function xm(e){if(e.b&&void 0!==Ep&&(!e.s[1]||4!=Rm(e)||2!=e.W()))if(e.l&&4==Rm(e))$v(e.za,0,e);else if(Lv(e,"readystatechange"),4==Rm(e)){e.b=!1;try{var t,n,r,i,o=e.W();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if((t=a)||((n=0===o)&&(!(i=String(e.B).match(Vg)[1]||null)&&Ip.self&&Ip.self.location&&(i=(r=Ip.self.location.protocol).substr(0,r.length-1)),n=!Tm.test(i?i.toLowerCase():"")),t=n),t)Lv(e,"complete"),Lv(e,"success");else{e.h=6;try{var s=2<Rm(e)?e.a.statusText:""}catch(o){s=""}e.f=s+" ["+e.W()+"]",Am(e)}}finally{Pm(e)}}}function Pm(e,t){if(e.a){Om(e);var n=e.a,r=e.s[0]?Sp:null;e.a=null,e.s=null,t||Lv(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Om(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Ip.clearTimeout(e.m),e.m=null)}function Rm(e){return e.a?e.a.readyState:0}function Dm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}var i;r||(i="",Hp(n,(function(e,t){i+=t,i+=":",i+=e,i+="\r\n"})),n=i,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Qg(e,t,n))}function Lm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mm(e){this.pa=0,this.g=[],this.c=new ag,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Lm("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Lm("baseRetryDelayMs",5e3,e),this.Ra=Lm("retryDelaySeedMs",1e4,e),this.Ma=Lm("forwardChannelMaxRetries",2,e),this.ma=Lm("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new hm(e&&e.concurrentRequestLimit),this.ka=new wm,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Fm(e){var t,n;Um(e),3==e.v&&(t=e.R++,Qg(n=zg(e.B),"SID",e.J),Qg(n,"RID",t),Qg(n,"TYPE","terminate"),zm(e,n),(t=new Ig(e,e.c,t,void 0)).H=2,t.i=$g(zg(n)),n=!1,!(n=Ip.navigator&&Ip.navigator.sendBeacon?Ip.navigator.sendBeacon(t.i.toString(),""):n)&&Ip.Image&&((new Image).src=t.i,n=!0),n||(t.a=ty(t.g,null),t.a.ba(t.i)),t.u=Rp(),Pg(t)),Zm(e)}function jm(e){e.a&&(Gm(e),e.a.cancel(),e.a=null)}function Um(e){jm(e),e.j&&(Ip.clearTimeout(e.j),e.j=null),$m(e),e.b.cancel(),e.h&&("number"==typeof e.h&&Ip.clearTimeout(e.h),e.h=null)}function qm(e,t){e.g.push(new lm(e.Oa++,t)),3==e.v&&Vm(e)}function Vm(e){dm(e.b)||e.h||(e.h=!0,zv(e.Ba,e),e.u=0)}function Bm(e,t){var n=t?t.f:e.R++,r=zg(e.B);Qg(r,"SID",e.J),Qg(r,"RID",n),Qg(r,"AID",e.P),zm(e,r),e.i&&e.l&&Dm(r,e.i,e.l),n=new Ig(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Km(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),gm(e.b,n),Ng(n,r,t)}function zm(e,t){e.f&&Fg({},(function(e,n){Qg(t,n,e)}))}function Km(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Pp(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),s=!1;else try{!function(e,t,n){var r=n||"";try{Fg(e,(function(e,n){var i=e;kp(e)&&(i=Fv(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Wm(e){e.a||e.j||(e.T=1,zv(e.Aa,e),e.o=0)}function Hm(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=gg(Pp(e.Aa,e),Xm(e,e.o)),e.o++,1)}function Gm(e){null!=e.s&&(Ip.clearTimeout(e.s),e.s=null)}function Qm(e){e.a=new Ig(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=zg(e.la);Qg(t,"RID","rpc"),Qg(t,"SID",e.J),Qg(t,"CI",e.H?"0":"1"),Qg(t,"AID",e.P),zm(e,t),Qg(t,"TYPE","xmlhttp"),e.i&&e.l&&Dm(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=$g(zg(t)),n.j=null,n.I=!0,Ag(n,e)}function $m(e){null!=e.m&&(Ip.clearTimeout(e.m),e.m=null)}function Ym(e,t){var n,r,i,o=null;if(e.a==t){$m(e),Gm(e),e.a=null;var a=2}else{if(!vm(e.b,t))return;o=t.s,mm(e.b,t),a=1}if(e.I=t.N,0!=e.v)if(t.b)1==a?(o=t.j?t.j.length:0,t=Rp()-t.u,n=e.u,Lv(a=lg(),new vg(a)),Vm(e)):Wm(e);else if(3==(n=t.h)||0==n&&0<e.I||(1!=a||(i=t,pm((r=e).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=gg(Pp(r.Ba,r,i),Xm(r,r.u)),r.u++,0))))&&(2!=a||!Hm(e)))switch(o&&0<o.length&&(t=e.b,t.c=t.c.concat(o)),n){case 1:Jm(e,5);break;case 4:Jm(e,10);break;case 3:Jm(e,6);break;default:Jm(e,2)}}function Xm(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Jm(e,t){var n,r,i,o;e.c.info("Error code "+t),2==t?(r=null,e.f&&(r=null),o=Pp(e.Ya,e),r||(r=new Bg("//www.google.com/images/cleardot.gif"),Ip.location&&"http"==Ip.location.protocol||Kg(r,"https"),$g(r)),n=r.toString(),r=o,o=new ag,Ip.Image?((i=new Image).onload=Op(_m,o,i,"TestLoadImage: loaded",!0,r),i.onerror=Op(_m,o,i,"TestLoadImage: error",!1,r),i.onabort=Op(_m,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=Op(_m,o,i,"TestLoadImage: timeout",!1,r),Ip.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):pg(2),e.v=0,e.f&&e.f.ra(t),Zm(e),Um(e)}function Zm(e){e.v=0,e.I=-1,e.f&&(0==ym(e.b).length&&0==e.g.length||(e.b.c.length=0,Up(e.g),e.g.length=0),e.f.qa())}function ey(e,t,n){var r,i,o,a,s,u=(a=n)instanceof Bg?zg(a):new Bg(a,void 0);return""!=u.c?(t&&Wg(u,t+"."+u.c),Hg(u,u.h)):(r=(s=Ip.location).protocol,i=t?t+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new Bg(null,void 0),r&&Kg(s,r),i&&Wg(s,i),o&&Hg(s,o),a&&(s.g=a),u=s),e.V&&Hp(e.V,(function(e,t){Qg(u,t,e)})),t=e.A,n=e.na,t&&n&&Qg(u,t,n),Qg(u,"VER",e.ha),zm(e,u),u}function ty(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Im(e.Na)).F=e.C,t}function ny(){}function ry(){if(Zp&&!(10<=Number(cv)))throw Error("Environmental error: no available transport.")}function iy(e,t){Dv.call(this),this.a=new Mm(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!qp(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qp(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new sy(this)}function oy(e){wg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ay(){_g.call(this),this.status=1}function sy(e){this.a=e}(Ds=Im.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?yg(this.H):yg(Sg),this.a.onreadystatechange=Pp(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(e){return void Nm(this,e)}e=n||"";var i,o=new jg(this.headers);r&&Fg(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=Cm,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(o.L()),n=Ip.FormData&&e instanceof Ip.FormData,0<=Mp(km,t)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Om(this),0<this.o&&((this.D=(i=this.a,Zp&&uv(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=Pp(this.xa,this)):this.m=$v(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(e){Nm(this,e)}},Ds.xa=function(){void 0!==Ep&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Lv(this,"timeout"),this.abort(8))},Ds.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Lv(this,"complete"),Lv(this,"abort"),Pm(this))},Ds.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Pm(this,!0)),Im.X.G.call(this)},Ds.za=function(){this.j||(this.A||this.l||this.g?xm(this):this.Ua())},Ds.Ua=function(){xm(this)},Ds.W=function(){try{return 2<Rm(this)?this.a.status:-1}catch(e){return-1}},Ds.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},Ds.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Em(t)}},Ds.ua=function(){return this.h},Ds.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ds=Mm.prototype).ha=8,Ds.v=1,Ds.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new Ig(this,this.c,e,void 0),r=this.l;if(this.O&&(r?$p(r=Gp(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Km(this,n,t),Qg(i=zg(this.B),"RID",e),Qg(i,"CVER",22),this.A&&Qg(i,"X-HTTP-Session-Id",this.A),zm(this,i),this.i&&r&&Dm(i,this.i,r),gm(this.b,n),this.Ia&&Qg(i,"TYPE","init"),this.da?(Qg(i,"$req",t),Qg(i,"SID","null"),n.U=!0,Ng(n,i,null)):Ng(n,i,t),this.v=2}}else 3==this.v&&(e?Bm(this,e):0==this.g.length||dm(this.b)||Bm(this))},Ds.Aa=function(){var e;this.j=null,Qm(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(e=2*this.N,this.c.info("BP detection timer enabled: "+e),this.s=gg(Pp(this.Ta,this),e))},Ds.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,pg(10),jm(this),Qm(this))},Ds.Sa=function(){null!=this.m&&(this.m=null,jm(this),Hm(this),pg(19))},Ds.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),pg(2)):(this.c.info("Failed to ping google.com"),pg(1))},(Ds=ny.prototype).ta=function(){},Ds.sa=function(){},Ds.ra=function(){},Ds.qa=function(){},Ds.Ja=function(){},ry.prototype.a=function(e,t){return new iy(e,t)},Dp(iy,Dv),iy.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;pg(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=ey(e,null,e.fa),Vm(e)},iy.prototype.close=function(){Fm(this.a)},iy.prototype.h=function(e){var t;"string"==typeof e?((t={}).__data__=e,qm(this.a,t)):this.l?((t={}).__data__=Fv(e),qm(this.a,t)):qm(this.a,e)},iy.prototype.G=function(){this.a.f=null,delete this.f,Fm(this.a),delete this.a,iy.X.G.call(this)},Dp(oy,wg),Dp(ay,_g),Dp(sy,ny),sy.prototype.ta=function(){Lv(this.a,"a")},sy.prototype.sa=function(e){Lv(this.a,new oy(e))},sy.prototype.ra=function(e){Lv(this.a,new ay)},sy.prototype.qa=function(){Lv(this.a,"b")},ry.prototype.createWebChannel=ry.prototype.a,iy.prototype.send=iy.prototype.h,iy.prototype.open=iy.prototype.g,kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,K.COMPLETE="complete",(bg.EventType=W).OPEN="a",W.CLOSE="b",W.ERROR="c",W.MESSAGE="d",Dv.prototype.listen=Dv.prototype.va,Im.prototype.listenOnce=Im.prototype.wa,Im.prototype.getLastError=Im.prototype.Qa,Im.prototype.getLastErrorCode=Im.prototype.ua,Im.prototype.getStatus=Im.prototype.W,Im.prototype.getResponseJson=Im.prototype.Pa,Im.prototype.getResponseText=Im.prototype.$,Im.prototype.send=Im.prototype.ba;var uy=lg,cy=kn,ly=K,hy=ug,fy=bg,dy=Im,py=(vy.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},vy.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},vy);function vy(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}py.o=-1;var gy,my={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yy=(Qi(wy,gy=Error),wy),by=new aa("@firebase/firestore");function wy(e,t){var n=this;return(n=gy.call(this,t)||this).code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function _y(){return by.logLevel}function Ey(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];by.logLevel<=ea.DEBUG&&(t=n.map(Ty),by.debug.apply(by,eo(["Firestore (8.4.2): "+e],t)))}function Iy(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];by.logLevel<=ea.ERROR&&(t=n.map(Ty),by.error.apply(by,eo(["Firestore (8.4.2): "+e],t)))}function Sy(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];by.logLevel<=ea.WARN&&(t=n.map(Ty),by.warn.apply(by,eo(["Firestore (8.4.2): "+e],t)))}function Ty(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function ky(e){throw Iy(e="FIRESTORE (8.4.2) INTERNAL ASSERTION FAILED: "+(e=void 0===e?"Unexpected state":e)),new Error(e)}function Cy(e){e||ky()}var Ny=(Ay.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},Ay);function Ay(){}function xy(e,t){return e<t?-1:t<e?1:0}function Py(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Oy(e){return e+"\0"}var Ry=(My.now=function(){return My.fromMillis(Date.now())},My.fromDate=function(e){return My.fromMillis(e.getTime())},My.fromMillis=function(e){var t=Math.floor(e/1e3);return new My(t,Math.floor(1e6*(e-1e3*t)))},My.prototype.toDate=function(){return new Date(this.toMillis())},My.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},My.prototype._compareTo=function(e){return this.seconds===e.seconds?xy(this.nanoseconds,e.nanoseconds):xy(this.seconds,e.seconds)},My.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},My.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},My.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},My.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},My),Dy=(Ly.fromTimestamp=function(e){return new Ly(e)},Ly.min=function(){return new Ly(new Ry(0,0))},Ly.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},Ly.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},Ly.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Ly.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Ly.prototype.toTimestamp=function(){return this.timestamp},Ly);function Ly(e){this.timestamp=e}function My(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new yy(my.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new yy(my.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yy(my.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new yy(my.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}function Fy(e){var t,n=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n}function jy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Object.defineProperty(Xy.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),Xy.prototype.isEqual=function(e){return 0===Xy.comparator(this,e)},Xy.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Xy?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Xy.prototype.limit=function(){return this.offset+this.length},Xy.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},Xy.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},Xy.prototype.firstSegment=function(){return this.segments[this.offset]},Xy.prototype.lastSegment=function(){return this.get(this.length-1)},Xy.prototype.get=function(e){return this.segments[this.offset+e]},Xy.prototype.isEmpty=function(){return 0===this.length},Xy.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Xy.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Xy.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Xy.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Xy.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0};var qy,Vy,By=(Qi(Yy,Vy=kn=Xy),Yy.prototype.construct=function(e,t,n){return new Yy(e,t,n)},Yy.prototype.canonicalString=function(){return this.toArray().join("/")},Yy.prototype.toString=function(){return this.canonicalString()},Yy.fromString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new yy(my.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(e){return 0<e.length})))}return new Yy(n)},Yy.emptyPath=function(){return new Yy([])},Yy),zy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ky=(Qi($y,qy=kn),$y.prototype.construct=function(e,t,n){return new $y(e,t,n)},$y.isValidIdentifier=function(e){return zy.test(e)},$y.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$y.isValidIdentifier(e)?e:"`"+e+"`"})).join(".")},$y.prototype.toString=function(){return this.canonicalString()},$y.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},$y.keyField=function(){return new $y(["__name__"])},$y.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new yy(my.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new yy(my.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new yy(my.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new yy(my.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $y(t)},$y.emptyPath=function(){return new $y([])},$y),Wy=(Qy.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},Qy.prototype.isEqual=function(e){return Py(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},Qy),Hy=(Gy.fromBase64String=function(e){return new Gy(atob(e))},Gy.fromUint8Array=function(e){return new Gy(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))},Gy.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},Gy.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},Gy.prototype.approximateByteSize=function(){return 2*this.binaryString.length},Gy.prototype.compareTo=function(e){return xy(this.binaryString,e.binaryString)},Gy.prototype.isEqual=function(e){return this.binaryString===e.binaryString},Gy);function Gy(e){this.binaryString=e}function Qy(e){(this.fields=e).sort(Ky.comparator)}function $y(){return null!==qy&&qy.apply(this,arguments)||this}function Yy(){return null!==Vy&&Vy.apply(this,arguments)||this}function Xy(e,t,n){void 0===t?t=0:t>e.length&&ky(),void 0===n?n=e.length-t:n>e.length-t&&ky(),this.segments=e,this.offset=t,this.len=n}Hy.EMPTY_BYTE_STRING=new Hy("");var Jy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zy(e){if(Cy(!!e),"string"!=typeof e)return{seconds:eb(e.seconds),nanos:eb(e.nanos)};var t=0,n=Jy.exec(e);return Cy(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n)),e=new Date(e),{seconds:Math.floor(e.getTime()/1e3),nanos:t}}function eb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tb(e){return"string"==typeof e?Hy.fromBase64String(e):Hy.fromUint8Array(e)}function nb(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function rb(e){return e=Zy(e.mapValue.fields.__local_write_time__.timestampValue),new Ry(e.seconds,e.nanos)}function ib(e){return null==e}function ob(e){return 0===e&&1/e==-1/0}function ab(e){return"number"==typeof e&&Number.isInteger(e)&&!ob(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var sb=(ub.fromPath=function(e){return new ub(By.fromString(e))},ub.fromName=function(e){return new ub(By.fromString(e).popFirst(5))},ub.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},ub.prototype.isEqual=function(e){return null!==e&&0===By.comparator(this.path,e.path)},ub.prototype.toString=function(){return this.path.toString()},ub.comparator=function(e,t){return By.comparator(e.path,t.path)},ub.isDocumentKey=function(e){return e.length%2==0},ub.fromSegments=function(e){return new ub(new By(e.slice()))},ub);function ub(e){this.path=e}function cb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nb(e)?4:10:ky()}function lb(e,t){var n,r,i=cb(e);if(i!==cb(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rb(e).isEqual(rb(t));case 3:return function(t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zy(e.timestampValue);return t=Zy(t.timestampValue),n.seconds===t.seconds&&n.nanos===t.nanos}(t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,tb(e.bytesValue).isEqual(tb(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return n=t,eb((r=e).geoPointValue.latitude)===eb(n.geoPointValue.latitude)&&eb(r.geoPointValue.longitude)===eb(n.geoPointValue.longitude);case 2:return function(e,t){return"integerValue"in e&&"integerValue"in t?eb(e.integerValue)===eb(t.integerValue):"doubleValue"in e&&"doubleValue"in t&&((e=eb(e.doubleValue))===(t=eb(t.doubleValue))?ob(e)===ob(t):isNaN(e)&&isNaN(t))}(e,t);case 9:return Py(e.arrayValue.values||[],t.arrayValue.values||[],lb);case 10:return function(){var n,r=e.mapValue.fields||{},i=t.mapValue.fields||{};if(Fy(r)!==Fy(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!lb(r[n],i[n])))return!1;return!0}();default:return ky()}}function hb(e,t){return void 0!==(e.values||[]).find((function(e){return lb(e,t)}))}function fb(e,t){var n,r,i,o=cb(e),a=cb(t);if(o!==a)return xy(o,a);switch(o){case 0:return 0;case 1:return xy(e.booleanValue,t.booleanValue);case 2:return r=t,(i=eb(e.integerValue||e.doubleValue))<(r=eb(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return db(e.timestampValue,t.timestampValue);case 4:return db(rb(e),rb(t));case 5:return xy(e.stringValue,t.stringValue);case 6:return function(e,t){return e=tb(e),t=tb(t),e.compareTo(t)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xy(n[i],r[i]);if(0!==o)return o}return xy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=xy(eb(n.latitude),eb(i.latitude)))?r:xy(eb(n.longitude),eb(i.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=fb(n[i],r[i]);if(o)return o}return xy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=xy(r[a],o[a]);if(0!==s)return s;if(0!==(s=fb(n[r[a]],i[o[a]])))return s}return xy(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ky()}}function db(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xy(e,t);var n=Zy(e);return e=Zy(t),0!==(t=xy(n.seconds,e.seconds))?t:xy(n.nanos,e.nanos)}function pb(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){return"time("+(e=Zy(e)).seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tb(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,sb.fromName(n).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):ky();var n}(e)}function vb(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function gb(e){return e&&"integerValue"in e}function mb(e){return!!e&&"arrayValue"in e}function yb(e){return e&&"nullValue"in e}function bb(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wb(e){return e&&"mapValue"in e}var _b=(Eb.empty=function(){return new Eb({mapValue:{}})},Eb.prototype.field=function(e){return Eb.extractNestedValue(this.buildProto(),e)},Eb.prototype.toProto=function(){return this.field(Ky.emptyPath())},Eb.prototype.set=function(e,t){this.setOverlay(e,t)},Eb.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},Eb.prototype.delete=function(e){this.setOverlay(e,null)},Eb.prototype.isEqual=function(e){return lb(this.buildProto(),e.buildProto())},Eb.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map||(o=o&&10===cb(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),n=o}n.set(e.lastSegment(),t)},Eb.prototype.applyOverlay=function(e,t){var n=this,r=!1,i=Eb.extractNestedValue(this.partialValue,e),o=wb(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){var a;t instanceof Map?null!=(a=n.applyOverlay(e.child(i),t))&&(o[i]=a,r=!0):null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},Eb.prototype.buildProto=function(){var e=this.applyOverlay(Ky.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},Eb.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!wb(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},Eb.prototype.clone=function(){return new Eb(this.buildProto())},Eb);function Eb(e){this.overlayMap=new Map,this.partialValue=e}var Ib=(Tb.newInvalidDocument=function(e){return new Tb(e,0,Dy.min(),_b.empty(),0)},Tb.newFoundDocument=function(e,t,n){return new Tb(e,1,t,n,0)},Tb.newNoDocument=function(e,t){return new Tb(e,2,t,_b.empty(),0)},Tb.newUnknownDocument=function(e,t){return new Tb(e,3,t,_b.empty(),2)},Tb.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},Tb.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=_b.empty(),this.documentState=0,this},Tb.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=_b.empty(),this.documentState=2,this},Tb.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Tb.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Tb.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Tb.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Tb.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Tb.prototype.isValidDocument=function(){return 0!==this.documentType},Tb.prototype.isFoundDocument=function(){return 1===this.documentType},Tb.prototype.isNoDocument=function(){return 2===this.documentType},Tb.prototype.isUnknownDocument=function(){return 3===this.documentType},Tb.prototype.isEqual=function(e){return e instanceof Tb&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},Tb.prototype.clone=function(){return new Tb(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Tb.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},Tb),Sb=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Tb(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}function kb(e,t,n,r,i,o,a){return new Sb(e,t=void 0===t?null:t,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function Cb(e){var t=e;return null===t.h&&(e=t.path.canonicalString(),null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((function(e){return(e=e).field.canonicalString()+e.op.toString()+pb(e.value)})).join(","),e+="|ob:",e+=t.orderBy.map((function(e){return(e=e).field.canonicalString()+e.dir})).join(","),ib(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=nw(t.startAt)),t.endAt&&(e+="|ub:",e+=nw(t.endAt)),t.h=e),t.h}function Nb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,i=0;i<e.orderBy.length;i++)if(n=e.orderBy[i],r=t.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(e.filters.length!==t.filters.length)return!1;for(var o,a,s=0;s<e.filters.length;s++)if(o=e.filters[s],a=t.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!lb(o.value,a.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ow(e.startAt,t.startAt)&&ow(e.endAt,t.endAt)}function Ab(e){return sb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var xb,Pb=(Qi(Ob,xb=function(){}),Ob.create=function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new Mb(e,t,n):"array-contains"===t?new Gb(e,n):"in"===t?new Qb(e,n):"not-in"===t?new $b(e,n):"array-contains-any"===t?new Yb(e,n):new Ob(e,t,n)},Ob.l=function(e,t,n){return new("in"===t?Fb:jb)(e,n)},Ob.prototype.matches=function(e){return e=e.data.field(this.field),"!="===this.op?null!==e&&this.m(fb(e,this.value)):null!==e&&cb(this.value)===cb(e)&&this.m(fb(e,this.value))},Ob.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return ky()}},Ob.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Ob);function Ob(e,t,n){var r=this;return(r=xb.call(this)||this).field=e,r.op=t,r.value=n,r}var Rb,Db,Lb,Mb=(Qi(Vb,Lb=Pb),Vb.prototype.matches=function(e){return e=sb.comparator(e.key,this.key),this.m(e)},Vb),Fb=(Qi(qb,Db=Pb),qb.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},qb),jb=(Qi(Ub,Rb=Pb),Ub.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},Ub);function Ub(e,t){var n=this;return(n=Rb.call(this,e,"not-in",t)||this).keys=Bb(0,t),n}function qb(e,t){var n=this;return(n=Db.call(this,e,"in",t)||this).keys=Bb(0,t),n}function Vb(e,t,n){var r=this;return(r=Lb.call(this,e,t,n)||this).key=sb.fromName(n.referenceValue),r}function Bb(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map((function(e){return sb.fromName(e.referenceValue)}))}var zb,Kb,Wb,Hb,Gb=(Qi(tw,Hb=Pb),tw.prototype.matches=function(e){return mb(e=e.data.field(this.field))&&hb(e.arrayValue,this.value)},tw),Qb=(Qi(ew,Wb=Pb),ew.prototype.matches=function(e){return null!==(e=e.data.field(this.field))&&hb(this.value.arrayValue,e)},ew),$b=(Qi(Zb,Kb=Pb),Zb.prototype.matches=function(e){return!hb(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(e=e.data.field(this.field))&&!hb(this.value.arrayValue,e)},Zb),Yb=(Qi(Jb,zb=Pb),Jb.prototype.matches=function(e){var t=this;return!(!mb(e=e.data.field(this.field))||!e.arrayValue.values)&&e.arrayValue.values.some((function(e){return hb(t.value.arrayValue,e)}))},Jb),Xb=function(e,t){this.position=e,this.before=t};function Jb(e,t){return zb.call(this,e,"array-contains-any",t)||this}function Zb(e,t){return Kb.call(this,e,"not-in",t)||this}function ew(e,t){return Wb.call(this,e,"in",t)||this}function tw(e,t){return Hb.call(this,e,"array-contains",t)||this}function nw(e){return(e.before?"b":"a")+":"+e.position.map(pb).join(",")}var rw=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function iw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?sb.comparator(sb.fromName(a.referenceValue),n.key):fb(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ow(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!lb(e.position[n],t.position[n]))return!1;return!0}var aw=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function sw(e,t,n,r,i,o,a,s){return new aw(e,t,n,r,i,o,a,s)}function uw(e){return new aw(e)}function cw(e){return!ib(e.limit)&&"F"===e.limitType}function lw(e){return!ib(e.limit)&&"L"===e.limitType}function hw(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function fw(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function dw(e){return null!==e.collectionGroup}function pw(e){var t=e;if(null===t.p){t.p=[];var n=fw(t);if(e=hw(t),null!==n&&null===e)n.isKeyField()||t.p.push(new rw(n)),t.p.push(new rw(Ky.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var a=o[i];t.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<t.explicitOrderBy.length?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",t.p.push(new rw(Ky.keyField(),n)))}}return t.p}function vw(e){var t=e;if(!t.T)if("F"===t.limitType)t.T=kb(t.path,t.collectionGroup,pw(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=pw(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new rw(o.field,a))}var s=t.endAt?new Xb(t.endAt.position,!t.endAt.before):null;e=t.startAt?new Xb(t.startAt.position,!t.startAt.before):null,t.T=kb(t.path,t.collectionGroup,n,t.filters,t.limit,s,e)}return t.T}function gw(e,t,n){return new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mw(e,t){return Nb(vw(e),vw(t))&&e.limitType===t.limitType}function yw(e){return Cb(vw(e))+"|lt:"+e.limitType}function bw(e){return"Query(target="+(n=(t=vw(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(n+=", filters: ["+t.filters.map((function(e){return(e=e).field.canonicalString()+" "+e.op+" "+pb(e.value)})).join(", ")+"]"),ib(t.limit)||(n+=", limit: "+t.limit),0<t.orderBy.length&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(e=e).field.canonicalString()+" ("+e.dir+")"})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+nw(t.startAt)),t.endAt&&(n+=", endAt: "+nw(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function ww(e,t){return t.isFoundDocument()&&(n=e,r=t.key.path,null!==n.collectionGroup?t.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):sb.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return}return 1}(t)&&function(t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return;return 1}(t)&&(r=t,(!(t=e).startAt||iw(t.startAt,pw(t),r))&&(!t.endAt||!iw(t.endAt,pw(t),r)));var n,r}function _w(e){return function(t,n){for(var r=!1,i=0,o=pw(e);i<o.length;i++){var a=o[i],s=function(e,t,n){var r=e.field.isKeyField()?sb.comparator(t.key,n.key):function(e,n){var r=t.data.field(e);return e=n.data.field(e),null!==r&&null!==e?fb(r,e):ky()}(e.field,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ky()}}(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Ew(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ob(t)?"-0":t}}function Iw(e){return{integerValue:""+e}}function Sw(e,t){return ab(t)?Iw(t):Ew(e,t)}function Tw(e,t){return e instanceof jw?gb(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}var kw,Cw,Nw=(Qi(Pw,Cw=K=function(){this._=void 0}),Pw),Aw=(Qi(xw,kw=K),xw);function xw(e){var t=this;return(t=kw.call(this)||this).elements=e,t}function Pw(){return null!==Cw&&Cw.apply(this,arguments)||this}function Ow(e,t){for(var n=Vw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some((function(t){return lb(t,e)}))||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var Rw,Dw=(Qi(Lw,Rw=K),Lw);function Lw(e){var t=this;return(t=Rw.call(this)||this).elements=e,t}function Mw(e,t){for(var n=Vw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter((function(t){return!lb(t,e)}))}(i[r]);return{arrayValue:{values:n}}}var Fw,jw=(Qi(Uw,Fw=K),Uw);function Uw(e,t){var n=this;return(n=Fw.call(this)||this).R=e,n.A=t,n}function qw(e){return eb(e.integerValue||e.doubleValue)}function Vw(e){return mb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Bw(e,t){this.version=e,this.transformResults=t}var zw=function(e,t){this.field=e,this.transform=t},Kw=(Ww.none=function(){return new Ww},Ww.exists=function(e){return new Ww(void 0,e)},Ww.updateTime=function(e){return new Ww(e)},Object.defineProperty(Ww.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Ww.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},Ww);function Ww(e,t){this.updateTime=e,this.exists=t}function Hw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}function Gw(e,t,n){var r,i,o,a;e instanceof Jw?(i=t,o=n,Hw((r=e).precondition,i)&&(a=r.value.clone(),o=i_(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument($w(i),a).setHasLocalMutations())):e instanceof Zw?(o=t,i=n,Hw((a=e).precondition,o)&&(n=i_(a.fieldTransforms,i,o),(i=o.data).setAll(n_(a)),i.setAll(n),o.convertToFoundDocument($w(o),i).setHasLocalMutations())):(t=t,Hw(e.precondition,t)&&t.convertToNoDocument(Dy.min()))}function Qw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Py(n,r,(function(e,t){return t=t,(e=e).field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof Aw&&t instanceof Aw||e instanceof Dw&&t instanceof Dw?Py(e.elements,t.elements,lb):e instanceof jw&&t instanceof jw?lb(e.A,t.A):e instanceof Nw&&t instanceof Nw)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function $w(e){return e.isFoundDocument()?e.version:Dy.min()}var Yw,Xw,Jw=(Qi(t_,Xw=kn=function(){}),t_),Zw=(Qi(e_,Yw=kn),e_);function e_(e,t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=Yw.call(this)||this).key=e,o.data=t,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function t_(e,t,n,r){void 0===r&&(r=[]);var i=this;return(i=Xw.call(this)||this).key=e,i.value=t,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function n_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){var r;n.isEmpty()||(r=e.data.field(n),t.set(n,r))})),t}function r_(e,t,n){var r=new Map;Cy(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof Aw?Ow(o,a):o instanceof Dw?Mw(o,a):s))}return r}function i_(e,t,n){for(var r,i=new Map,o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=t,c=void 0,(u=u)instanceof Nw?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof Aw?Ow(u,r):u instanceof Dw?Mw(u,r):(r=qw(u=Tw(c=u,r))+qw(c.A),gb(u)&&gb(c.A)?Iw(r):Ew(c.R,r))))}return i}function o_(e){this.count=e}var a_,s_,u_,c_=(Qi(f_,u_=kn),f_),l_=(Qi(h_,s_=kn),h_);function h_(e,t){var n=this;return(n=s_.call(this)||this).key=e,n.precondition=t,n.type=3,n.fieldTransforms=[],n}function f_(e,t){var n=this;return(n=u_.call(this)||this).key=e,n.precondition=t,n.type=2,n.fieldTransforms=[],n}function d_(e){switch(e){case my.OK:return ky(),0;case my.CANCELLED:case my.UNKNOWN:case my.DEADLINE_EXCEEDED:case my.RESOURCE_EXHAUSTED:case my.INTERNAL:case my.UNAVAILABLE:case my.UNAUTHENTICATED:return;case my.INVALID_ARGUMENT:case my.NOT_FOUND:case my.ALREADY_EXISTS:case my.PERMISSION_DENIED:case my.FAILED_PRECONDITION:case my.ABORTED:case my.OUT_OF_RANGE:case my.UNIMPLEMENTED:case my.DATA_LOSS:return 1;default:return ky(),0}}function p_(e){if(void 0===e)return Iy("GRPC error has no .code"),my.UNKNOWN;switch(e){case a_.OK:return my.OK;case a_.CANCELLED:return my.CANCELLED;case a_.UNKNOWN:return my.UNKNOWN;case a_.DEADLINE_EXCEEDED:return my.DEADLINE_EXCEEDED;case a_.RESOURCE_EXHAUSTED:return my.RESOURCE_EXHAUSTED;case a_.INTERNAL:return my.INTERNAL;case a_.UNAVAILABLE:return my.UNAVAILABLE;case a_.UNAUTHENTICATED:return my.UNAUTHENTICATED;case a_.INVALID_ARGUMENT:return my.INVALID_ARGUMENT;case a_.NOT_FOUND:return my.NOT_FOUND;case a_.ALREADY_EXISTS:return my.ALREADY_EXISTS;case a_.PERMISSION_DENIED:return my.PERMISSION_DENIED;case a_.FAILED_PRECONDITION:return my.FAILED_PRECONDITION;case a_.ABORTED:return my.ABORTED;case a_.OUT_OF_RANGE:return my.OUT_OF_RANGE;case a_.UNIMPLEMENTED:return my.UNIMPLEMENTED;case a_.DATA_LOSS:return my.DATA_LOSS;default:return ky()}}(K=a_=a_||{})[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var v_=(w_.prototype.insert=function(e,t){return new w_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,m_.BLACK,null,null))},w_.prototype.remove=function(e){return new w_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,m_.BLACK,null,null))},w_.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},w_.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},w_.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(w_.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),w_.prototype.minKey=function(){return this.root.minKey()},w_.prototype.maxKey=function(){return this.root.maxKey()},w_.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},w_.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},w_.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},w_.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},w_.prototype.getIterator=function(){return new g_(this.root,null,this.comparator,!1)},w_.prototype.getIteratorFrom=function(e){return new g_(this.root,e,this.comparator,!1)},w_.prototype.getReverseIterator=function(){return new g_(this.root,null,this.comparator,!0)},w_.prototype.getReverseIteratorFrom=function(e){return new g_(this.root,e,this.comparator,!0)},w_),g_=(b_.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},b_.prototype.hasNext=function(){return 0<this.nodeStack.length},b_.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},b_),m_=(y_.prototype.copy=function(e,t,n,r,i){return new y_(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},y_.prototype.isEmpty=function(){return!1},y_.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},y_.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},y_.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},y_.prototype.minKey=function(){return this.min().key},y_.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},y_.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},y_.prototype.removeMin=function(){if(this.left.isEmpty())return y_.EMPTY;var e=this;return(e=(e=e.left.isRed()||e.left.left.isRed()?e:e.moveRedLeft()).copy(null,null,null,e.left.removeMin(),null)).fixUp()},y_.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return y_.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},y_.prototype.isRed=function(){return this.color},y_.prototype.fixUp=function(){var e=this;return(e=(e=e.right.isRed()&&!e.left.isRed()?e.rotateLeft():e).left.isRed()&&e.left.left.isRed()?e.rotateRight():e).left.isRed()&&e.right.isRed()?e.colorFlip():e},y_.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip():e},y_.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()?(e=e.rotateRight()).colorFlip():e},y_.prototype.rotateLeft=function(){var e=this.copy(null,null,y_.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},y_.prototype.rotateRight=function(){var e=this.copy(null,null,y_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},y_.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},y_.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},y_.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ky();if(this.right.isRed())throw ky();var e=this.left.check();if(e!==this.right.check())throw ky();return e+(this.isRed()?0:1)},y_);function y_(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:y_.RED,this.left=null!=r?r:y_.EMPTY,this.right=null!=i?i:y_.EMPTY,this.size=this.left.size+1+this.right.size}function b_(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}function w_(e,t){this.comparator=e,this.root=t||m_.EMPTY}function __(){this.size=0}m_.EMPTY=null,m_.RED=!0,m_.BLACK=!1,m_.EMPTY=(Object.defineProperty(__.prototype,"key",{get:function(){throw ky()},enumerable:!1,configurable:!0}),Object.defineProperty(__.prototype,"value",{get:function(){throw ky()},enumerable:!1,configurable:!0}),Object.defineProperty(__.prototype,"color",{get:function(){throw ky()},enumerable:!1,configurable:!0}),Object.defineProperty(__.prototype,"left",{get:function(){throw ky()},enumerable:!1,configurable:!0}),Object.defineProperty(__.prototype,"right",{get:function(){throw ky()},enumerable:!1,configurable:!0}),__.prototype.copy=function(e,t,n,r,i){return this},__.prototype.insert=function(e,t,n){return new m_(e,t)},__.prototype.remove=function(e,t){return this},__.prototype.isEmpty=function(){return!0},__.prototype.inorderTraversal=function(e){return!1},__.prototype.reverseTraversal=function(e){return!1},__.prototype.minKey=function(){return null},__.prototype.maxKey=function(){return null},__.prototype.isRed=function(){return!1},__.prototype.checkMaxDepth=function(){return!0},__.prototype.check=function(){return 0},new __);var E_=(k_.prototype.has=function(e){return null!==this.data.get(e)},k_.prototype.first=function(){return this.data.minKey()},k_.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(k_.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),k_.prototype.indexOf=function(e){return this.data.indexOf(e)},k_.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},k_.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},k_.prototype.forEachWhile=function(e,t){for(var n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},k_.prototype.firstAfterOrEqual=function(e){return(e=this.data.getIteratorFrom(e)).hasNext()?e.getNext().key:null},k_.prototype.getIterator=function(){return new I_(this.data.getIterator())},k_.prototype.getIteratorFrom=function(e){return new I_(this.data.getIteratorFrom(e))},k_.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},k_.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},k_.prototype.isEmpty=function(){return this.data.isEmpty()},k_.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},k_.prototype.isEqual=function(e){if(!(e instanceof k_))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},k_.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},k_.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},k_.prototype.copy=function(e){var t=new k_(this.comparator);return t.data=e,t},k_),I_=(T_.prototype.getNext=function(){return this.iter.getNext().key},T_.prototype.hasNext=function(){return this.iter.hasNext()},T_),S_=new v_(sb.comparator);function T_(e){this.iter=e}function k_(e){this.comparator=e,this.data=new v_(this.comparator)}var C_=new v_(sb.comparator),N_=new v_(sb.comparator),A_=new E_(sb.comparator);function x_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=A_,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var P_=new E_(xy),O_=(B_.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n=new Map;return n.set(e,R_.createSynthesizedTargetChangeForCurrentChange(e,t)),new B_(Dy.min(),n,P_,S_,x_())},B_),R_=(V_.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new V_(Hy.EMPTY_BYTE_STRING,t,x_(),x_(),x_())},V_),D_=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},L_=function(e,t){this.targetId=e,this.V=t},M_=function(e,t,n,r){void 0===n&&(n=Hy.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},F_=(Object.defineProperty(q_.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(q_.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(q_.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(q_.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),q_.prototype.$=function(e){0<e.approximateByteSize()&&(this.F=!0,this.C=e)},q_.prototype.M=function(){var e=x_(),t=x_(),n=x_();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ky()}})),new R_(this.C,this.N,e,t,n)},q_.prototype.L=function(){this.F=!1,this.D=K_()},q_.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},q_.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},q_.prototype.U=function(){this.S+=1},q_.prototype.K=function(){--this.S},q_.prototype.j=function(){this.F=!0,this.N=!0},q_),j_=(U_.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},U_.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:ky()}}))},U_.prototype.forEachTarget=function(e,t){var n=this;0<e.targetIds.length?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},U_.prototype.rt=function(e){var t=e.targetId,n=e.V.count;(e=this.ot(t))&&(Ab(e=e.target)?0===n?(e=new sb(e.path),this.tt(t,e,Ib.newNoDocument(e,Dy.min()))):Cy(1===n):this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t)))},U_.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);o&&(r.current&&Ab(o.target)&&(o=new sb(o.target.path),null!==t.H.get(o)||t.at(i,o)||t.tt(i,o,Ib.newNoDocument(o,e))),r.O&&(n.set(i,r.M()),r.L()))}));var r=x_();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){return!(e=t.ot(e))||2===e.purpose||(i=!1)})),i&&(r=r.add(e))}));var i=new O_(e,n,this.Y,this.H,r);return this.H=S_,this.J=z_(),this.Y=new E_(xy),i},U_.prototype.Z=function(e,t){var n;this.st(e)&&(n=this.at(e,t.key)?2:0,this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e)))},U_.prototype.tt=function(e,t,n){var r;this.st(e)&&(r=this.nt(e),this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n)))},U_.prototype.removeTarget=function(e){this.G.delete(e)},U_.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},U_.prototype.U=function(e){this.nt(e).U()},U_.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new F_,this.G.set(e,t)),t},U_.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new E_(xy),this.J=this.J.insert(e,t)),t},U_.prototype.st=function(e){var t=null!==this.ot(e);return t||Ey("WatchChangeAggregator","Detected inactive target",e),t},U_.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},U_.prototype.it=function(e){var t=this;this.G.set(e,new F_),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},U_.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},U_);function U_(e){this.W=e,this.G=new Map,this.H=S_,this.J=z_(),this.Y=new E_(xy)}function q_(){this.S=0,this.D=K_(),this.C=Hy.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function V_(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function B_(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function z_(){return new v_(sb.comparator)}function K_(){return new v_(sb.comparator)}var W_={asc:"ASCENDING",desc:"DESCENDING"},H_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G_=function(e,t){this.databaseId=e,this.I=t};function Q_(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function $_(e,t){return e.I?t.toBase64():t.toUint8Array()}function Y_(e){return Cy(!!e),Dy.fromTimestamp((e=Zy(e),new Ry(e.seconds,e.nanos)))}function X_(e,t){return new By(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function J_(e){return Cy(yE(e=By.fromString(e))),e}function Z_(e,t){return X_(e.databaseId,t.path)}function eE(e,t){if((t=J_(t)).get(1)!==e.databaseId.projectId)throw new yy(my.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new yy(my.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new sb(iE(t))}function tE(e,t){return X_(e.databaseId,t)}function nE(e){return 4===(e=J_(e)).length?By.emptyPath():iE(e)}function rE(e){return new By(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iE(e){return Cy(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function oE(e,t,n){return{name:Z_(e,t),fields:n.toProto().mapValue.fields}}function aE(e,t,n){var r=eE(e,t.name);return e=Y_(t.updateTime),t=new _b({mapValue:{fields:t.fields}}),t=Ib.newFoundDocument(r,e,t),n&&t.setHasCommittedMutations(),n?t.setHasCommittedMutations():t}function sE(e,t){var n,r,i;if(t instanceof Jw)n={update:oE(e,t.key,t.value)};else if(t instanceof c_)n={delete:Z_(e,t.key)};else if(t instanceof Zw)n={update:oE(e,t.key,t.data),updateMask:(i=t.fieldMask,r=[],i.fields.forEach((function(e){return r.push(e.canonicalString())})),{fieldPaths:r})};else{if(!(t instanceof l_))return ky();n={verify:Z_(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map((function(e){var t=e.transform;if(t instanceof Nw)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof Aw)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof Dw)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof jw)return{fieldPath:e.field.canonicalString(),increment:t.A};throw ky()}))),t.precondition.isNone||(n.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:(t=e,e=i.updateTime,Q_(t,e.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:ky()),n}function uE(e,t){var n=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?Kw.updateTime(Y_(a.updateTime)):void 0!==a.exists?Kw.exists(a.exists):Kw.none():Kw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n,r=null;return"setToServerValue"in t?(Cy("REQUEST_TIME"===t.setToServerValue),r=new Nw):"appendMissingElements"in t?(n=t.appendMissingElements.values||[],r=new Aw(n)):"removeAllFromArray"in t?(n=t.removeAllFromArray.values||[],r=new Dw(n)):"increment"in t?r=new jw(e,t.increment):ky(),t=Ky.fromServerFormat(t.fieldPath),new zw(t,r)}(e,t)})):[];if(t.update){t.update.name;var i=eE(e,t.update.name),o=new _b({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=(a=t.updateMask.fieldPaths||[],new Wy(a.map((function(e){return Ky.fromServerFormat(e)}))));return new Zw(i,o,a,n,r)}return new Jw(i,o,n,r)}return t.delete?(r=eE(e,t.delete),new c_(r,n)):t.verify?(t=eE(e,t.verify),new l_(t,n)):ky()}function cE(e,t){return{documents:[tE(e,t.path)]}}function lE(e,t){var n={structuredQuery:{}},r=t.path;return null!==t.collectionGroup?(n.parent=tE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),(r=function(e){if(0!==e.length)return 1===(e=e.map((function(e){if("=="===e.op){if(bb(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NAN"}};if(yb(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bb(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NOT_NAN"}};if(yb(e.value))return{unaryFilter:{field:pE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pE(e.field),op:(t=e.op,H_[t]),value:e.value}};var t}))).length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(t.filters))&&(n.structuredQuery.where=r),(r=function(e){if(0!==e.length)return e.map((function(e){return{field:pE((e=e).field),direction:(e=e.dir,W_[e])}}))}(t.orderBy))&&(n.structuredQuery.orderBy=r),r=t.limit,null!==(r=e.I||ib(r)?r:{value:r})&&(n.structuredQuery.limit=r),t.startAt&&(n.structuredQuery.startAt=fE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=fE(t.endAt)),n}function hE(e){var t=nE(e.parent),n=e.structuredQuery,r=null;0<(a=n.from?n.from.length:0)&&(Cy(1===a),(s=n.from[0]).allDescendants?r=s.collectionId:t=t.child(s.collectionId));var i=[];n.where&&(i=function e(t){return t?void 0!==t.unaryFilter?[mE(t)]:void 0!==t.fieldFilter?[gE(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):ky():[]}(n.where));var o=[],a=(e=null,null),s=null;return sw(t,r,o=n.orderBy?n.orderBy.map((function(e){return new rw(vE((t=e).field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var t})):o,i,e=n.limit?ib(i="object"==typeof(i=n.limit)?i.value:i)?null:i:e,"F",a=n.startAt?dE(n.startAt):a,s=n.endAt?dE(n.endAt):s)}function fE(e){return{before:e.before,values:e.position}}function dE(e){var t=!!e.before;return e=e.values||[],new Xb(e,t)}function pE(e){return{fieldPath:e.canonicalString()}}function vE(e){return Ky.fromServerFormat(e.fieldPath)}function gE(e){return Pb.create(vE(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ky()}}(),e.fieldFilter.value)}function mE(e){switch(e.unaryFilter.op){case"IS_NAN":var t=vE(e.unaryFilter.field);return Pb.create(t,"==",{doubleValue:NaN});case"IS_NULL":return t=vE(e.unaryFilter.field),Pb.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=vE(e.unaryFilter.field);return Pb.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=vE(e.unaryFilter.field),Pb.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ky()}}function yE(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function bE(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=wE(t)),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}(e.get(n),t);return wE(t)}function wE(e){return e+""}function _E(e){var t=e.length;if(Cy(2<=t),2===t)return Cy(""===e.charAt(0)&&""===e.charAt(1)),By.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||n<a)&&ky(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:ky()}o=a+2}return new By(r)}function EE(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var IE=function(e,t){this.seconds=e,this.nanoseconds=t};function SE(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}function TE(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}EE.store="owner",EE.key="owner",SE.store="mutationQueues",SE.keyPath="userId",TE.store="mutations",TE.keyPath="batchId",TE.userMutationsIndex="userMutationsIndex",TE.userMutationsKeyPath=["userId","batchId"];var kE=(CE.prefixForUser=function(e){return[e]},CE.prefixForPath=function(e,t){return[e,bE(t)]},CE.key=function(e,t,n){return[e,bE(t),n]},CE);function CE(){}function NE(e,t){this.path=e,this.readTime=t}function AE(e,t){this.path=e,this.version=t}kE.store="documentMutations",kE.PLACEHOLDER=new kE;var xE=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function PE(e){this.byteSize=e}function OE(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}xE.store="remoteDocuments",xE.readTimeIndex="readTimeIndex",xE.readTimeIndexPath="readTime",xE.collectionReadTimeIndex="collectionReadTimeIndex",xE.collectionReadTimeIndexPath=["parentPath","readTime"],PE.store="remoteDocumentGlobal",PE.key="remoteDocumentGlobalKey",OE.store="targets",OE.keyPath="targetId",OE.queryTargetsIndexName="queryTargetsIndex",OE.queryTargetsKeyPath=["canonicalId","targetId"];var RE=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};function DE(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function LE(e,t){this.collectionId=e,this.parent=t}function ME(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}function FE(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}function jE(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}RE.store="targetDocuments",RE.keyPath=["targetId","path"],RE.documentTargetsIndex="documentTargetsIndex",RE.documentTargetsKeyPath=["path","targetId"],DE.key="targetGlobalKey",DE.store="targetGlobal",LE.store="collectionParents",LE.keyPath=["collectionId","parent"],ME.store="clientMetadata",ME.keyPath="clientId",FE.store="bundles",FE.keyPath="bundleId",jE.store="namedQueries",jE.keyPath="name";var UE,qE=eo(eo([],eo(eo([],eo(eo([],eo(eo([],[SE.store,TE.store,kE.store,xE.store,OE.store,EE.store,DE.store,RE.store]),[ME.store])),[PE.store])),[LE.store])),[FE.store,jE.store]),VE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",BE=(ZE.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},ZE.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},kn=ZE,function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}),zE=(JE.prototype.catch=function(e){return this.next(void 0,e)},JE.prototype.next=function(e,t){var n=this;return this.callbackAttached&&ky(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new JE((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},JE.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},JE.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof JE?t:JE.resolve(t)}catch(e){return JE.reject(e)}},JE.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):JE.resolve(t)},JE.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):JE.reject(t)},JE.resolve=function(e){return new JE((function(t,n){t(e)}))},JE.reject=function(e){return new JE((function(t,n){n(e)}))},JE.waitFor=function(e){return new JE((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},JE.or=function(e){for(var t=JE.resolve(!1),n=0,r=e;n<r.length;n++)!function(e){t=t.next((function(t){return t?JE.resolve(t):e()}))}(r[n]);return t},JE.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},JE),KE=(XE.open=function(e,t,n,r){try{return new XE(t,e.transaction(r,n))}catch(e){throw new GE(t,e)}},Object.defineProperty(XE.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),XE.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ey("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},XE.prototype.store=function(e){return e=this.transaction.objectStore(e),new tI(e)},XE),WE=(YE.delete=function(e){return Ey("SimpleDb","Removing database:",e),rI(window.indexedDB.deleteDatabase(e)).toPromise()},YE.yt=function(){if("undefined"==typeof indexedDB)return!1;if(YE.gt())return!0;var e=fo(),t=0<(n=YE._t(e))&&n<10,n=0<(n=YE.Et(e))&&n<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||t||n)},YE.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},YE.It=function(e,t){return e.store(t)},YE._t=function(e){return e=(e=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?e[1].split("_").slice(0,2).join("."):"-1",Number(e)},YE.Et=function(e){return e=(e=e.match(/Android ([\d.]+)/i))?e[1].split(".").slice(0,2).join("."):"-1",Number(e)},YE.prototype.At=function(e){return Yi(this,void 0,void 0,(function(){var t,n=this;return Xi(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ey("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){e=e.target.result,t(e)},i.onblocked=function(){r(new GE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){"VersionError"===(t=t.target.error).name?r(new yy(my.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new GE(e,t))},i.onupgradeneeded=function(e){Ey("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Ey("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},YE.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},YE.prototype.runTransaction=function(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i,o,a,s;return Xi(this,(function(u){switch(u.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u;return Xi(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.At(e)];case 2:return a.db=c.sent(),t=KE.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),zE.reject(e)})).toPromise(),u={},s.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,Ey("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},YE.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},YE),HE=(Object.defineProperty($E.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty($E.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty($E.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),$E.prototype.done=function(){this.Vt=!0},$E.prototype.Ct=function(e){this.St=e},$E.prototype.delete=function(){return rI(this.Pt.delete())},$E),GE=(Qi(QE,UE=yy),QE);function QE(e,t){var n=this;return(n=UE.call(this,my.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+t)||this).name="IndexedDbTransactionError",n}function $E(e){this.Pt=e,this.Vt=!1,this.St=null}function YE(e,t,n){this.name=e,this.version=t,this.wt=n,12.2===YE._t(fo())&&Iy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function XE(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new BE,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new GE(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=oI(t.target.error),n.ft.reject(new GE(e,t))}}function JE(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}function ZE(){this.onCommittedListeners=[]}function eI(e){return"IndexedDbTransactionError"===e.name}var tI=(nI.prototype.put=function(e,t){return rI(e=void 0!==t?(Ey("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(Ey("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},nI.prototype.add=function(e){return Ey("SimpleDb","ADD",this.store.name,e,e),rI(this.store.add(e))},nI.prototype.get=function(e){var t=this;return rI(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ey("SimpleDb","GET",t.store.name,e,n),n}))},nI.prototype.delete=function(e){return Ey("SimpleDb","DELETE",this.store.name,e),rI(this.store.delete(e))},nI.prototype.count=function(){return Ey("SimpleDb","COUNT",this.store.name),rI(this.store.count())},nI.prototype.Nt=function(e,t){t=this.cursor(this.options(e,t));var n=[];return this.xt(t,(function(e,t){n.push(t)})).next((function(){return n}))},nI.prototype.Ft=function(e,t){return Ey("SimpleDb","DELETE ALL",this.store.name),(t=this.options(e,t)).kt=!1,t=this.cursor(t),this.xt(t,(function(e,t,n){return n.delete()}))},nI.prototype.Ot=function(e,t){t?n=e:(n={},t=e);var n=this.cursor(n);return this.xt(n,t)},nI.prototype.$t=function(e){var t=this.cursor({});return new zE((function(n,r){t.onerror=function(e){e=oI(e.target.error),r(e)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},nI.prototype.xt=function(e,t){var n=[];return new zE((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i,o=e.target.result;o?(i=new HE(o),(e=t(o.primaryKey,o.value,i))instanceof zE&&(e=e.catch((function(e){return i.done(),zE.reject(e)})),n.push(e)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}})).next((function(){return zE.waitFor(n)}))},nI.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},nI.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},nI);function nI(e){this.store=e}function rI(e){return new zE((function(t,n){e.onsuccess=function(e){e=e.target.result,t(e)},e.onerror=function(e){e=oI(e.target.error),n(e)}}))}var iI=!1;function oI(e){var t=WE._t(fo());if(12.2<=t&&t<13&&(t="An internal error was encountered in the Indexed Database server",0<=e.message.indexOf(t))){var n=new yy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return iI||(iI=!0,setTimeout((function(){throw n}),0)),n}return e}var aI,sI=(Qi(uI,aI=kn),uI);function uI(e,t){var n=this;return(n=aI.call(this)||this).Mt=e,n.currentSequenceNumber=t,n}function cI(e,t){return WE.It(e.Mt,t)}var lI=(gI.prototype.applyToRemoteDocument=function(e,t){for(var n,r,i,o,a,s,u=t.mutationResults,c=0;c<this.mutations.length;c++){var l=this.mutations[c];l.key.isEqual(e.key)&&(n=l,r=e,i=u[c],l=s=a=o=void 0,n instanceof Jw?(a=r,s=i,l=(o=n).value.clone(),o=r_(o.fieldTransforms,a,s.transformResults),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()):n instanceof Zw?(o=r,a=i,Hw((s=n).precondition,o)?(l=r_(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll(n_(s)),n.setAll(l),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},gI.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(r=n[t]).key.isEqual(e.key)&&Gw(r,e,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(e.key)&&Gw(r,e,this.localWriteTime)},gI.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key);n=r,t.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(Dy.min())}))},gI.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),x_())},gI.prototype.isEqual=function(e){return this.batchId===e.batchId&&Py(this.mutations,e.mutations,Qw)&&Py(this.baseMutations,e.baseMutations,Qw)},gI),hI=(vI.from=function(e,t,n){Cy(e.mutations.length===n.length);for(var r=N_,i=e.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new vI(e,t,n,r)},vI),fI=(pI.prototype.withSequenceNumber=function(e){return new pI(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},pI.prototype.withResumeToken=function(e,t){return new pI(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},pI.prototype.withLastLimboFreeSnapshotVersion=function(e){return new pI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},pI),dI=function(e){this.Lt=e};function pI(e,t,n,r,i,o,a){void 0===i&&(i=Dy.min()),void 0===o&&(o=Dy.min()),void 0===a&&(a=Hy.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function vI(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}function gI(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}function mI(e,t){if(t.document)return aE(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=sb.fromSegments(t.noDocument.path),r=EI(t.noDocument.readTime);return n=Ib.newNoDocument(n,r),t.hasCommittedMutations?n.setHasCommittedMutations():n}return t.unknownDocument?(n=sb.fromSegments(t.unknownDocument.path),r=EI(t.unknownDocument.version),Ib.newUnknownDocument(n,r)):ky()}function yI(e,t,n){var r=bI(n);if(n=t.key.path.popLast().toArray(),t.isFoundDocument()){var i={name:Z_(o=e.Lt,(a=t).key),fields:a.data.toProto().mapValue.fields,updateTime:Q_(o,a.version.toTimestamp())},o=t.hasCommittedMutations;return new xE(null,null,i,o,r,n)}if(t.isNoDocument()){var a=t.key.path.toArray();return i=_I(t.version),o=t.hasCommittedMutations,new xE(null,new NE(a,i),null,o,r,n)}return t.isUnknownDocument()?(o=t.key.path.toArray(),t=_I(t.version),new xE(new AE(o,t),null,null,!0,r,n)):ky()}function bI(e){return[(e=e.toTimestamp()).seconds,e.nanoseconds]}function wI(e){return e=new Ry(e[0],e[1]),Dy.fromTimestamp(e)}function _I(e){return e=e.toTimestamp(),new IE(e.seconds,e.nanoseconds)}function EI(e){return e=new Ry(e.seconds,e.nanoseconds),Dy.fromTimestamp(e)}function II(e,t){for(var n=(t.baseMutations||[]).map((function(t){return uE(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var a=t.mutations.map((function(t){return uE(e.Lt,t)})),s=Ry.fromMillis(t.localWriteTimeMs);return new lI(t.batchId,s,n,a)}function SI(e){var t=EI(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?EI(e.lastLimboFreeSnapshotVersion):Dy.min(),r=void 0!==e.query.documents?(Cy(1===(r=e.query).documents.length),vw(uw(nE(r.documents[0])))):vw(hE(e.query));return new fI(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Hy.fromBase64String(e.resumeToken))}function TI(e,t){var n=_I(t.snapshotVersion),r=_I(t.lastLimboFreeSnapshotVersion),i=(Ab(t.target)?cE:lE)(e.Lt,t.target);return e=t.resumeToken.toBase64(),new OE(t.targetId,Cb(t.target),n,e,t.sequenceNumber,r,i)}function kI(e){var t=hE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gw(t,t.limit,"L"):t}var CI=(NI.prototype.getBundleMetadata=function(e,t){return AI(e).get(t).next((function(e){if(e)return{id:(e=e).bundleId,createTime:EI(e.createTime),version:e.version}}))},NI.prototype.saveBundleMetadata=function(e,t){return AI(e).put({bundleId:(t=t).id,createTime:_I(Y_(t.createTime)),version:t.version})},NI.prototype.getNamedQuery=function(e,t){return xI(e).get(t).next((function(e){if(e)return{name:(e=e).name,query:kI(e.bundledQuery),readTime:EI(e.readTime)}}))},NI.prototype.saveNamedQuery=function(e,t){return xI(e).put({name:(t=t).name,readTime:_I(Y_(t.readTime)),bundledQuery:t.bundledQuery})},NI);function NI(){}function AI(e){return cI(e,FE.store)}function xI(e){return cI(e,jE.store)}var PI=(MI.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),zE.resolve()},MI.prototype.getCollectionParents=function(e,t){return zE.resolve(this.Bt.getEntries(t))},MI),OI=(LI.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new E_(By.comparator);return e=!r.has(n),this.index[t]=r.add(n),e},LI.prototype.has=function(e){var t=e.lastSegment();return e=e.popLast(),(t=this.index[t])&&t.has(e)},LI.prototype.getEntries=function(e){return(this.index[e]||new E_(By.comparator)).toArray()},LI),RI=(DI.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(this.qt.has(t))return zE.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.qt.add(t)})),i={collectionId:r,parent:bE(i)},FI(e).put(i)},DI.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Oy(t),""],!1,!0);return FI(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(_E(o.parent))}return n}))},DI);function DI(){this.qt=new OI}function LI(){this.index={}}function MI(){this.Bt=new OI}function FI(e){return cI(e,LE.store)}var jI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UI=(qI.withCacheSize=function(e){return new qI(e,qI.DEFAULT_COLLECTION_PERCENTILE,qI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},qI);function qI(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}function VI(e,t,n){var r=e.store(TE.store),i=e.store(kE.store),o=[],a=(e=IDBKeyRange.only(n.batchId),0);e=r.Ot({range:e},(function(e,t,n){return a++,n.delete()})),o.push(e.next((function(){Cy(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=kE.key(t,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return zE.waitFor(o).next((function(){return s}))}function BI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ky();t=e.noDocument}return JSON.stringify(t).length}UI.DEFAULT_COLLECTION_PERCENTILE=10,UI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,UI.DEFAULT=new UI(41943040,UI.DEFAULT_COLLECTION_PERCENTILE,UI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),UI.DISABLED=new UI(-1,0,0);var zI=(KI.Kt=function(e,t,n,r){return Cy(""!==e.uid),new KI(e.isAuthenticated()?e.uid:"",t,n,r)},KI.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return HI(e).Ot({index:TE.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},KI.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=GI(e),a=HI(e);return a.add({}).next((function(s){Cy("number"==typeof s);for(var u,c,l,h,f,d=new lI(s,t,n,r),p=(u=i.R,c=i.userId,h=(l=d).baseMutations.map((function(e){return sE(u.Lt,e)})),f=l.mutations.map((function(e){return sE(u.Lt,e)})),new TE(c,l.batchId,l.localWriteTime.toMillis(),h,f)),v=[],g=new E_((function(e,t){return xy(e.canonicalString(),t.canonicalString())})),m=0,y=r;m<y.length;m++){var b=y[m],w=kE.key(i.userId,b.key.path,s);g=g.add(b.key.path.popLast()),v.push(a.put(p)),v.push(o.put(w,kE.PLACEHOLDER))}return g.forEach((function(t){v.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=d.keys()})),zE.waitFor(v).next((function(){return d}))}))},KI.prototype.lookupMutationBatch=function(e,t){var n=this;return HI(e).get(t).next((function(e){return e?(Cy(e.userId===n.userId),II(n.R,e)):null}))},KI.prototype.jt=function(e,t){var n=this;return this.Qt[t]?zE.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){return e?(e=e.keys(),n.Qt[t]=e):null}))},KI.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=(t=IDBKeyRange.lowerBound([this.userId,r]),null);return HI(e).Ot({index:TE.userMutationsIndex,range:t},(function(e,t,o){t.userId===n.userId&&(Cy(t.batchId>=r),i=II(n.R,t)),o.done()})).next((function(){return i}))},KI.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return HI(e).Ot({index:TE.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},KI.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return HI(e).Nt(TE.userMutationsIndex,n).next((function(e){return e.map((function(e){return II(t.R,e)}))}))},KI.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=kE.prefixForPath(this.userId,t.path),i=(r=IDBKeyRange.lowerBound(r),[]);return GI(e).Ot({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=_E(u),s===n.userId&&t.path.isEqual(u))return HI(e).get(r).next((function(e){if(!e)throw ky();Cy(e.userId===n.userId),i.push(II(n.R,e))}));a.done()})).next((function(){return i}))},KI.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new E_(xy),i=[];return t.forEach((function(t){var o=kE.prefixForPath(n.userId,t.path);o=IDBKeyRange.lowerBound(o),o=GI(e).Ot({range:o},(function(e,i,o){var a=e[0],s=e[1];e=e[2],s=_E(s),a===n.userId&&t.path.isEqual(s)?r=r.add(e):o.done()})),i.push(o)})),zE.waitFor(i).next((function(){return n.Wt(e,r)}))},KI.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=(t=kE.prefixForPath(this.userId,r),t=IDBKeyRange.lowerBound(t),new E_(xy));return GI(e).Ot({range:t},(function(e,t,a){var s=e[0],u=e[1];e=e[2],u=_E(u),s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(e)):a.done()})).next((function(){return n.Wt(e,o)}))},KI.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(HI(e).get(t).next((function(e){if(null===e)throw ky();Cy(e.userId===n.userId),r.push(II(n.R,e))})))})),zE.waitFor(i).next((function(){return r}))},KI.prototype.removeMutationBatch=function(e,t){var n=this;return VI(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),zE.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},KI.prototype.Gt=function(e){delete this.Qt[e]},KI.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zE.resolve();n=IDBKeyRange.lowerBound(kE.prefixForUser(t.userId));var r=[];return GI(e).Ot({range:n},(function(e,n,i){e[0]===t.userId?(e=_E(e[1]),r.push(e)):i.done()})).next((function(){Cy(0===r.length)}))}))},KI.prototype.containsKey=function(e,t){return WI(e,this.userId,t)},KI.prototype.zt=function(e){var t=this;return QI(e).get(this.userId).next((function(e){return e||new SE(t.userId,-1,"")}))},KI);function KI(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}function WI(e,t,n){var r=(n=kE.prefixForPath(t,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return GI(e).Ot({range:n,kt:!0},(function(e,n,o){var a=e[0],s=e[1];e[2],a===t&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function HI(e){return cI(e,TE.store)}function GI(e){return cI(e,kE.store)}function QI(e){return cI(e,SE.store)}var $I=(JI.prototype.next=function(){return this.Ht+=2,this.Ht},JI.Jt=function(){return new JI(0)},JI.Yt=function(){return new JI(-1)},JI),YI=(XI.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new $I(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},XI.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Dy.fromTimestamp(new Ry(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},XI.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},XI.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},XI.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},XI.prototype.updateTargetData=function(e,t){return this.te(e,t)},XI.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ZI(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Cy(0<t.targetCount),--t.targetCount,n.Zt(e,t)}))},XI.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return ZI(e).Ot((function(a,s){(s=SI(s)).sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return zE.waitFor(o)})).next((function(){return i}))},XI.prototype.forEachTarget=function(e,t){return ZI(e).Ot((function(e,n){n=SI(n),t(n)}))},XI.prototype.Xt=function(e){return eS(e).get(DE.key).next((function(e){return Cy(null!==e),e}))},XI.prototype.Zt=function(e,t){return eS(e).put(DE.key,t)},XI.prototype.te=function(e,t){return ZI(e).put(TI(this.R,t))},XI.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},XI.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},XI.prototype.getTargetData=function(e,t){var n=Cb(t),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return ZI(e).Ot({range:n,index:OE.queryTargetsIndexName},(function(e,n,i){n=SI(n),Nb(t,n.target)&&(r=n,i.done())})).next((function(){return r}))},XI.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=tS(e);return t.forEach((function(t){var a=bE(t.path);i.push(o.put(new RE(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),zE.waitFor(i)},XI.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=tS(e);return zE.forEach(t,(function(t){var o=bE(t.path);return zE.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},XI.prototype.removeMatchingKeysForTargetId=function(e,t){return e=tS(e),t=IDBKeyRange.bound([t],[t+1],!1,!0),e.delete(t)},XI.prototype.getMatchingKeysForTargetId=function(e,t){t=IDBKeyRange.bound([t],[t+1],!1,!0),e=tS(e);var n=x_();return e.Ot({range:t,kt:!0},(function(e,t,r){e=_E(e[1]),e=new sb(e),n=n.add(e)})).next((function(){return n}))},XI.prototype.containsKey=function(e,t){t=bE(t.path),t=IDBKeyRange.bound([t],[Oy(t)],!1,!0);var n=0;return tS(e).Ot({index:RE.documentTargetsIndex,kt:!0,range:t},(function(e,t,r){var i=e[0];e[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},XI.prototype.lt=function(e,t){return ZI(e).get(t).next((function(e){return e?SI(e):null}))},XI);function XI(e,t){this.referenceDelegate=e,this.R=t}function JI(e){this.Ht=e}function ZI(e){return cI(e,OE.store)}function eS(e){return cI(e,DE.store)}function tS(e){return cI(e,RE.store)}function nS(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){if(e.code!==my.FAILED_PRECONDITION||e.message!==VE)throw e;return Ey("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function rS(e,t){var n=e[0],r=e[1];return e=t[0],t=t[1],0===(e=xy(n,e))?xy(r,t):e}var iS=(hS.prototype.ie=function(){return++this.se},hS.prototype.re=function(e){var t=[e,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(t):rS(t,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(t))},Object.defineProperty(hS.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),hS),oS=(lS.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},lS.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(lS.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),lS.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Ey("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Yi(t,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return eI(t=n.sent())?(Ey("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,nS(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},lS),aS=(cS.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},cS.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return zE.resolve(py.o);var r=new iS(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},cS.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},cS.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},cS.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ey("LruGarbageCollector","Garbage collection skipped; disabled"),zE.resolve(jI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ey("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jI):n.fe(e,t)}))},cS.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},cS.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(Ey("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),_y()<=ea.DEBUG&&Ey("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),zE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},cS),sS=(uS.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},uS.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},uS.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},uS.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},uS.prototype.addReference=function(e,t,n){return fS(e,n)},uS.prototype.removeReference=function(e,t,n){return fS(e,n)},uS.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},uS.prototype.markPotentiallyOrphaned=fS,uS.prototype._e=function(e,t){return r=t,i=!1,QI(n=e).$t((function(e){return WI(n,e,r).next((function(e){return e&&(i=!0),zE.resolve(!e)}))})).next((function(){return i}));var n,r,i},uS.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){s<=t&&(s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),tS(e).delete([0,bE(a.path)])}))})),i.push(s))})).next((function(){return zE.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},uS.prototype.removeTarget=function(e,t){return t=t.withSequenceNumber(e.currentSequenceNumber),this.db.getTargetCache().updateTargetData(e,t)},uS.prototype.updateLimboDocument=fS,uS.prototype.we=function(e,t){e=tS(e);var n,r=py.o;return e.Ot({index:RE.documentTargetsIndex},(function(e,i){var o=e[0];e[1],e=i.path,i=i.sequenceNumber,0===o?(r!==py.o&&t(new sb(_E(n)),r),r=i,n=e):r=py.o})).next((function(){r!==py.o&&t(new sb(_E(n)),r)}))},uS.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},uS);function uS(e,t){this.db=e,this.garbageCollector=new aS(this,t)}function cS(e,t){this.ae=e,this.params=t}function lS(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}function hS(e){this.ne=e,this.buffer=new E_(rS),this.se=0}function fS(e,t){return tS(e).put((e=e.currentSequenceNumber,new RE(0,bE(t.path),e)))}var dS,pS=(wS.prototype.get=function(e){var t=this.mapKeyFn(e);if(void 0!==(t=this.inner[t]))for(var n=0,r=t;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.equalsFn(i,e))return o}},wS.prototype.has=function(e){return void 0!==this.get(e)},wS.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},wS.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},wS.prototype.forEach=function(e){jy(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];e(o,a)}}))},wS.prototype.isEmpty=function(){return Uy(this.inner)},wS),vS=(bS.prototype.getReadTime=function(e){return(e=this.changes.get(e))?e.readTime:Dy.min()},bS.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},bS.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ib.newInvalidDocument(e),readTime:t})},bS.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zE.resolve(n.document):this.getFromCache(e,t)},bS.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},bS.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},bS.prototype.assertNotApplied=function(){},K=bS,yS.prototype.addEntry=function(e,t,n){return ES(e).put(IS(t),n)},yS.prototype.removeEntry=function(e,t){return e=ES(e),t=IS(t),e.delete(t)},yS.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},yS.prototype.getEntry=function(e,t){var n=this;return ES(e).get(IS(t)).next((function(e){return n.ye(t,e)}))},yS.prototype.ge=function(e,t){var n=this;return ES(e).get(IS(t)).next((function(e){return{document:n.ye(t,e),size:BI(e)}}))},yS.prototype.getEntries=function(e,t){var n=this,r=S_;return this.pe(e,t,(function(e,t){t=n.ye(e,t),r=r.insert(e,t)})).next((function(){return r}))},yS.prototype.Ee=function(e,t){var n=this,r=S_,i=new v_(sb.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,BI(t))})).next((function(){return{documents:r,Te:i}}))},yS.prototype.pe=function(e,t,n){if(t.isEmpty())return zE.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return ES(e).Ot({range:r},(function(e,t,r){for(var a=sb.fromSegments(e);o&&sb.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},yS.prototype.getDocumentsMatchingQuery=function(e,t,n){var r,i=this,o=S_,a=t.path.length+1,s={};return n.isEqual(Dy.min())?(r=t.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=t.path.toArray(),n=bI(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=xE.collectionReadTimeIndex),ES(e).Ot(s,(function(e,n,r){e.length===a&&(n=mI(i.R,n),t.path.isPrefixOf(n.key.path)?ww(t,n)&&(o=o.insert(n.key,n)):r.done())})).next((function(){return o}))},yS.prototype.newChangeBuffer=function(e){return new gS(this,!!e&&e.trackRemovals)},yS.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},yS.prototype.getMetadata=function(e){return _S(e).get(PE.key).next((function(e){return Cy(!!e),e}))},yS.prototype.me=function(e,t){return _S(e).put(PE.key,t)},yS.prototype.ye=function(e,t){return!t||(t=mI(this.R,t)).isNoDocument()&&t.version.isEqual(Dy.min())?Ib.newInvalidDocument(e):t},yS),gS=(Qi(mS,dS=K),mS.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new E_((function(e,t){return xy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s,u=t.Ae.get(o);a.document.isValidDocument()?(s=yI(t.Ie.R,a.document,t.getReadTime(o)),i=i.add(o.path.popLast()),a=BI(s),r+=a-u,n.push(t.Ie.addEntry(e,o,s))):(r-=u,t.trackRemovals?(u=yI(t.Ie.R,Ib.newNoDocument(o,Dy.min()),t.getReadTime(o)),n.push(t.Ie.addEntry(e,o,u))):n.push(t.Ie.removeEntry(e,o)))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),zE.waitFor(n)},mS.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},mS.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},mS);function mS(e,t){var n=this;return(n=dS.call(this)||this).Ie=e,n.trackRemovals=t,n.Ae=new pS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),n}function yS(e,t){this.R=e,this.Ut=t}function bS(){this.changes=new pS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}function wS(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}function _S(e){return cI(e,PE.store)}function ES(e){return cI(e,xE.store)}function IS(e){return e.path.toArray()}var SS=(TS.prototype.Rt=function(e,t,n,r){var i=this;Cy(n<r&&0<=n&&r<=11);var o=new KE("createOrUpgrade",t);n<1&&1<=r&&(e.createObjectStore(EE.store),(a=e).createObjectStore(SE.store,{keyPath:SE.keyPath}),a.createObjectStore(TE.store,{keyPath:TE.keyPath,autoIncrement:!0}).createIndex(TE.userMutationsIndex,TE.userMutationsKeyPath,{unique:!0}),a.createObjectStore(kE.store),kS(e),e.createObjectStore(xE.store));var a,s=zE.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(RE.store),a.deleteObjectStore(OE.store),a.deleteObjectStore(DE.store),kS(e)),s=s.next((function(){return e=o.store(DE.store),t=new DE(0,0,Dy.min().toTimestamp(),0),e.put(DE.key,t);var e,t}))),n<4&&4<=r&&(s=(s=0!==n?s.next((function(){return t=e,(n=o).store(TE.store).Nt().next((function(e){t.deleteObjectStore(TE.store),t.createObjectStore(TE.store,{keyPath:TE.keyPath,autoIncrement:!0}).createIndex(TE.userMutationsIndex,TE.userMutationsKeyPath,{unique:!0});var r=n.store(TE.store);return e=e.map((function(e){return r.put(e)})),zE.waitFor(e)}));var t,n})):s).next((function(){e.createObjectStore(ME.store,{keyPath:ME.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.Re(o)}))),n<6&&6<=r&&(s=s.next((function(){return e.createObjectStore(PE.store),i.be(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ve(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.Pe(e,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=e).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(xE.store)).createIndex(xE.readTimeIndex,xE.readTimeIndexPath,{unique:!1}),n.createIndex(xE.collectionReadTimeIndex,xE.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.Ve(o)}))),n<11&&11<=r?s.next((function(){e.createObjectStore(FE.store,{keyPath:FE.keyPath}),e.createObjectStore(jE.store,{keyPath:jE.keyPath})})):s},TS.prototype.be=function(e){var t=0;return e.store(xE.store).Ot((function(e,n){t+=BI(n)})).next((function(){var n=new PE(t);return e.store(PE.store).put(PE.key,n)}))},TS.prototype.Re=function(e){var t=this,n=e.store(SE.store),r=e.store(TE.store);return n.Nt().next((function(n){return zE.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(TE.userMutationsIndex,i).next((function(r){return zE.forEach(r,(function(r){return Cy(r.userId===n.userId),r=II(t.R,r),VI(e,n.userId,r).next((function(){}))}))}))}))}))},TS.prototype.ve=function(e){var t=e.store(RE.store),n=e.store(xE.store);return e.store(DE.store).get(DE.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new By(n);n=[0,bE(o)],r.push(t.get(n).next((function(n){return n?zE.resolve():t.put(new RE(0,bE(o),e.highestListenSequenceNumber))})))})).next((function(){return zE.waitFor(r)}))}))},TS.prototype.Pe=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment();return e=e.popLast(),r.put({collectionId:t,parent:bE(e)})}}e.createObjectStore(LE.store,{keyPath:LE.keyPath});var r=t.store(LE.store),i=new OI;return t.store(xE.store).Ot({kt:!0},(function(e,t){return n((e=new By(e)).popLast())})).next((function(){return t.store(kE.store).Ot({kt:!0},(function(e,t){e[0];var r=e[1];return n((e[2],r=_E(r)).popLast())}))}))},TS.prototype.Ve=function(e){var t=this,n=e.store(OE.store);return n.Ot((function(e,r){return r=SI(r),r=TI(t.R,r),n.put(r)}))},TS);function TS(e){this.R=e}function kS(e){e.createObjectStore(RE.store,{keyPath:RE.keyPath}).createIndex(RE.documentTargetsIndex,RE.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(OE.store,{keyPath:OE.keyPath}).createIndex(OE.queryTargetsIndexName,OE.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(DE.store)}var CS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",NS=(AS.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new yy(my.FAILED_PRECONDITION,CS);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new py(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},AS.prototype.He=function(e){var t=this;return this.Me=function(n){return Yi(t,void 0,void 0,(function(){return Xi(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},AS.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Yi(t,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},AS.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Yi(t,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},AS.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return PS(t).put(new ME(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(eI(t))return Ey("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ey("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},AS.prototype.Je=function(e){var t=this;return xS(e).get(EE.key).next((function(e){return zE.resolve(t.tn(e))}))},AS.prototype.en=function(e){return PS(e).delete(this.clientId)},AS.prototype.nn=function(){return Yi(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Xi(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cI(e,ME.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zE.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},AS.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},AS.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},AS.prototype.Ye=function(e){var t=this;return this.Ce?zE.resolve(!0):xS(e).get(EE.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new yy(my.FAILED_PRECONDITION,CS);return!1}}return!(!t.networkEnabled||!t.inForeground)||PS(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground;if(e=t.networkEnabled===e.networkEnabled,n||r&&e)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ey("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},AS.prototype.shutdown=function(){return Yi(this,void 0,void 0,(function(){var e=this;return Xi(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[EE.store,ME.store],(function(t){var n=new sI(t,py.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},AS.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},AS.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return PS(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(AS.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),AS.prototype.getMutationQueue=function(e){return zI.Kt(e,this.R,this.Ut,this.referenceDelegate)},AS.prototype.getTargetCache=function(){return this.qe},AS.prototype.getRemoteDocumentCache=function(){return this.Ue},AS.prototype.getIndexManager=function(){return this.Ut},AS.prototype.getBundleCache=function(){return this.Qe},AS.prototype.runTransaction=function(e,t,n){var r=this;Ey("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,qE,(function(o){return i=new sI(o,r.Ne?r.Ne.next():py.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Iy("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new yy(my.FAILED_PRECONDITION,VE);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},AS.prototype.dn=function(e){var t=this;return xS(e).get(EE.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new yy(my.FAILED_PRECONDITION,CS)}))},AS.prototype.Ze=function(e){var t=new EE(this.clientId,this.allowTabSynchronization,Date.now());return xS(e).put(EE.key,t)},AS.yt=function(){return WE.yt()},AS.prototype.Xe=function(e){var t=this,n=xS(e);return n.get(EE.key).next((function(e){return t.tn(e)?(Ey("IndexedDbPersistence","Releasing primary lease."),n.delete(EE.key)):zE.resolve()}))},AS.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(Iy("Detected an update time that is in the future: "+e+" > "+n),1))},AS.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},AS.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},AS.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},AS.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},AS.prototype.cn=function(e){try{var t=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return Ey("IndexedDbPersistence","Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return Iy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},AS.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Iy("Failed to set zombie client id.",e)}},AS.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},AS.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},AS);function AS(e,t,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!AS.yt())throw new yy(my.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sS(this,r),this.Le=t+"main",this.R=new dI(s),this.Be=new WE(this.Le,11,new SS(this.R)),this.qe=new YI(this.referenceDelegate,this.R),this.Ut=new RI,this.Ue=(t=this.R,s=this.Ut,new vS(t,s)),this.Qe=new CI,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Iy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function xS(e){return cI(e,EE.store)}function PS(e){return cI(e,ME.store)}function OS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function RS(e,t){this.progress=e,this.wn=t}var DS=(VS.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},VS.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},VS.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},VS.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},VS.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},VS.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,sb.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):dw(t)?this.In(e,t,n):this.An(e,t,n);var r},VS.prototype.Tn=function(e,t){return this.mn(e,new sb(t)).next((function(e){var t=C_;return e.isFoundDocument()?t.insert(e.key,e):t}))},VS.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=C_;return this.Ut.getCollectionParents(e,i).next((function(a){return zE.forEach(a,(function(a){var s=(s=t,a=a.child(i),new aw(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},VS.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ib.newInvalidDocument(c),r=r.insert(c,l)),Gw(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){ww(t,n)||(r=r.remove(e))})),r}))},VS.prototype.Rn=function(e,t,n){for(var r=x_(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Zw&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},VS),LS=(qS.Pn=function(e,t){for(var n=x_(),r=x_(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new qS(e,t.fromCache,n,r)},qS),MS=(US.prototype.Vn=function(e){this.Sn=e},US.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())||n.isEqual(Dy.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(cw(t)||lw(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(_y()<=ea.DEBUG&&Ey("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bw(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},US.prototype.Cn=function(e,t){var n=new E_(_w(e));return t.forEach((function(t,r){ww(e,r)&&(n=n.add(r))})),n},US.prototype.Nn=function(e,t,n,r){return n.size!==t.size||!!(t="F"===e?t.last():t.first())&&(t.hasPendingWrites||0<t.version.compareTo(r))},US.prototype.Dn=function(e,t){return _y()<=ea.DEBUG&&Ey("QueryEngine","Using full collection scan to execute query:",bw(t)),this.Sn.getDocumentsMatchingQuery(e,t,Dy.min())},US),FS=(jS.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},jS);function jS(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new v_(xy),this.kn=new pS(Cb,Nb),this.On=Dy.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new DS(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}function US(){}function qS(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}function VS(e,t,n){this.Ue=e,this._n=t,this.Ut=n}function BS(e,t,n,r){return new FS(e,t,n,r)}function zS(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o;return Xi(this,(function(a){switch(a.label){case 0:return r=(n=e)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new DS(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=x_(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function KS(e,t){var n=e;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.$n.newChangeBuffer({trackRemovals:!0});return r=n,i=e,a=h,u=(s=(o=t).batch).keys(),c=zE.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);Cy(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)})).next((function(){return h.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function WS(e){var t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function HS(e,t){var n=e,r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);l&&(a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}))),0<(c=t.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber),i=i.insert(o,s),u=l,c=t,Cy(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(e,s))))}));var s,u=S_;return t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(GS(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),r.isEqual(Dy.min())||(s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)})),a.push(s)),zE.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function GS(e,t,n,r,i){var o=x_();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=S_;return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Dy.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Ey("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function QS(e,t){var n=e;return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,zE.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new fI(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||0<e.snapshotVersion.compareTo(r.snapshotVersion))&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function $S(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o;return Xi(this,(function(a){switch(a.label){case 0:i=(r=e).Fn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!eI(o=a.sent()))throw o;return Ey("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function YS(e,t,n){var r=e,i=Dy.min(),o=x_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return a=r,s=e,u=vw(t),(void 0!==(a=(c=a).kn.get(u))?zE.resolve(c.Fn.get(a)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Dy.min(),n?o:x_())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c}))}function XS(e,t){var n=e,r=n.qe;return(e=n.Fn.get(t))?Promise.resolve(e.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function JS(e){var t=e;return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.$n,r=e,e=t.On,i=n,o=S_,a=bI(e),e=ES(r),r=IDBKeyRange.lowerBound(a,!0),e.Ot({index:xE.readTimeIndex,range:r},(function(e,t){var n=mI(i.R,t);o=o.insert(n.key,n),a=t.readTime})).next((function(){return{wn:o,readTime:wI(a)}}));var n,r,i,o,a})).then((function(e){var n=e.wn;return e=e.readTime,t.On=e,n}))}function ZS(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return e=ES(e),t=Dy.min(),e.Ot({index:xE.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t=wI(n.readTime)),r.done()})).next((function(){return t}));var t})).then((function(e){t.On=e}))]}))}))}var eT,tT,nT=(IT.prototype.getBundleMetadata=function(e,t){return zE.resolve(this.Kn.get(t))},IT.prototype.saveBundleMetadata=function(e,t){return this.Kn.set(t.id,{id:t.id,version:t.version,createTime:Y_(t.createTime)}),zE.resolve()},IT.prototype.getNamedQuery=function(e,t){return zE.resolve(this.jn.get(t))},IT.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(t=t).name,query:kI(t.bundledQuery),readTime:Y_(t.readTime)}),zE.resolve()},IT),rT=(ET.prototype.isEmpty=function(){return this.Wn.isEmpty()},ET.prototype.addReference=function(e,t){t=new iT(e,t),this.Wn=this.Wn.add(t),this.zn=this.zn.add(t)},ET.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},ET.prototype.removeReference=function(e,t){this.Yn(new iT(e,t))},ET.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},ET.prototype.Zn=function(e){var t=this,n=new sb(new By([])),r=new iT(n,e),i=(e=new iT(n,e+1),[]);return this.zn.forEachInRange([r,e],(function(e){t.Yn(e),i.push(e.key)})),i},ET.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},ET.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},ET.prototype.es=function(e){var t=new sb(new By([])),n=new iT(t,e),r=(e=new iT(t,e+1),x_());return this.zn.forEachInRange([n,e],(function(e){r=r.add(e.key)})),r},ET.prototype.containsKey=function(e){var t=new iT(e,0);return null!==(t=this.Wn.firstAfterOrEqual(t))&&e.isEqual(t.key)},ET),iT=(_T.Gn=function(e,t){return sb.comparator(e.key,t.key)||xy(e.ns,t.ns)},_T.Hn=function(e,t){return xy(e.ns,t.ns)||sb.comparator(e.key,t.key)},_T),oT=(wT.prototype.checkEmpty=function(e){return zE.resolve(0===this._n.length)},wT.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new lI(i,t,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new iT(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return zE.resolve(n)},wT.prototype.lookupMutationBatch=function(e,t){return zE.resolve(this.os(t))},wT.prototype.getNextMutationBatchAfterBatchId=function(e,t){return t+=1,t=(t=this.cs(t))<0?0:t,zE.resolve(this._n.length>t?this._n[t]:null)},wT.prototype.getHighestUnacknowledgedBatchId=function(){return zE.resolve(0===this._n.length?-1:this.ss-1)},wT.prototype.getAllMutationBatches=function(e){return zE.resolve(this._n.slice())},wT.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new iT(t,0),i=(t=new iT(t,Number.POSITIVE_INFINITY),[]);return this.rs.forEachInRange([r,t],(function(e){e=n.os(e.ns),i.push(e)})),zE.resolve(i)},wT.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new E_(xy);return t.forEach((function(e){var t=new iT(e,0);e=new iT(e,Number.POSITIVE_INFINITY),n.rs.forEachInRange([t,e],(function(e){r=r.add(e.ns)}))})),zE.resolve(this.us(r))},wT.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1;t=n,sb.isDocumentKey(t)||(t=t.child("")),t=new iT(new sb(t),0);var i=new E_(xy);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.ns)),!0)}),t),zE.resolve(this.us(i))},wT.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){null!==(e=t.os(e))&&n.push(e)})),n},wT.prototype.removeMutationBatch=function(e,t){var n=this;Cy(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return zE.forEach(t.mutations,(function(i){var o=new iT(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},wT.prototype.Gt=function(e){},wT.prototype.containsKey=function(e,t){var n=new iT(t,0);return n=this.rs.firstAfterOrEqual(n),zE.resolve(t.isEqual(n&&n.key))},wT.prototype.performConsistencyCheck=function(e){return this._n.length,zE.resolve()},wT.prototype.hs=function(e,t){return this.cs(e)},wT.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},wT.prototype.os=function(e){return(e=this.cs(e))<0||e>=this._n.length?null:this._n[e]},wT),aT=(bT.prototype.addEntry=function(e,t,n){var r=t.key,i=(o=this.docs.get(r))?o.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},bT.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},bT.prototype.getEntry=function(e,t){var n=this.docs.get(t);return zE.resolve(n?n.document.clone():Ib.newInvalidDocument(t))},bT.prototype.getEntries=function(e,t){var n=this,r=S_;return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ib.newInvalidDocument(e))})),zE.resolve(r)},bT.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=S_,i=new sb(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=(s=o.getNext()).key,s=(u=s.value).document,u=u.readTime;if(!t.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||ww(t,s)&&(r=r.insert(s.key,s.clone()))}return zE.resolve(r)},bT.prototype.fs=function(e,t){return zE.forEach(this.docs,(function(e){return t(e)}))},bT.prototype.newChangeBuffer=function(e){return new sT(this)},bT.prototype.getSize=function(e){return zE.resolve(this.size)},bT),sT=(Qi(yT,tT=K),yT.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),zE.waitFor(n)},yT.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},yT.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},yT),uT=(mT.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),zE.resolve()},mT.prototype.getLastRemoteSnapshotVersion=function(e){return zE.resolve(this.lastRemoteSnapshotVersion)},mT.prototype.getHighestSequenceNumber=function(e){return zE.resolve(this.ws)},mT.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),zE.resolve(this.highestTargetId)},mT.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),zE.resolve()},mT.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new $I(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},mT.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,zE.resolve()},mT.prototype.updateTargetData=function(e,t){return this.te(t),zE.resolve()},mT.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),--this.targetCount,zE.resolve()},mT.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zE.waitFor(o).next((function(){return i}))},mT.prototype.getTargetCount=function(e){return zE.resolve(this.targetCount)},mT.prototype.getTargetData=function(e,t){return t=this.ds.get(t)||null,zE.resolve(t)},mT.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),zE.resolve()},mT.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zE.waitFor(i)},mT.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),zE.resolve()},mT.prototype.getMatchingKeysForTargetId=function(e,t){return t=this._s.es(t),zE.resolve(t)},mT.prototype.containsKey=function(e,t){return zE.resolve(this._s.containsKey(t))},mT),cT=(gT.prototype.start=function(){return Promise.resolve()},gT.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(gT.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),gT.prototype.setDatabaseDeletedListener=function(){},gT.prototype.setNetworkEnabled=function(){},gT.prototype.getIndexManager=function(){return this.Ut},gT.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new oT(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},gT.prototype.getTargetCache=function(){return this.qe},gT.prototype.getRemoteDocumentCache=function(){return this.Ue},gT.prototype.getBundleCache=function(){return this.Qe},gT.prototype.runTransaction=function(e,t,n){var r=this;Ey("MemoryPersistence","Starting transaction:",e);var i=new lT(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},gT.prototype.Is=function(e,t){return zE.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},gT),lT=(Qi(vT,eT=kn),vT),hT=(pT.bs=function(e){return new pT(e)},Object.defineProperty(pT.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ky()},enumerable:!1,configurable:!0}),pT.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),zE.resolve()},pT.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),zE.resolve()},pT.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),zE.resolve()},pT.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},pT.prototype.Es=function(){this.Rs=new Set},pT.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zE.forEach(this.vs,(function(r){var i=sb.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},pT.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},pT.prototype.ps=function(e){return 0},pT.prototype.Ps=function(e,t){var n=this;return zE.or([function(){return zE.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},pT),fT=(dT.prototype.isAuthenticated=function(){return null!=this.uid},dT.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},dT.prototype.isEqual=function(e){return e.uid===this.uid},dT);function dT(e){this.uid=e}function pT(e){this.persistence=e,this.As=new rT,this.Rs=null}function vT(e){var t=this;return(t=eT.call(this)||this).currentSequenceNumber=e,t}function gT(e,t){var n=this;this.gs={},this.Ne=new py(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new uT(this),this.Ut=new PI,this.Ue=(e=this.Ut,new aT(e,(function(e){return n.referenceDelegate.ps(e)}))),this.R=new dI(t),this.Qe=new nT(this.R)}function mT(e){this.persistence=e,this.ds=new pS(Cb,Nb),this.lastRemoteSnapshotVersion=Dy.min(),this.highestTargetId=0,this.ws=0,this._s=new rT,this.targetCount=0,this.ys=$I.Jt()}function yT(e){var t=this;return(t=tT.call(this)||this).Ie=e,t}function bT(e,t){this.Ut=e,this.ls=t,this.docs=new v_(sb.comparator),this.size=0}function wT(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new E_(iT.Gn)}function _T(e,t){this.key=e,this.ns=t}function ET(){this.Wn=new E_(iT.Gn),this.zn=new E_(iT.Hn)}function IT(e){this.R=e,this.Kn=new Map,this.jn=new Map}function ST(e,t){return"firestore_clients_"+e+"_"+t}function TT(e,t,n){return n="firestore_mutations_"+e+"_"+n,t.isAuthenticated()&&(n+="_"+t.uid),n}function kT(e,t){return"firestore_targets_"+e+"_"+t}fT.UNAUTHENTICATED=new fT(null),fT.GOOGLE_CREDENTIALS=new fT("google-credentials-uid"),fT.FIRST_PARTY=new fT("first-party-uid");var CT,NT=(XT.Vs=function(e,t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yy(i.error.code,i.error.message)),o?new XT(e,t,i.state,r):(Iy("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+n),null)},XT.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},XT),AT=(YT.Vs=function(e,t){var n,r=JSON.parse(t),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new yy(r.error.code,r.error.message)),i?new YT(e,r.state,n):(Iy("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},YT.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},YT),xT=($T.Vs=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=P_,o=0;r&&o<n.activeTargetIds.length;++o)r=ab(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new $T(e,i):(Iy("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},$T),PT=(QT.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new QT(t.clientId,t.onlineState):(Iy("SharedClientState","Failed to parse online state: "+e),null)},QT),OT=(GT.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},GT.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},GT.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},GT),RT=(HT.yt=function(e){return!(!e||!e.localStorage)},HT.prototype.start=function(){return Yi(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return Xi(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=h.sent(),e=0,t=o;e<t.length;e++)(n=t[e])!==this.Ns&&(r=this.getItem(ST(this.persistenceKey,n)))&&(i=xT.Vs(n,r))&&(this.ks=this.ks.insert(i.clientId,i));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),s=0,u=this.Os;s<u.length;s++)c=u[s],this.Fs(c);return this.Os=[],this.window.addEventListener("unload",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},HT.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},HT.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},HT.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},HT.prototype.addPendingMutation=function(e){this.zs(e,"pending")},HT.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},HT.prototype.addLocalQueryTarget=function(e){var t,n="not-current";return this.isActiveQueryTarget(e)&&(!(t=this.storage.getItem(kT(this.persistenceKey,e)))||(t=AT.Vs(e,t))&&(n=t.state)),this.Js.Ds(e),this.Ks(),n},HT.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},HT.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},HT.prototype.clearQueryState=function(e){this.removeItem(kT(this.persistenceKey,e))},HT.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},HT.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},HT.prototype.setOnlineState=function(e){this.Xs(e)},HT.prototype.notifyBundleLoaded=function(){this.Zs()},HT.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},HT.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ey("SharedClientState","READ",e,t),t},HT.prototype.setItem=function(e,t){Ey("SharedClientState","SET",e,t),this.storage.setItem(e,t)},HT.prototype.removeItem=function(e){Ey("SharedClientState","REMOVE",e),this.storage.removeItem(e)},HT.prototype.Fs=function(e){var t=this,n=e;n.storageArea===this.storage&&(Ey("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.$s?this.Se.enqueueRetryable((function(){return Yi(t,void 0,void 0,(function(){var e,t,r,i;return Xi(this,(function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(t=this.si(n.key,n.newValue)))return[2,this.ii(t)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(i=this.js(n.newValue)))return[2,this.Ws(i)]}else if(n.key===this.Ms)(i=function(e){var t=py.o;if(null!=e)try{var n=JSON.parse(e);Cy("number"==typeof n),t=n}catch(e){Iy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==py.o&&this.sequenceNumberHandler(i);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))})):Iy("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(HT.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),HT.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},HT.prototype.zs=function(e,t,n){n=new NT(this.currentUser,e,t,n),e=TT(this.persistenceKey,this.currentUser,e),this.setItem(e,n.Ss())},HT.prototype.Hs=function(e){e=TT(this.persistenceKey,this.currentUser,e),this.removeItem(e)},HT.prototype.Xs=function(e){e={clientId:this.Ns,onlineState:e},this.storage.setItem(this.Us,JSON.stringify(e))},HT.prototype.Ys=function(e,t,n){var r=kT(this.persistenceKey,e);n=new AT(e,t,n),this.setItem(r,n.Ss())},HT.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},HT.prototype.ti=function(e){return(e=this.Ls.exec(e))?e[1]:null},HT.prototype.ni=function(e,t){return e=this.ti(e),xT.Vs(e,t)},HT.prototype.si=function(e,t){var n=this.Bs.exec(e);return e=Number(n[1]),n=void 0!==n[2]?n[2]:null,NT.Vs(new fT(n),e,t)},HT.prototype.ri=function(e,t){return e=this.qs.exec(e),e=Number(e[1]),AT.Vs(e,t)},HT.prototype.js=function(e){return PT.Vs(e)},HT.prototype.ii=function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ey("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},HT.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},HT.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},HT.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},HT.prototype.Gs=function(e){var t=P_;return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},HT),DT=(WT.prototype.addPendingMutation=function(e){},WT.prototype.updateMutationState=function(e,t,n){},WT.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},WT.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},WT.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},WT.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},WT.prototype.clearQueryState=function(e){delete this.fi[e]},WT.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},WT.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},WT.prototype.start=function(){return this.li=new OT,Promise.resolve()},WT.prototype.handleUserChange=function(e,t,n){},WT.prototype.setOnlineState=function(e){},WT.prototype.shutdown=function(){},WT.prototype.writeSequenceNumber=function(e){},WT.prototype.notifyBundleLoaded=function(){},WT),LT=(KT.prototype.di=function(e){},KT.prototype.shutdown=function(){},KT),MT=(zT.prototype.di=function(e){this.gi.push(e)},zT.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},zT.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},zT.prototype._i=function(){Ey("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},zT.prototype.yi=function(){Ey("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},zT.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},zT),FT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jT=(BT.prototype.Ii=function(e){this.Ai=e},BT.prototype.Ri=function(e){this.bi=e},BT.prototype.onMessage=function(e){this.vi=e},BT.prototype.close=function(){this.Ti()},BT.prototype.send=function(e){this.Ei(e)},BT.prototype.Pi=function(){this.Ai()},BT.prototype.Vi=function(e){this.bi(e)},BT.prototype.Si=function(e){this.vi(e)},BT),UT=(VT.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);return Ey("RestConnection","Sending: ",i,n),t={},this.Fi(t,r),this.ki(e,i,t,n).then((function(e){return Ey("RestConnection","Received: ",e),e}),(function(t){throw Sy("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},VT.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},VT.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.4.2",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},VT.prototype.xi=function(e,t){return e=FT[e],this.Di+"/v1/"+t+":"+e},Qi(qT,CT=VT),qT.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new dy;a.listenOnce(ly.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case cy.NO_ERROR:var t=a.getResponseJson();Ey("Connection","XHR received:",JSON.stringify(t)),i(t);break;case cy.TIMEOUT:Ey("Connection",'RPC "'+e+'" timed out'),o(new yy(my.DEADLINE_EXCEEDED,"Request time out"));break;case cy.HTTP_ERROR:var n=a.getStatus();Ey("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),0<n?(t=a.getResponseJson().error)&&t.status&&t.message?(n=t.status.toLowerCase().replace(/_/g,"-"),n=0<=Object.values(my).indexOf(n)?n:my.UNKNOWN,o(new yy(n,t.message))):o(new yy(my.UNKNOWN,"Server responded with status "+a.getStatus())):o(new yy(my.UNAVAILABLE,"Connection failed."));break;default:ky()}}finally{Ey("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},qT.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new ry,i=uy();e={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},this.Fi(e.initMessageHeaders,t),po()||go()||0<=fo().indexOf("Electron/")||0<=(t=fo()).indexOf("MSIE ")||0<=t.indexOf("Trident/")||0<=fo().indexOf("MSAppHost/")||vo()||(e.httpHeadersOverwriteParam="$httpHeaders"),Ey("Connection","Creating WebChannel: "+(n=n.join("")),e);var o=r.createWebChannel(n,e),a=!1,s=!1,u=new jT({Ei:function(e){s?Ey("Connection","Not sending because WebChannel is closed:",e):(a||(Ey("Connection","Opening WebChannel transport."),o.open(),a=!0),Ey("Connection","WebChannel sending:",e),o.send(e))},Ti:function(){return o.close()}});return(e=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))})(o,fy.EventType.OPEN,(function(){s||Ey("Connection","WebChannel transport opened.")})),e(o,fy.EventType.CLOSE,(function(){s||(s=!0,Ey("Connection","WebChannel transport closed"),u.Vi())})),e(o,fy.EventType.ERROR,(function(e){s||(s=!0,Sy("Connection","WebChannel transport errored:",e),u.Vi(new yy(my.UNAVAILABLE,"The operation could not be completed")))})),e(o,fy.EventType.MESSAGE,(function(e){var t,n,r,i;s||(Cy(!!(t=e.data[0])),(n=t.error||(null===(i=t[0])||void 0===i?void 0:i.error))?(Ey("Connection","WebChannel received error:",n),r=n.status,e=function(){var e=a_[r];if(void 0!==e)return p_(e)}(),i=n.message,void 0===e&&(e=my.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),s=!0,u.Vi(new yy(e,i)),o.close()):(Ey("Connection","WebChannel received:",t),u.Si(t)))})),e(i,hy.STAT_EVENT,(function(e){10===e.stat?Ey("Connection","Detected buffering proxy"):11===e.stat&&Ey("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Pi()}),0),u},qT);function qT(e){var t=this;return(t=CT.call(this,e)||this).forceLongPolling=e.forceLongPolling,t.autoDetectLongPolling=e.autoDetectLongPolling,t}function VT(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function BT(e){this.Ei=e.Ei,this.Ti=e.Ti}function zT(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}function KT(){}function WT(){this.li=new OT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function HT(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new v_(xy),this.started=!1,this.Os=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.$s=ST(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new OT),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Qs="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function GT(){this.activeTargetIds=P_}function QT(e,t){this.clientId=e,this.onlineState=t}function $T(e,t){this.clientId=e,this.activeTargetIds=t}function YT(e,t,n){this.targetId=e,this.state=t,this.error=n}function XT(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}function JT(){return"undefined"!=typeof window?window:null}function ZT(){return"undefined"!=typeof document?document:null}function ek(e){return new G_(e,!0)}function tk(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Yi(o,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return Sk(this)?(Ey("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return(t=e).$r.add(4),[4,mk(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,gk(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new ck(n,r)}var nk,rk,ik,ok=(vk.prototype.reset=function(){this.qi=0},vk.prototype.Ki=function(){this.qi=this.Bi},vk.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);0<i&&Ey("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},vk.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},vk.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},vk.prototype.Wi=function(){return(Math.random()-.5)*this.qi},vk),ak=(pk.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},pk.prototype.er=function(){return 2===this.state},pk.prototype.start=function(){3!==this.state?this.auth():this.nr()},pk.prototype.stop=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},pk.prototype.sr=function(){this.state=0,this.Zi.reset()},pk.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},pk.prototype.cr=function(e){this.ur(),this.stream.send(e)},pk.prototype.rr=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},pk.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},pk.prototype.close=function(e,t){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===my.RESOURCE_EXHAUSTED?(Iy(t.toString()),Iy("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===my.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},pk.prototype.ar=function(){},pk.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new yy(my.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},pk.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},pk.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Yi(e,void 0,void 0,(function(){return Xi(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},pk.prototype.dr=function(e){return Ey("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},pk.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Ey("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},Qi(dk,ik=K=pk),dk.prototype.wr=function(e){return this.Hi.$i("Listen",e)},dk.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){if("targetChange"in t){t.targetChange;var n="NO_CHANGE"===(o=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:ky(),r=t.targetChange.targetIds||[],i=(a=t.targetChange.resumeToken,e.I?(Cy(void 0===a||"string"==typeof a),Hy.fromBase64String(a||"")):(Cy(void 0===a||a instanceof Uint8Array),Hy.fromUint8Array(a||new Uint8Array))),o=(s=t.targetChange.cause)&&(u=void 0===(c=s).code?my.UNKNOWN:p_(c.code),new yy(u,c.message||"")),a=new M_(n,r,i,o||null)}else if("documentChange"in t){t.documentChange,(n=t.documentChange).document,n.document.name,n.document.updateTime,r=eE(e,n.document.name),i=Y_(n.document.updateTime);var s=new _b({mapValue:{fields:n.document.fields}}),u=(o=Ib.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new D_(u,c,o.key,o)}else if("documentDelete"in t)t.documentDelete,(n=t.documentDelete).document,r=eE(e,n.document),i=n.readTime?Y_(n.readTime):Dy.min(),s=Ib.newNoDocument(r,i),o=n.removedTargetIds||[],a=new D_([],o,s.key,s);else if("documentRemove"in t)t.documentRemove,(n=t.documentRemove).document,r=eE(e,n.document),i=n.removedTargetIds||[],a=new D_([],i,r,null);else{if(!("filter"in t))return ky();t.filter,(t=t.filter).targetId,r=new o_(n=t.count||0),i=t.targetId,a=new L_(i,r)}return a}(this.R,e);return e=function(e){return"targetChange"in e?(e=e.targetChange).targetIds&&e.targetIds.length||!e.readTime?Dy.min():Y_(e.readTime):Dy.min()}(e),this.listener._r(t,e)},dk.prototype.mr=function(e){var t,n,r,i,o={};o.database=rE(this.R),o.addTarget=(t=this.R,(r=Ab(r=(n=e).target)?{documents:cE(t,r)}:{query:lE(t,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=$_(t,n.resumeToken):0<n.snapshotVersion.compareTo(Dy.min())&&(r.readTime=Q_(t,n.snapshotVersion.toTimestamp())),r),this.R,i=e,(e=null==(e=function(){switch(i.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ky()}}())?null:{"goog-listen-tags":e})&&(o.labels=e),this.cr(o)},dk.prototype.yr=function(e){var t={};t.database=rE(this.R),t.removeTarget=e,this.cr(t)},dk),sk=(Qi(fk,rk=K),Object.defineProperty(fk.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),fk.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,rk.prototype.start.call(this)},fk.prototype.ar=function(){this.gr&&this.Er([])},fk.prototype.wr=function(e){return this.Hi.$i("Write",e)},fk.prototype.onMessage=function(e){if(Cy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(Cy(void 0!==r),n.map((function(e){return n=r,(e=(t=e).updateTime?Y_(t.updateTime):Y_(n)).isEqual(Dy.min())&&(e=Y_(n)),new Bw(e,t.transformResults||[]);var t,n}))):[]),n=Y_(e.commitTime);return this.listener.Tr(n,t)}var r;return Cy(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},fk.prototype.Ar=function(){var e={};e.database=rE(this.R),this.cr(e)},fk.prototype.Er=function(e){var t=this;e={streamToken:this.lastStreamToken,writes:e.map((function(e){return sE(t.R,e)}))},this.cr(e)},fk),uk=(Qi(hk,nk=function(){}),hk.prototype.br=function(){if(this.Rr)throw new yy(my.FAILED_PRECONDITION,"The client has already been terminated.")},hk.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===my.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new yy(my.UNKNOWN,e.toString())}))},hk.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===my.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new yy(my.UNKNOWN,e.toString())}))},hk.prototype.terminate=function(){this.Rr=!0},hk),ck=(lk.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},lk.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},lk.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},lk.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},lk.prototype.Cr=function(e){e="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(Iy(e),this.Vr=!1):Ey("OnlineStateTracker",e)},lk.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},lk);function lk(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function hk(e,t,n){var r=this;return(r=nk.call(this)||this).credentials=e,r.Hi=t,r.R=n,r.Rr=!1,r}function fk(e,t,n,r,i){var o=this;return(o=rk.call(this,e,"write_stream_connection_backoff","write_stream_idle",t,n,i)||this).R=r,o.gr=!1,o}function dk(e,t,n,r,i){var o=this;return(o=ik.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i)||this).R=r,o}function pk(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ok(e,t)}function vk(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}function gk(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:if(!Sk(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function mk(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function yk(e,t){e.Or.has(t.targetId)||(e.Or.set(t.targetId,t),Ik(e)?Ek(e):Rk(e).er()&&wk(e,t))}function bk(e,t){var n=e;e=Rk(n),n.Or.delete(t),e.er()&&_k(n,t),0===n.Or.size&&(e.er()?e.ir():Sk(n)&&n.Br.set("Unknown"))}function wk(e,t){e.qr.U(t.targetId),Rk(e).mr(t)}function _k(e,t){e.qr.U(t),Rk(e).yr(t)}function Ek(e){e.qr=new j_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Rk(e).start(),e.Br.Sr()}function Ik(e){return Sk(e)&&!Rk(e).tr()&&0<e.Or.size}function Sk(e){return 0===e.$r.size}function Tk(e){e.qr=void 0}function kk(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i;return Xi(this,(function(o){switch(o.label){case 0:if(e.Br.set("Online"),!(t instanceof M_&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o;return Xi(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Ey("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ck(e,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof D_?e.qr.X(t):t instanceof L_?e.qr.rt(t):e.qr.et(t),n.isEqual(Dy.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,WS(e.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(s=n,(u=(a=e).qr.ut(s)).targetChanges.forEach((function(e,t){var n;0<e.resumeToken.approximateByteSize()&&(n=a.Or.get(t))&&a.Or.set(t,n.withResumeToken(e.resumeToken,s))})),u.targetMismatches.forEach((function(e){var t=a.Or.get(e);t&&(a.Or.set(e,t.withResumeToken(Hy.EMPTY_BYTE_STRING,t.snapshotVersion)),_k(a,e),t=new fI(t.target,e,1,t.sequenceNumber),wk(a,t))})),a.remoteSyncer.applyRemoteEvent(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ey("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,Ck(e,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function Ck(e,t,n){return Yi(this,void 0,void 0,(function(){var r=this;return Xi(this,(function(i){switch(i.label){case 0:if(!eI(t))throw t;return e.$r.add(1),[4,mk(e)];case 1:return i.sent(),e.Br.set("Offline"),n=n||function(){return WS(e.localStore)},e.asyncQueue.enqueueRetryable((function(){return Yi(r,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return Ey("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,gk(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Nk(e,t){return t().catch((function(n){return Ck(e,n,t)}))}function Ak(e){return Yi(this,void 0,void 0,(function(){var t,n,r,i;return Xi(this,(function(o){switch(o.label){case 0:n=Dk(t=e),r=0<t.kr.length?t.kr[t.kr.length-1].batchId:-1,o.label=1;case 1:if(!(Sk(t)&&t.kr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=t.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===s&&(s=-1),u._n.getNextMutationBatchAfterBatchId(e,s)})))];case 3:return null===(i=o.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t),(e=Dk(e)).er()&&e.pr&&e.Er(t.mutations)}(t,i),[3,6]);case 4:return i=o.sent(),[4,Ck(t,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return xk(t)&&Pk(t),[2]}var a,s,u}))}))}function xk(e){return Sk(e)&&!Dk(e).tr()&&0<e.kr.length}function Pk(e){Dk(e).start()}function Ok(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return n=e,t?(n.$r.delete(2),[4,gk(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,mk(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Rk(e){var t,n,r,i=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){return e.Or.forEach((function(t,n){wk(e,t)})),[2]}))}))}.bind(null,e),Ri:function(e,t){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(n){return Tk(e),Ik(e)?(e.Br.Nr(t),Ek(e)):e.Br.set("Unknown"),[2]}))}))}.bind(null,e),_r:kk.bind(null,e)},t.br(),new ak(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return Yi(i,void 0,void 0,(function(){return Xi(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),Ik(e)?Ek(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),Tk(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function Dk(e){var t,n,r,i=this;return e.Qr||(e.Qr=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){return Dk(e).Ar(),[2]}))}))}.bind(null,e),Ri:function(e,t){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(n){switch(n.label){case 0:return t&&Dk(e).pr?[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return d_(r=t.code)&&r!==my.ABORTED?(n=e.kr.shift(),Dk(e).sr(),[4,Nk(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Ak(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xk(e)&&Pk(e),[2]}}))}))}.bind(null,e),Ir:function(e){return Yi(this,void 0,void 0,(function(){var t,n,r,i;return Xi(this,(function(o){for(t=Dk(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}.bind(null,e),Tr:function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i;return Xi(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=hI.from(r,t,n),[4,Nk(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ak(e)];case 2:return o.sent(),[2]}}))}))}.bind(null,e)},t.br(),new sk(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return Yi(i,void 0,void 0,(function(){return Xi(this,(function(n){switch(n.label){case 0:return t?(e.Qr.sr(),[4,Ak(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:n.sent(),0<e.kr.length&&(Ey("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Qr}var Lk=(Mk.createAndSchedule=function(e,t,n,r,i){return(i=new Mk(e,t,Date.now()+n,r,i)).start(n),i},Mk.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},Mk.prototype.skipDelay=function(){return this.handleDelayElapsed()},Mk.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yy(my.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},Mk.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},Mk.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Mk);function Mk(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new BE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}function Fk(e,t){if(Iy("AsyncQueue",t+": "+e),eI(e))return new yy(my.UNAVAILABLE,t+": "+e);throw e}function jk(){this.queries=new pS(yw,mw),this.onlineState="Unknown",this.Gr=new Set}var Uk=(Wk.emptySet=function(e){return new Wk(e.comparator)},Wk.prototype.has=function(e){return null!=this.keyedMap.get(e)},Wk.prototype.get=function(e){return this.keyedMap.get(e)},Wk.prototype.first=function(){return this.sortedSet.minKey()},Wk.prototype.last=function(){return this.sortedSet.maxKey()},Wk.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Wk.prototype.indexOf=function(e){return(e=this.keyedMap.get(e))?this.sortedSet.indexOf(e):-1},Object.defineProperty(Wk.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),Wk.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},Wk.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},Wk.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},Wk.prototype.isEqual=function(e){if(!(e instanceof Wk))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Wk.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Wk.prototype.copy=function(e,t){var n=new Wk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},Wk),qk=(Kk.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);!n||0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):ky()},Kk.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},Kk),Vk=(zk.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:0,doc:e})})),new zk(e,t,Uk.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(zk.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),zk.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},zk),Bk=function(){this.Wr=void 0,this.listeners=[]};function zk(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function Kk(){this.Kr=new v_(sb.comparator)}function Wk(e){this.comparator=e?function(t,n){return e(t,n)||sb.comparator(t.key,n.key)}:function(e,t){return sb.comparator(e.key,t.key)},this.keyedMap=C_,this.sortedSet=new v_(this.comparator)}function Hk(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:if(n=e,r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Bk),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return a=Fk(a=s.sent(),"Initialization of query '"+bw(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Qk(n),[2]}}))}))}function Gk(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a;return Xi(this,(function(s){return n=e,r=t.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(t))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Qk(e){e.Gr.forEach((function(e){e.next()}))}var $k=(nC.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Vk(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},nC.prototype.onError=function(e){this.Jr.error(e)},nC.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},nC.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},nC.prototype.Zr=function(e){if(0<e.docChanges.length)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},nC.prototype.no=function(e){e=Vk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},nC),Yk=(tC.prototype.io=function(){return"metadata"in this.payload},tC),Xk=(eC.prototype.qn=function(e){return eE(this.R,e)},eC.prototype.Un=function(e){return e.metadata.exists?aE(this.R,e.document,!1):Ib.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},eC.prototype.Qn=Y_,eC),Jk=(Zk.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},Zk.prototype.co=function(e){for(var t=new Map,n=new Xk(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||x_()).add(a);t.set(c,l)}}return t},Zk.prototype.complete=function(){return Yi(this,void 0,void 0,(function(){var e,t,n,r;return Xi(this,(function(i){switch(i.label){case 0:return[4,function(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Xi(this,(function(p){switch(p.label){case 0:for(i=e,o=x_(),a=S_,s=N_,u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,QS(i,vw(uw(By.fromString("__bundle__/docs/"+r))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return GS(e,f,a,Dy.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}(this.localStore,new Xk(this.R),this.documents,this.ro.id)];case 1:e=i.sent(),t=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(e,t,n){return void 0===n&&(n=x_()),Yi(this,void 0,void 0,(function(){var r,i;return Xi(this,(function(o){switch(o.label){case 0:return[4,QS(e,vw(kI(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Y_(t.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Qe.saveNamedQuery(e,t):(o=r.withResumeToken(Hy.EMPTY_BYTE_STRING,o),i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(e,o).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)})))}))]}}))}))}(this.localStore,r,t.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new RS(Object.assign({},this.progress),e))]}}))}))},Zk);function Zk(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=rC(e)}function eC(e){this.R=e}function tC(e,t){this.payload=e,this.byteLength=t}function nC(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function rC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var iC=function(e){this.key=e},oC=function(e){this.key=e},aC=(Object.defineProperty(hC.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),hC.prototype._o=function(e,t){var n=this,r=t?t.mo:new qk,i=(t||this).fo,o=(t||this).mutatedKeys,a=i,s=!1,u=cw(this.query)&&i.size===this.query.limit?i.last():null,c=lw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=ww(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations);t=!1,l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),t=!0):n.yo(l,h)||(r.track({type:2,doc:h}),t=!0,(u&&0<n.lo(h,u)||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),t=!0):l&&!h&&(r.track({type:1,doc:l}),t=!0,(u||c)&&(s=!0)),t&&(o=h?(a=a.add(h),d?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),cw(this.query)||lw(this.query))for(;a.size>this.query.limit;){var l=cw(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},hC.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},hC.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return i=e.type,o=t.type,n(i)-n(o)||r.lo(e.doc,t.doc);function n(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ky()}}var i,o})),this.po(n);var a=t?this.Eo():[];return t=(n=0===this.ho.size&&this.current?1:0)!==this.ao,this.ao=n,0!==o.length||t?{snapshot:new Vk(this.query,e.fo,i,o,e.mutatedKeys,0==n,t,!1),To:a}:{To:a}},hC.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new qk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},hC.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},hC.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},hC.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=x_(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new oC(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new iC(e))})),n},hC.prototype.Ao=function(e){return this.uo=e.Bn,this.ho=x_(),e=this._o(e.documents),this.applyChanges(e,!0)},hC.prototype.Ro=function(){return Vk.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},hC),sC=function(e,t,n){this.query=e,this.targetId=t,this.view=n},uC=function(e){this.key=e,this.bo=!1},cC=(Object.defineProperty(lC.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),lC);function lC(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new pS(yw,mw),this.Vo=new Map,this.So=new Set,this.Do=new v_(sb.comparator),this.Co=new Map,this.No=new rT,this.xo={},this.Fo=new Map,this.ko=$I.Yt(),this.onlineState="Unknown",this.Oo=void 0}function hC(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=x_(),this.mutatedKeys=x_(),this.lo=_w(e),this.fo=new Uk(this.lo)}function fC(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i,o;return Xi(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,YS(e.localStore,t.query,!1).then((function(e){return e=e.documents,t.view._o(e,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(EC(e,t.targetId,o.To),o.snapshot)]}}))}))}(e,t,n,r)},[4,YS(e.localStore,t,!0)];case 1:return o=s.sent(),a=new aC(t,o.Bn),i=a._o(o.documents),o=R_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),o=a.applyChanges(i,e.isPrimaryClient,o),EC(e,n,o.To),a=new sC(t,n,a),[2,(e.Po.set(t,a),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),o.snapshot)]}}))}))}function dC(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i;return Xi(this,(function(o){switch(o.label){case 0:i=PC(e),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,l=t,f=c,d=Ry.now(),p=l.reduce((function(e,t){return e.add(t.key)}),x_()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return f.Mn.pn(e,p).next((function(t){h=t;for(var n=[],r=0,i=l;r<i.length;r++){var o=i[r],a=function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field);null!=(a=Tw(o.transform,a||null))&&(n=null==n?_b.empty():n).set(o.field,a)}return n||null}(o,h.get(o.key));null!=a&&n.push(new Zw(o.key,a,function e(t){var n=[];return jy(t.fields||{},(function(t,r){var i=new Ky([t]);if(wb(r))if(0===(r=e(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new Wy(n)}(a.toProto().mapValue),Kw.exists(!0)))}return f._n.addMutationBatch(e,d,n,l)}))})).then((function(e){return e.applyToLocalDocumentSet(h),{batchId:e.batchId,changes:h}})))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new v_(xy)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,SC(i,r.changes)];case 3:return o.sent(),[4,Ak(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=Fk(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,d,p}))}))}function pC(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:n=e,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,HS(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){(t=n.Co.get(t))&&(Cy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?t.bo=!0:0<e.modifiedDocuments.size?Cy(t.bo):0<e.removedDocuments.size&&(Cy(t.bo),t.bo=!1))})),[4,SC(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,nS(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function vC(e,t,n){var r;((e=e).isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n)&&(r=[],e.Po.forEach((function(e,n){(n=n.view.zr(t)).snapshot&&r.push(n.snapshot)})),function(e,t){e.onlineState=t;var n=!1;e.queries.forEach((function(e,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(t)&&(n=!0)})),n&&Qk(e)}(e.eventManager,t),r.length&&e.vo._r(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t))}function gC(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i;return Xi(this,(function(o){switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return Cy(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),bC(r,t,n),yC(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,SC(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,nS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function mC(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i;return Xi(this,(function(o){switch(o.label){case 0:Sk((n=e).remoteStore)||Ey("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return a._n.getHighestUnacknowledgedBatchId(e)}))];case 2:return-1===(r=o.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return i=Fk(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}var a}))}))}function yC(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function bC(e,t,n){var r=e,i=r.xo[r.currentUser.toKey()];i&&((e=i.get(t))&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i)}function wC(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||_C(e,t)}))}function _C(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(bk(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),IC(e))}function EC(e,t,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof iC?(e.No.addReference(u.key,t),r=e,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(Ey("SyncEngine","New document in limbo: "+o),r.So.add(i),IC(r))):u instanceof oC?(Ey("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||_C(e,u.key)):ky()}}function IC(e){for(;0<e.So.size&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new sb(By.fromString(t));t=e.ko.next(),e.Co.set(t,new uC(n)),e.Do=e.Do.insert(n,t),yk(e.remoteStore,new fI(vw(uw(n.path)),t,2,py.o))}}function SC(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=e).Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){e&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e),e=LS.Pn(s.targetId,e),o.push(e))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Xi(this,(function(c){switch(c.label){case 0:n=e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zE.forEach(t,(function(t){return zE.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return zE.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!eI(r=c.sent()))throw r;return Ey("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.Fn.get(a),u=s.snapshotVersion,u=s.withLastLimboFreeSnapshotVersion(u),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function TC(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(Ey("SyncEngine","User change. New user:",t.toKey()),[4,zS(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Fo.forEach((function(e){e.forEach((function(e){e.reject(new yy(my.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,SC(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function kC(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i,o;return Xi(this,(function(a){switch(a.label){case 0:return[4,(s=(i=e).localStore,u=t,l=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):zE.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ak(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(bC(i,t,r||null),yC(i,t),i.localStore._n.Gt(t)):ky(),a.label=4;case 4:return[4,SC(i,o)];case 5:return a.sent(),[3,7];case 6:Ey("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function CC(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Xi(this,(function(l){switch(l.label){case 0:return xC(n=e),PC(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,NC(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Ok(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],yk(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return wC(n,t),$S(n.localStore,t,!0)})),bk(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,NC(n,u)];case 5:return l.sent(),(h=n).Co.forEach((function(e,t){bk(h.remoteStore,t)})),h.No.ts(),h.Co=new Map,h.Do=new v_(sb.comparator),n.Oo=!1,[4,Ok(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function NC(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d;return Xi(this,(function(p){switch(p.label){case 0:n=e,r=[],i=[],o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,QS(n.localStore,vw(c[0]))]:[3,7]):[3,13];case 2:u=p.sent(),l=0,h=c,p.label=3;case 3:return l<h.length?(f=h[l],f=n.Po.get(f),[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return[4,YS((n=e).localStore,t.query,!0)];case 1:return r=i.sent(),r=t.view.Ao(r),[2,(n.isPrimaryClient&&EC(n,t.targetId,r.To),r)]}}))}))}(n,f)]):[3,6];case 4:(f=p.sent()).snapshot&&i.push(f.snapshot),p.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,XS(n.localStore,s)];case 8:return d=p.sent(),[4,QS(n.localStore,d)];case 9:return u=p.sent(),[4,fC(n,AC(d),s,!1)];case 10:p.sent(),p.label=11;case 11:r.push(u),p.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function AC(e){return sw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xC(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=e;if((e=n.Co.get(t))&&e.bo)return x_().add(e.key);var r=x_();if(!(t=n.Vo.get(t)))return r;for(var i=0,o=t;i<o.length;i++){var a=o[i];a=n.Po.get(a),r=r.unionWith(a.view.wo)}return r}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),a=r.Co.get(t),(i=a&&a.key)?(o=(o=new v_(sb.comparator)).insert(i,Ib.newNoDocument(i,Dy.min())),a=x_().add(i),a=new O_(Dy.min(),new Map,new E_(xy),o,a),[4,pC(r,a)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(i),r.Co.delete(t),IC(r),[3,4];case 2:return[4,$S(r.localStore,t,!1).then((function(){return wC(r,t,n)})).catch(nS)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,e),e.vo._r=function(e,t){for(var n=e,r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Qk(n)}.bind(null,e.eventManager),e.vo.Mo=function(e,t,n){var r=e;if(e=r.queries.get(t))for(var i=0,o=e.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(t)}.bind(null,e.eventManager),e}function PC(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i;return Xi(this,(function(o){switch(o.label){case 0:n=e,r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,KS(n.localStore,t)];case 2:return i=o.sent(),bC(n,r,null),yC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,SC(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,nS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gC.bind(null,e),e}function OC(e,t,n){var r=e;(function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o,a,s;return Xi(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=u.sent(),[4,(h=e.localStore,d=h,p=Y_((f=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return d.Qe.getBundleMetadata(e,f.id)})).then((function(e){return!!e&&0<=e.createTime.compareTo(p)})))];case 2:return u.sent()?[4,t.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(rC(r)),i=new Jk(r,e.localStore,t.R),[4,t.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,SC(e,s.wn,void 0)];case 12:return u.sent(),[4,(h=e.localStore,c=r,(l=h).persistence.runTransaction("Save bundle","readwrite",(function(e){return l.Qe.saveBundleMetadata(e,c)})))];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return Sy("SyncEngine","Loading bundle failed with "+(s=u.sent())),n._failWith(s),[3,15];case 15:return[2]}var c,l,h,f,d,p}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var RC,DC,LC=(BC.prototype.initialize=function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return this.R=ek(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},BC.prototype.Uo=function(e){return null},BC.prototype.Qo=function(e){return BS(this.persistence,new MS,e.initialUser,this.R)},BC.prototype.qo=function(e){return new cT(hT.bs,this.R)},BC.prototype.Bo=function(e){return new DT},BC.prototype.terminate=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},BC),MC=(Qi(VC,DC=LC),VC.prototype.initialize=function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return[4,DC.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,ZS(this.localStore)];case 2:return t.sent(),[4,this.Ko.initialize(this,e)];case 3:return t.sent(),[4,PC(this.Ko.syncEngine)];case 4:return t.sent(),[4,Ak(this.Ko.remoteStore)];case 5:return t.sent(),[2]}}))}))},VC.prototype.Qo=function(e){return BS(this.persistence,new MS,e.initialUser,this.R)},VC.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new oS(t,e.asyncQueue)},VC.prototype.qo=function(e){var t=OS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?UI.withCacheSize(this.cacheSizeBytes):UI.DEFAULT;return new NS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,JT(),ZT(),this.R,this.sharedClientState,!!this.forceOwnership)},VC.prototype.Bo=function(e){return new DT},VC),FC=(Qi(qC,RC=MC),qC.prototype.initialize=function(e){return Yi(this,void 0,void 0,(function(){var t,n=this;return Xi(this,(function(r){switch(r.label){case 0:return[4,RC.prototype.initialize.call(this,e)];case 1:return r.sent(),t=this.Ko.syncEngine,this.sharedClientState instanceof RT?(this.sharedClientState.syncEngine={ui:kC.bind(null,t),ai:function(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return(i=e).Oo?(Ey("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,JS(i.localStore)];case 3:return o=s.sent(),a=O_.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,SC(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,$S(i.localStore,t,!0)];case 6:return s.sent(),wC(i,t,r),[3,8];case 7:ky(),s.label=8;case 8:return[2]}}))}))}.bind(null,t),hi:function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return Xi(this,(function(h){switch(h.label){case 0:if(!(r=xC(e)).Oo)return[3,10];i=0,o=t,h.label=1;case 1:return i<o.length?(o=o[i],r.Vo.has(o)?(Ey("SyncEngine","Adding an already active target "+o),[3,5]):[4,XS(r.localStore,o)]):[3,6];case 2:return a=h.sent(),[4,QS(r.localStore,a)];case 3:return s=h.sent(),[4,fC(r,AC(a),s.targetId,!1)];case 4:h.sent(),yk(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(e){return Xi(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,$S(r.localStore,e,!1).then((function(){bk(r.remoteStore,e),wC(r,e)})).catch(nS)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,t),fn:function(e){return e.localStore.persistence.fn()}.bind(null,t),ci:function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){return[2,JS((t=e).localStore).then((function(e){return SC(t,e)}))]}))}))}.bind(null,t)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He((function(e){return Yi(n,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return[4,CC(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},qC.prototype.Bo=function(e){var t=JT();if(!RT.yt(t))throw new yy(my.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=OS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RT(t,e.asyncQueue,n,e.clientId,e.initialUser)},qC),jC=(UC.prototype.initialize=function(e,t){return Yi(this,void 0,void 0,(function(){var n=this;return Xi(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return vC(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=TC.bind(null,this.syncEngine),[4,Ok(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},UC.prototype.createEventManager=function(e){return new jk},UC.prototype.createDatastore=function(e){var t=ek(e.databaseInfo.databaseId),n=(n=e.databaseInfo,new UT(n));return e=e.credentials,new uk(e,n,t)},UC.prototype.createRemoteStore=function(e){var t=this;return new tk(this.localStore,this.datastore,e.asyncQueue,(function(e){return vC(t.syncEngine,e,0)}),e=new(MT.yt()?MT:LT))},UC.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){return o=new cC(e,t,n,r,i,o),a&&(o.Oo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},UC.prototype.terminate=function(){return function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return t=e,Ey("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,mk(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},UC);function UC(){}function qC(e,t){var n=this;return(n=RC.call(this,e,t,!1)||this).Ko=e,n.cacheSizeBytes=t,n.synchronizeTabs=!0,n}function VC(e,t,n){var r=this;return(r=DC.call(this)||this).Ko=e,r.cacheSizeBytes=t,r.forceOwnership=n,r.synchronizeTabs=!1,r}function BC(){this.synchronizeTabs=!1}function zC(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Yi(this,void 0,void 0,(function(){var r;return Xi(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var KC=(ZC.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},ZC.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},ZC.prototype.Wo=function(){this.muted=!0},ZC.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},ZC),WC=(JC.prototype.close=function(){return this.Go.cancel()},JC.prototype.getMetadata=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){return[2,this.metadata.promise]}))}))},JC.prototype.Lo=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},JC.prototype.Ho=function(){return Yi(this,void 0,void 0,(function(){var e,t,n;return Xi(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(n=this.zo.decode(e),t=Number(n),isNaN(t)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(t)]);case 2:return n=r.sent(),[2,new Yk(JSON.parse(n),e.length+t)]}}))}))},JC.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},JC.prototype.Jo=function(){return Yi(this,void 0,void 0,(function(){var e,t;return Xi(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},JC.prototype.Xo=function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},JC.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},JC.prototype.tc=function(){return Yi(this,void 0,void 0,(function(){var e,t;return Xi(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},JC),HC=(XC.prototype.lookup=function(e){return Yi(this,void 0,void 0,(function(){var t,n=this;return Xi(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new yy(my.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return r=rE((n=e).R)+"/documents",i={documents:t.map((function(e){return Z_(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(e){var t;t=n.R,e="found"in(e=e)?function(e,t){Cy(!!t.found),t.found.name,t.found.updateTime;var n=eE(e,t.found.name);return e=Y_(t.found.updateTime),t=new _b({mapValue:{fields:t.found.fields}}),Ib.newFoundDocument(n,e,t)}(t,e):"missing"in e?function(e,t){return Cy(!!t.missing),Cy(!!t.readTime),e=eE(e,t.missing),t=Y_(t.readTime),Ib.newNoDocument(e,t)}(t,e):ky(),o.set(e.key.toString(),e)})),a=[],[2,(t.forEach((function(e){Cy(!!(e=o.get(e.toString()))),a.push(e)})),a)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},XC.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},XC.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},XC.prototype.delete=function(e){this.write(new c_(e,this.precondition(e))),this.writtenDocs.add(e.toString())},XC.prototype.commit=function(){return Yi(this,void 0,void 0,(function(){var e,t=this;return Xi(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){n=sb.fromPath(n),t.mutations.push(new l_(n,t.precondition(n)))})),[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i;return Xi(this,(function(o){switch(o.label){case 0:return r=rE((n=e).R)+"/documents",i={writes:t.map((function(e){return sE(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},XC.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ky();t=Dy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yy(my.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},XC.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Kw.updateTime(t):Kw.none()},XC.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return Kw.exists(!0);if(t.isEqual(Dy.min()))throw new yy(my.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kw.updateTime(t)},XC.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},XC.prototype.ensureCommitNotCalled=function(){},XC),GC=(YC.prototype.run=function(){this.nc()},YC.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Yi(e,void 0,void 0,(function(){var e,t,n=this;return Xi(this,(function(r){return e=new HC(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},YC.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ib(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},YC.prototype.ic=function(e){var t=this;0<this.ec&&this.rc(e)?(--this.ec,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},YC.prototype.rc=function(e){return"FirebaseError"===e.name&&("aborted"===(e=e.code)||"failed-precondition"===e||!d_(e))},YC),QC=($C.prototype.getConfiguration=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},$C.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},$C.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new yy(my.FAILED_PRECONDITION,"The client has already been terminated.")},$C.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new BE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Yi(e,void 0,void 0,(function(){var e;return Xi(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=Fk(e=n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}}))}))})),t.promise},$C);function $C(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=fT.UNAUTHENTICATED,this.clientId=Ny.u(),this.credentialListener=function(){},this.receivedInitialUser=new BE,this.credentials.setChangeListener((function(e){Ey("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}function YC(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ok(this.asyncQueue,"transaction_retry")}function XC(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function JC(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new BE,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}function ZC(e){this.observer=e,this.muted=!1}function eN(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i=this;return Xi(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ey("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return Yi(i,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return[4,zS(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function tN(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,nN(e)];case 1:return n=i.sent(),Ey("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),Ey("RemoteStore","RemoteStore received new credentials"),r=Sk(n),n.$r.add(3),[4,mk(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,gk(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function nN(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Ey("FirestoreClient","Using default OfflineComponentProvider"),[4,eN(e,new LC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function rN(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Ey("FirestoreClient","Using default OnlineComponentProvider"),[4,tN(e,new jC)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function iN(e){return nN(e).then((function(e){return e.persistence}))}function oN(e){return nN(e).then((function(e){return e.localStore}))}function aN(e){return rN(e).then((function(e){return e.remoteStore}))}function sN(e){return rN(e).then((function(e){return e.syncEngine}))}function uN(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return[4,rN(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return n=xC(e),(a=n.Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,QS(n.localStore,vw(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,fC(n,t,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&yk(n.remoteStore,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,t.syncEngine),n.onUnlisten=function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i;return Xi(this,(function(o){switch(o.label){case 0:return r=(n=e).Po.get(t),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!mw(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,$S(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),bk(n.remoteStore,r.targetId),wC(n,r.targetId)})).catch(nS)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return wC(n,r.targetId),[4,$S(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,t.syncEngine),n)]}}))}))}function cN(e,t,n){var r=this;void 0===n&&(n={});var i=new BE;return e.asyncQueue.enqueueAndForget((function(){return Yi(r,void 0,void 0,(function(){var r;return Xi(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new KC({next:function(o){t.enqueueAndForget((function(){return Gk(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new yy(my.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new yy(my.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new $k(uw(n.path),o,{includeMetadataChanges:!0,so:!0});return Hk(e,a)},[4,uN(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function lN(e,t,n){var r=this;void 0===n&&(n={});var i=new BE;return e.asyncQueue.enqueueAndForget((function(){return Yi(r,void 0,void 0,(function(){var r;return Xi(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new KC({next:function(n){t.enqueueAndForget((function(){return Gk(e,a)})),n.fromCache&&"server"===r.source?i.reject(new yy(my.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new $k(n,o,{includeMetadataChanges:!0,so:!0});return Hk(e,a)},[4,uN(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function hN(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e}var fN=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},dN=(Object.defineProperty(IN.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),IN.prototype.isEqual=function(e){return e instanceof IN&&e.projectId===this.projectId&&e.database===this.database},IN),pN=new Map,vN=(EN.prototype.getToken=function(){return Promise.resolve(null)},EN.prototype.invalidateToken=function(){},EN.prototype.setChangeListener=function(e){(this.changeListener=e)(fT.UNAUTHENTICATED)},EN.prototype.removeChangeListener=function(){this.changeListener=null},EN),gN=(_N.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Ey("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Cy("string"==typeof n.accessToken),new hN(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},_N.prototype.invalidateToken=function(){this.forceRefresh=!0},_N.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},_N.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},_N.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return Cy(null===e||"string"==typeof e),new fT(e)},_N),mN=(Object.defineProperty(wN.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),wN),yN=(bN.prototype.getToken=function(){return Promise.resolve(new mN(this.ac,this.hc,this.lc))},bN.prototype.setChangeListener=function(e){e(fT.FIRST_PARTY)},bN.prototype.removeChangeListener=function(){},bN.prototype.invalidateToken=function(){},bN);function bN(e,t,n){this.ac=e,this.hc=t,this.lc=n}function wN(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=fT.FIRST_PARTY}function _N(e){var t=this;this.oc=null,this.currentUser=fT.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}function EN(){this.changeListener=null}function IN(e,t){this.projectId=e,this.database=t||"(default)"}function SN(e,t,n){if(!n)throw new yy(my.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function TN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yy(my.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function kN(e,t,n,r){if(!0===t&&!0===r)throw new yy(my.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function CN(e){if(!sb.isDocumentKey(e))throw new yy(my.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function NN(e){if(sb.isDocumentKey(e))throw new yy(my.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function AN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":ky();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function xN(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new yy(my.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw e=AN(e),new yy(my.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}function PN(e,t){if(t<=0)throw new yy(my.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var ON,RN=(BN.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},BN),DN=(Object.defineProperty(VN.prototype,"app",{get:function(){if(!this._app)throw new yy(my.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(VN.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(VN.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),VN.prototype._setSettings=function(e){if(this._settingsFrozen)throw new yy(my.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RN(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new vN;switch(e.type){case"gapi":var t=e.client;return Cy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new yN(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new yy(my.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},VN.prototype._getSettings=function(){return this._settings},VN.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},VN.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},VN.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},VN.prototype._terminate=function(){return(e=pN.get(this))&&(Ey("ComponentProvider","Removing Datastore"),pN.delete(this),e.terminate()),Promise.resolve();var e},VN),LN=(Object.defineProperty(qN.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(qN.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(qN.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(qN.prototype,"parent",{get:function(){return new FN(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),qN.prototype.withConverter=function(e){return new qN(this.firestore,e,this._key)},qN),MN=(UN.prototype.withConverter=function(e){return new UN(this.firestore,e,this._query)},UN),FN=(Qi(jN,ON=MN),Object.defineProperty(jN.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(jN.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(jN.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new LN(this.firestore,null,new sb(e))},enumerable:!1,configurable:!0}),jN.prototype.withConverter=function(e){return new jN(this.firestore,e,this._path)},jN);function jN(e,t,n){var r=this;return(r=ON.call(this,e,t,uw(n))||this)._path=n,r.type="collection",r}function UN(e,t,n){this._converter=t,this._query=n,this.type="query",this.firestore=e}function qN(e,t,n){this._converter=t,this._key=n,this.type="document",this.firestore=e}function VN(e,t){this._persistenceKey="(lite)",this._settings=new RN({}),this._settingsFrozen=!1,e instanceof dN?(this._databaseId=e,this._credentials=new vN):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yy(my.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dN(e.options.projectId)}(e),this._credentials=new gN(t))}function BN(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new yy(my.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yy(my.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,kN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}function zN(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ho(e),SN("collection","path",t),e instanceof DN)return NN(n=By.fromString.apply(By,eo([t],r))),new FN(e,null,n);if(!(e instanceof LN||e instanceof FN))throw new yy(my.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return NN(n=By.fromString.apply(By,eo([e.path],r)).child(By.fromString(t))),new FN(e.firestore,null,n)}function KN(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ho(e),SN("doc","path",t=1===arguments.length?Ny.u():t),e instanceof DN)return CN(n=By.fromString.apply(By,eo([t],r))),new LN(e,null,new sb(n));if(!(e instanceof LN||e instanceof FN))throw new yy(my.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return CN(n=e._path.child(By.fromString.apply(By,eo([t],r)))),new LN(e.firestore,e instanceof FN?e._converter:null,new sb(n))}function WN(e,t){return e=Ho(e),t=Ho(t),(e instanceof LN||e instanceof FN)&&(t instanceof LN||t instanceof FN)&&e.firestore===t.firestore&&e.path===t.path&&e._converter===t._converter}function HN(e,t){return e=Ho(e),t=Ho(t),e instanceof MN&&t instanceof MN&&e.firestore===t.firestore&&mw(e._query,t._query)&&e._converter===t._converter}var GN=(Object.defineProperty(QN.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),QN.prototype.enqueueAndForget=function(e){this.enqueue(e)},QN.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},QN.prototype.enterRestrictedMode=function(){var e;this.wc||(this.wc=!0,(e=ZT())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec))},QN.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},QN.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},QN.prototype.Ac=function(){return Yi(this,void 0,void 0,(function(){var e,t=this;return Xi(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!eI(e=n.sent()))throw e;return Ey("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.dc.length&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},QN.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,Iy("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),e;var n,r})).then((function(e){return t.yc=!1,e}))}));return this.fc=n},QN.prototype.enqueueAfterDelay=function(e,t,n){var r=this;return this.Tc(),-1<this.gc.indexOf(e)&&(t=0),n=Lk.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)})),this._c.push(n),n},QN.prototype.Tc=function(){this.mc&&ky()},QN.prototype.verifyOperationInProgress=function(){},QN.prototype.bc=function(){return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},QN.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},QN.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},QN.prototype.Vc=function(e){this.gc.push(e)},QN.prototype.Rc=function(e){e=this._c.indexOf(e),this._c.splice(e,1)},QN);function QN(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ok(this,"async_queue_retry"),this.Ec=function(){var t=ZT();t&&Ey("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=ZT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}function $N(e){return function(){if("object"==typeof e&&null!==e)for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}()}var YN,XN=(eA.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},eA.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},eA.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},eA.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},eA.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},eA.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},eA),JN=(Qi(ZN,YN=DN),ZN.prototype._terminate=function(){return this._firestoreClient||nA(this),this._firestoreClient.terminate()},ZN);function ZN(e,t){var n=this;return(n=YN.call(this,e,t)||this)._queue=new GN,n._persistenceKey="name"in e?e.name:"[DEFAULT]",n}function eA(){this._progressObserver={},this._taskCompletionResolver=new BE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function tA(e){return e._firestoreClient||nA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nA(e){var t,n,r,i=e._freezeSettings();t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=new fN(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling),e._firestoreClient=new QC(e._credentials,e._queue,i)}function rA(e,t,n){var r=this,i=new BE;return e.asyncQueue.enqueue((function(){return Yi(r,void 0,void 0,(function(){var r;return Xi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,eN(e,n)];case 1:return o.sent(),[4,tN(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(a=r=o.sent()).name?a.code===my.FAILED_PRECONDITION||a.code===my.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var a}))}))})).then((function(){return i.promise}))}function iA(e){if(e._initialized||e._terminated)throw new yy(my.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var oA=(gA.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},gA),aA=(vA.fromBase64String=function(e){try{return new vA(Hy.fromBase64String(e))}catch(e){throw new yy(my.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},vA.fromUint8Array=function(e){return new vA(Hy.fromUint8Array(e))},vA.prototype.toBase64=function(){return this._byteString.toBase64()},vA.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},vA.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},vA.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},vA),sA=function(e){this._methodName=e},uA=(Object.defineProperty(pA.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(pA.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),pA.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},pA.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},pA.prototype._compareTo=function(e){return xy(this._lat,e._lat)||xy(this._long,e._long)},pA),cA=/^__.*__$/,lA=(dA.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Zw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jw(e,this.data,t,this.fieldTransforms)},dA),hA=(fA.prototype.toMutation=function(e,t){return new Zw(e,this.data,this.fieldMask,t,this.fieldTransforms)},fA);function fA(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function dA(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function pA(e,t){if(!isFinite(e)||e<-90||90<e)throw new yy(my.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new yy(my.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}function vA(e){this._byteString=e}function gA(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new yy(my.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ky(e)}function mA(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw ky()}}var yA=(Object.defineProperty(_A.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(_A.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),_A.prototype.Cc=function(e){return new _A(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},_A.prototype.Nc=function(e){var t=null===(t=this.path)||void 0===t?void 0:t.child(e);return(t=this.Cc({path:t,xc:!1})).Fc(e),t},_A.prototype.kc=function(e){var t;return e=null===(t=this.path)||void 0===t?void 0:t.child(e),(e=this.Cc({path:e,xc:!1})).Sc(),e},_A.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},_A.prototype.$c=function(e){return YA(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},_A.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},_A.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},_A.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(mA(this.Dc)&&cA.test(e))throw this.$c('Document fields cannot begin and end with "__"')},_A),bA=(wA.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new yA({Dc:e,methodName:t,Lc:n,path:Ky.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},wA);function wA(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||ek(e)}function _A(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function EA(e){var t=e._freezeSettings(),n=ek(e._databaseId);return new bA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function IA(e,t,n,r,i,o){void 0===o&&(o={});var a,s,u=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);if(HA("Data must be an object, but it was:",u,r),r=KA(r,u),o.merge)a=new Wy(u.fieldMask),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=GA(t,h[l],n);if(!u.contains(f))throw new yy(my.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");XA(c,f)||c.push(f)}a=new Wy(c),s=u.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,s=u.fieldTransforms;return new lA(new _b(r),a,s)}var SA,TA=(Qi(kA,SA=sA),kA.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},kA.prototype.isEqual=function(e){return e instanceof kA},kA);function kA(){return null!==SA&&SA.apply(this,arguments)||this}function CA(e,t,n){return new yA({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var NA,AA,xA,PA,OA=(Qi(UA,PA=sA),UA.prototype._toFieldTransform=function(e){return new zw(e.path,new Nw)},UA.prototype.isEqual=function(e){return e instanceof UA},UA),RA=(Qi(jA,xA=sA),jA.prototype._toFieldTransform=function(e){var t=CA(this,e,!0),n=this.qc.map((function(e){return zA(e,t)}));return n=new Aw(n),new zw(e.path,n)},jA.prototype.isEqual=function(e){return this===e},jA),DA=(Qi(FA,AA=sA),FA.prototype._toFieldTransform=function(e){var t=CA(this,e,!0),n=this.qc.map((function(e){return zA(e,t)}));return n=new Dw(n),new zw(e.path,n)},FA.prototype.isEqual=function(e){return this===e},FA),LA=(Qi(MA,NA=sA),MA.prototype._toFieldTransform=function(e){var t=new jw(e.R,Sw(e.R,this.Uc));return new zw(e.path,t)},MA.prototype.isEqual=function(e){return this===e},MA);function MA(e,t){var n=this;return(n=NA.call(this,e)||this).Uc=t,n}function FA(e,t){var n=this;return(n=AA.call(this,e)||this).qc=t,n}function jA(e,t){var n=this;return(n=xA.call(this,e)||this).qc=t,n}function UA(){return null!==PA&&PA.apply(this,arguments)||this}function qA(e,t,n,r){var i=e.Bc(1,t,n);HA("Data must be an object, but it was:",i,r);var o=[],a=_b.empty();return jy(r,(function(e,r){var s=$A(t,e,n);r=Ho(r),e=i.kc(s),r instanceof TA?o.push(s):null!=(e=zA(r,e))&&(o.push(s),a.set(s,e))})),r=new Wy(o),new hA(a,r,i.fieldTransforms)}function VA(e,t,n,r,i,o){var a=e.Bc(1,t,n),s=[GA(t,r,n)],u=[i];if(o.length%2!=0)throw new yy(my.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(GA(t,o[c])),u.push(o[c+1]);for(var l,h,f,d=[],p=_b.empty(),v=s.length-1;0<=v;--v)XA(d,s[v])||(l=s[v],h=Ho(h=u[v]),f=a.kc(l),h instanceof TA?d.push(l):null!=(f=zA(h,f))&&(d.push(l),p.set(l,f)));return i=new Wy(d),new hA(p,i,a.fieldTransforms)}function BA(e,t,n,r){return void 0===r&&(r=!1),zA(n,e.Bc(r?4:3,t))}function zA(e,t){if(WA(e=Ho(e)))return HA("Unsupported field value:",t,e),KA(e,t);if(e instanceof sA)return function(e,t){if(!mA(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");(e=e._toFieldTransform(t))&&t.fieldTransforms.push(e)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=zA(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t)}return function(e,t){if(null===(e=Ho(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Sw(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ry.fromDate(e);return{timestampValue:Q_(t.R,n)}}if(e instanceof Ry)return n=new Ry(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Q_(t.R,n)};if(e instanceof uA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aA)return{bytesValue:$_(t.R,e._byteString)};if(e instanceof LN){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:X_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+AN(e))}(e,t)}function KA(e,t){var n={};return Uy(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):jy(e,(function(e,r){null!=(r=zA(r,t.Nc(e)))&&(n[e]=r)})),{mapValue:{fields:n}}}function WA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ry||e instanceof uA||e instanceof aA||e instanceof LN||e instanceof sA)}function HA(e,t,n){if(!WA(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=AN(n))?t.$c(e+" a custom object"):t.$c(e+" "+n);var r}function GA(e,t,n){if((t=Ho(t))instanceof oA)return t._internalPath;if("string"==typeof t)return $A(e,t);throw YA("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var QA=new RegExp("[~\\*/\\[\\]]");function $A(e,t,n){if(0<=t.search(QA))throw YA("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(oA.bind.apply(oA,eo([void 0],t.split(".")))))._internalPath}catch(r){throw YA("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function YA(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i;return t="Function "+t+"() called with invalid data",n&&(t+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new yy(my.INVALID_ARGUMENT,(t+=". ")+e+n)}function XA(e,t){return e.some((function(e){return e.isEqual(t)}))}var JA,ZA=(Object.defineProperty(nx.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(nx.prototype,"ref",{get:function(){return new LN(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),nx.prototype.exists=function(){return null!==this._document},nx.prototype.data=function(){if(this._document){if(this._converter){var e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},nx.prototype.get=function(e){if(this._document&&null!==(e=this._document.data.field(rx("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e)},nx),ex=(Qi(tx,JA=ZA),tx.prototype.data=function(){return JA.prototype.data.call(this)},tx);function tx(){return null!==JA&&JA.apply(this,arguments)||this}function nx(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}function rx(e,t){return"string"==typeof t?$A(e,t):(t instanceof oA?t:t._delegate)._internalPath}var ix,ox,ax=(dx.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},dx),sx=(Qi(fx,ox=ZA),fx.prototype.exists=function(){return ox.prototype.exists.call(this)},fx.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new ux(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},fx.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document&&null!==(e=this._document.data.field(rx("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e,t.serverTimestamps)},fx),ux=(Qi(hx,ix=sx),hx.prototype.data=function(e){return void 0===e&&(e={}),ix.prototype.data.call(this,e)},hx),cx=(Object.defineProperty(lx.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(lx.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(lx.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),lx.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ux(n._firestore,n._userDataWriter,r.key,r,new ax(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))}))},lx.prototype.docChanges=function(e){if((e=!!(e=void 0===e?{}:e).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new yy(my.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ux(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ax(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ux(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ax(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query._converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ky()}}(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},lx);function lx(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ax(r.hasPendingWrites,r.fromCache),this.query=n}function hx(){return null!==ix&&ix.apply(this,arguments)||this}function fx(e,t,n,r,i,o){var a=this;return(a=ox.call(this,e,t,n,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=i,a}function dx(e,t){this.hasPendingWrites=e,this.fromCache=t}function px(e,t){return e instanceof sx&&t instanceof sx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cx&&t instanceof cx&&e._firestore===t._firestore&&HN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function vx(e){if(lw(e)&&0===e.explicitOrderBy.length)throw new yy(my.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function gx(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)e=i[r]._apply(e);return e}var mx,yx,bx,wx,_x,Ex=(Qi(Px,_x=kn=function(){}),Px.prototype._apply=function(e){var t=EA(e.firestore);return t=function(e,t,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new yy(my.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){Dx(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(Rx(n,e,c))}l={arrayValue:{values:a}}}else l=Rx(n,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Dx(o,i),l=BA(t,"where",o,"in"===i||"not-in"===i);var l=Pb.create(r,i,l);return function(e,t){if(t.g()){var n=fw(e);if(null!==n&&!n.isEqual(t.field))throw new yy(my.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");null!==(n=hw(e))&&Lx(0,t.field,n)}if(null!==(e=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(0<=t.indexOf(i.op))return i.op}return null}(e,function(){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw e===t.op?new yy(my.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new yy(my.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+e.toString()+"' filters.")}(e,l),l}(e._query,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc),new MN(e.firestore,e._converter,(t=(e=e._query).filters.concat([t]),new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)))},Px),Ix=(Qi(xx,wx=kn),xx.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new yy(my.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yy(my.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rw(t,n);return t=r,null!==hw(n=e)||null!==(e=fw(n))&&Lx(0,e,t.field),r}(e._query,this.Qc,this.Wc);return new MN(e.firestore,e._converter,(t=(e=e._query).explicitOrderBy.concat([t]),new aw(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},xx),Sx=(Qi(Ax,bx=kn),Ax.prototype._apply=function(e){return new MN(e.firestore,e._converter,gw(e._query,this.Gc,this.zc))},Ax),Tx=(Qi(Nx,yx=kn),Nx.prototype._apply=function(e){var t=Ox(e,this.type,this.Hc,this.Jc);return new MN(e.firestore,e._converter,(e=e._query,t=t,new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)))},Nx),kx=(Qi(Cx,mx=kn),Cx.prototype._apply=function(e){var t=Ox(e,this.type,this.Hc,this.Jc);return new MN(e.firestore,e._converter,(e=e._query,t=t,new aw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)))},Cx);function Cx(e,t,n){var r=this;return(r=mx.call(this)||this).type=e,r.Hc=t,r.Jc=n,r}function Nx(e,t,n){var r=this;return(r=yx.call(this)||this).type=e,r.Hc=t,r.Jc=n,r}function Ax(e,t,n){var r=this;return(r=bx.call(this)||this).type=e,r.Gc=t,r.zc=n,r}function xx(e,t){var n=this;return(n=wx.call(this)||this).Qc=e,n.Wc=t,n.type="orderBy",n}function Px(e,t,n){var r=this;return(r=_x.call(this)||this).Qc=e,r.Kc=t,r.jc=n,r.type="where",r}function Ox(e,t,n,r){if(n[0]=Ho(n[0]),n[0]instanceof ZA)return function(e,n,r,i){if(!r)throw new yy(my.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=pw(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(vb(n,r.key));else{var c=r.data.field(u.field);if(nb(c))throw new yy(my.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new yy(my.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new Xb(o,i)}(e._query,e.firestore._databaseId,n[0]._document,r);var i=EA(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new yy(my.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new yy(my.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!dw(e)&&-1!==c.indexOf("/"))throw new yy(my.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(By.fromString(c));if(!sb.isDocumentKey(l))throw new yy(my.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new sb(l),s.push(vb(t,l))}else c=BA(n,r,c),s.push(c)}return new Xb(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Rx(e,t,n){if("string"==typeof(n=Ho(n))){if(""===n)throw new yy(my.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(t)&&-1!==n.indexOf("/"))throw new yy(my.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(t=t.path.child(By.fromString(n)),!sb.isDocumentKey(t))throw new yy(my.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return vb(e,new sb(t))}if(n instanceof LN)return vb(e,n._key);throw new yy(my.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+AN(n)+".")}function Dx(e,t){if(!Array.isArray(e)||0===e.length)throw new yy(my.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new yy(my.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Lx(e,t,n){if(!n.isEqual(t))throw new yy(my.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Mx(){}function Fx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}Mx.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),cb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ky()}},Mx.prototype.convertObject=function(e,t){var n=this,r={};return jy(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},Mx.prototype.convertGeoPoint=function(e){return new uA(eb(e.latitude),eb(e.longitude))},Mx.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},Mx.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){return nb(t=t.mapValue.fields.__previous_value__)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rb(e));default:return null}},Mx.prototype.convertTimestamp=function(e){return e=Zy(e),new Ry(e.seconds,e.nanos)},Mx.prototype.convertDocumentKey=function(e,t){var n=By.fromString(e);return Cy(yE(n)),e=new dN(n.get(1),n.get(3)),n=new sb(n.popFirst(5)),e.isEqual(t)||Iy("Document "+n+" contains a document reference within a different database ("+e.projectId+"/"+e.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),n};var jx,Ux=(Qi(Bx,jx=K=Mx),Bx.prototype.convertBytes=function(e){return new aA(e)},Bx.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new LN(this.firestore,null,e)},Bx),qx=(Vx.prototype.set=function(e,t,n){return this._verifyNotCommitted(),t=Fx((e=zx(e,this._firestore))._converter,t,n),n=IA(this._dataReader,"WriteBatch.set",e._key,t,null!==e._converter,n),this._mutations.push(n.toMutation(e._key,Kw.none())),this},Vx.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),e=zx(e,this._firestore),t="string"==typeof(t=Ho(t))||t instanceof oA?VA(this._dataReader,"WriteBatch.update",e._key,t,n,r):qA(this._dataReader,"WriteBatch.update",e._key,t),this._mutations.push(t.toMutation(e._key,Kw.exists(!0))),this},Vx.prototype.delete=function(e){return this._verifyNotCommitted(),e=zx(e,this._firestore),this._mutations=this._mutations.concat(new c_(e._key,Kw.none())),this},Vx.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},Vx.prototype._verifyNotCommitted=function(){if(this._committed)throw new yy(my.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},Vx);function Vx(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=EA(e)}function Bx(e){var t=this;return(t=jx.call(this)||this).firestore=e,t}function zx(e,t){if((e=Ho(e)).firestore!==t)throw new yy(my.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Kx,Wx=(Qi(Hx,Kx=K),Hx.prototype.convertBytes=function(e){return new aA(e)},Hx.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new LN(this.firestore,null,e)},Hx);function Hx(e){var t=this;return(t=Kx.call(this)||this).firestore=e,t}function Gx(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=xN(e,LN);var o=xN(e.firestore,JN),a=EA(o);return $x(o,[("string"==typeof(t=Ho(t))||t instanceof oA?VA(a,"updateDoc",e._key,t,n,r):qA(a,"updateDoc",e._key,t)).toMutation(e._key,Kw.exists(!0))])}function Qx(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=Ho(e);var r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||$N(t[i])||(r=t[i],i++);var o,a,s,u,c,l,h={includeMetadataChanges:r.includeMetadataChanges};return $N(t[i])&&(o=t[i],t[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),t[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),t[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof LN?(s=xN(e.firestore,JN),u=uw(e._key.path),l={next:function(n){t[i]&&t[i](Yx(s,e,n))},error:t[i+1],complete:t[i+2]}):(a=xN(e,MN),s=xN(a.firestore,JN),u=a._query,c=new Wx(s),l={next:function(e){t[i]&&t[i](new cx(s,c,a,e))},error:t[i+1],complete:t[i+2]},vx(e._query)),function(e,t,n){var r=this,i=new KC(l),o=new $k(t,i,n);return e.asyncQueue.enqueueAndForget((function(){return Yi(r,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return t=Hk,[4,uN(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return Yi(r,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return t=Gk,[4,uN(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(tA(s),u,h)}function $x(e,t){return function(e,t){var n=this,r=new BE;return e.asyncQueue.enqueueAndForget((function(){return Yi(n,void 0,void 0,(function(){var n;return Xi(this,(function(i){switch(i.label){case 0:return n=dC,[4,sN(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(tA(e),t)}function Yx(e,t,n){var r=n.docs.get(t._key),i=new Wx(e);return new sx(e,i,t._key,r,new ax(n.hasPendingWrites,n.fromCache),t._converter)}var Xx,Jx=(eP.prototype.get=function(e){var t=this,n=zx(e,this._firestore),r=new Ux(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ky();if((e=e[0]).isFoundDocument())return new ZA(t._firestore,r,e.key,e,n._converter);if(e.isNoDocument())return new ZA(t._firestore,r,n._key,null,n._converter);throw ky()}))},eP.prototype.set=function(e,t,n){return t=Fx((e=zx(e,this._firestore))._converter,t,n),n=IA(this._dataReader,"Transaction.set",e._key,t,null!==e._converter,n),this._transaction.set(e._key,n),this},eP.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return e=zx(e,this._firestore),t="string"==typeof(t=Ho(t))||t instanceof oA?VA(this._dataReader,"Transaction.update",e._key,t,n,r):qA(this._dataReader,"Transaction.update",e._key,t),this._transaction.update(e._key,t),this},eP.prototype.delete=function(e){return e=zx(e,this._firestore),this._transaction.delete(e._key),this},Qi(Zx,Xx=eP),Zx.prototype.get=function(e){var t=this,n=zx(e,this._firestore),r=new Wx(this._firestore);return Xx.prototype.get.call(this,e).then((function(e){return new sx(t._firestore,r,n._key,e._document,new ax(!1,!1),n._converter)}))},Zx);function Zx(e,t){var n=this;return(n=Xx.call(this,e,t)||this)._firestore=e,n}function eP(e,t){this._firestore=e,this._transaction=t,this._dataReader=EA(e)}function tP(){if("undefined"==typeof Uint8Array)throw new yy(my.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nP(){if("undefined"==typeof atob)throw new yy(my.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rP,iP=(hP.fromBase64String=function(e){return nP(),new hP(aA.fromBase64String(e))},hP.fromUint8Array=function(e){return tP(),new hP(aA.fromUint8Array(e))},hP.prototype.toBase64=function(){return nP(),this._delegate.toBase64()},hP.prototype.toUint8Array=function(){return tP(),this._delegate.toUint8Array()},hP.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},hP.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},hP),oP=(lP.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){iA(e=xN(e,JN));var n=tA(e),r=e._freezeSettings();return rA(n,e=new jC,new MC(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},lP.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){iA(e=xN(e,JN));var t=tA(e),n=e._freezeSettings();return rA(t,e=new jC,new FC(e,n.cacheSizeBytes))}(e._delegate)},lP.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new yy(my.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new BE;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Yi(t,void 0,void 0,(function(){var t;return Xi(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return WE.yt()?(t=e+"main",[4,WE.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(OS(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},lP),aP=(Object.defineProperty(cP.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),cP.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},cP.prototype.useEmulator=function(e,t){var n,r;r=e,e=t,"firestore.googleapis.com"!==(t=(n=xN(n=this._delegate,DN))._getSettings()).host&&t.host!==r&&Sy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},t),{host:r+":"+e,ssl:!1}))},cP.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Yi(t,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return[4,iN(e)];case 1:return t=r.sent(),[4,aN(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),(i=n).$r.delete(0),gk(i))]}var i}))}))}))}(tA(xN(this._delegate,JN)))},cP.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Yi(t,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return[4,iN(e)];case 1:return t=r.sent(),[4,aN(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return(t=e).$r.add(0),[4,mk(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(tA(xN(this._delegate,JN)))},cP.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&kN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},cP.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},cP.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},cP.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new BE;return e.asyncQueue.enqueueAndForget((function(){return Yi(t,void 0,void 0,(function(){var t;return Xi(this,(function(r){switch(r.label){case 0:return t=mC,[4,sN(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(tA(xN(this._delegate,JN)))},cP.prototype.onSnapshotsInSync=function(e){return e=e,function(e,t){var n=this,r=new KC(t);return e.asyncQueue.enqueueAndForget((function(){return Yi(n,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.add(t),t.next()},[4,uN(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Yi(n,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.delete(t)},[4,uN(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(tA(xN(this._delegate,JN)),$N(e)?e:{next:e})},Object.defineProperty(cP.prototype,"app",{get:function(){if(!this.Xc)throw new yy(my.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),cP.prototype.collection=function(e){try{return new xP(this,zN(this._delegate,e))}catch(e){throw wP(e,"collection()","Firestore.collection()")}},cP.prototype.doc=function(e){try{return new yP(this,KN(this._delegate,e))}catch(e){throw wP(e,"doc()","Firestore.doc()")}},cP.prototype.collectionGroup=function(e){try{return new CP(this,function(e,t){if(e=xN(e,DN),SN("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new yy(my.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new MN(e,null,(t=t,new aw(By.emptyPath(),t)))}(this._delegate,e))}catch(e){throw wP(e,"collectionGroup()","Firestore.collectionGroup()")}},cP.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new BE;return e.asyncQueue.enqueueAndForget((function(){return Yi(n,void 0,void 0,(function(){var n;return Xi(this,(function(i){switch(i.label){case 0:return[4,rN(e).then((function(e){return e.datastore}))];case 1:return n=i.sent(),new GC(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(tA(t=this._delegate),(function(r){return r=new Jx(t,r),e(new fP(n,r))}))},cP.prototype.batch=function(){var e=this;return tA(this._delegate),new dP(new qx(this._delegate,(function(t){return $x(e._delegate,t)})))},cP.prototype.loadBundle=function(e){throw new yy(my.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},cP.prototype.namedQuery=function(e){throw new yy(my.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},cP),sP=(Qi(uP,rP=K),uP.prototype.convertBytes=function(e){return new iP(new aA(e))},uP.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),yP.Zc(e,this.firestore,null)},uP);function uP(e){var t=this;return(t=rP.call(this)||this).firestore=e,t}function cP(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof dN||(this.Xc=e)}function lP(){}function hP(e){this._delegate=e}var fP=(mP.prototype.get=function(e){var t=this,n=FP(e);return this._delegate.get(n).then((function(e){return new TP(t._firestore,new sx(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n._converter))}))},mP.prototype.set=function(e,t,n){return e=FP(e),n?(TN("Transaction.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},mP.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=FP(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,eo([o,t,n],r)),this},mP.prototype.delete=function(e){return e=FP(e),this._delegate.delete(e),this},mP),dP=(gP.prototype.set=function(e,t,n){return e=FP(e),n?(TN("WriteBatch.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},gP.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=FP(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,eo([o,t,n],r)),this},gP.prototype.delete=function(e){return e=FP(e),this._delegate.delete(e),this},gP.prototype.commit=function(){return this._delegate.commit()},gP),pP=(vP.prototype.fromFirestore=function(e,t){return e=new ux(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null),this._delegate.fromFirestore(new kP(this._firestore,e),null!=t?t:{})},vP.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},vP.tu=function(e,t){var n=vP.eu,r=n.get(e);return r||(r=new WeakMap,n.set(e,r)),(n=r.get(t))||(n=new vP(e,new sP(e),t),r.set(t,n)),n},vP);function vP(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}function gP(e){this._delegate=e}function mP(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sP(e)}pP.eu=new WeakMap;var yP=(bP.nu=function(e,t,n){if(e.length%2!=0)throw new yy(my.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new bP(t,new LN(t._delegate,n,new sb(e)))},bP.Zc=function(e,t,n){return new bP(t,new LN(t._delegate,n,e))},Object.defineProperty(bP.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(bP.prototype,"parent",{get:function(){return new xP(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(bP.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),bP.prototype.collection=function(e){try{return new xP(this.firestore,zN(this._delegate,e))}catch(e){throw wP(e,"collection()","DocumentReference.collection()")}},bP.prototype.isEqual=function(e){return(e=Ho(e))instanceof LN&&WN(this._delegate,e)},bP.prototype.set=function(e,t){t=TN("DocumentReference.set",t);try{return function(e,t,n){e=xN(e,LN);var r=xN(e.firestore,JN);return t=Fx(e._converter,t,n),$x(r,[IA(EA(r),"setDoc",e._key,t,null!==e._converter,n).toMutation(e._key,Kw.none())])}(this._delegate,e,t)}catch(e){throw wP(e,"setDoc()","DocumentReference.set()")}},bP.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Gx(this._delegate,e):Gx.apply(void 0,eo([this._delegate,e,t],n))}catch(e){throw wP(e,"updateDoc()","DocumentReference.update()")}},bP.prototype.delete=function(){return $x(xN((e=this._delegate).firestore,JN),[new c_(e._key,Kw.none())]);var e},bP.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_P(t),i=EP(t,(function(t){return new TP(e.firestore,new sx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}));return Qx(this._delegate,r,i)},bP.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xN(e,LN);var t=xN(e.firestore,JN),n=tA(t),r=new Wx(t);return function(e,t){var n=this,r=new BE;return e.asyncQueue.enqueueAndForget((function(){return Yi(n,void 0,void 0,(function(){var n;return Xi(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i;return Xi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,(s=e).persistence.runTransaction("read document","readonly",(function(e){return s.Mn.mn(e,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new yy(my.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Fk(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s}))}))},[4,oN(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new sx(t,r,e._key,n,new ax(null!==n&&n.hasLocalMutations,!0),e._converter)}))}:"server"===(null==e?void 0:e.source)?function(e){e=xN(e,LN);var t=xN(e.firestore,JN);return cN(tA(t),e._key,{source:"server"}).then((function(n){return Yx(t,e,n)}))}:function(e){e=xN(e,LN);var t=xN(e.firestore,JN);return cN(tA(t),e._key).then((function(n){return Yx(t,e,n)}))})(this._delegate).then((function(e){return new TP(t.firestore,new sx(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}))},bP.prototype.withConverter=function(e){return new bP(this.firestore,e?this._delegate.withConverter(pP.tu(this.firestore,e)):this._delegate.withConverter(null))},bP);function bP(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sP(e)}function wP(e,t,n){return e.message=e.message.replace(t,n),e}function _P(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!$N(r))return r}return{}}function EP(e,t){var n;return{next:function(e){n.next&&n.next(t(e))},error:null===(e=(n=$N(e[0])?e[0]:$N(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===e?void 0:e.bind(n),complete:null===(e=n.complete)||void 0===e?void 0:e.bind(n)}}var IP,SP,TP=(Object.defineProperty(MP.prototype,"ref",{get:function(){return new yP(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(MP.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(MP.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(MP.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),MP.prototype.data=function(e){return this._delegate.data(e)},MP.prototype.get=function(e,t){return this._delegate.get(e,t)},MP.prototype.isEqual=function(e){return px(this._delegate,e._delegate)},MP),kP=(Qi(LP,SP=TP),LP.prototype.data=function(e){return this._delegate.data(e)},LP),CP=(DP.prototype.where=function(e,t,n){try{return new DP(this.firestore,gx(this._delegate,(r=n,i=t,o=rx("where",e),new Ex(o,i,r))))}catch(e){throw wP(e,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},DP.prototype.orderBy=function(e,t){try{return new DP(this.firestore,gx(this._delegate,(n=void 0===t?"asc":t,r=rx("orderBy",e),new Ix(r,n))))}catch(e){throw wP(e,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},DP.prototype.limit=function(e){try{return new DP(this.firestore,gx(this._delegate,(PN("limit",t=e),new Sx("limit",t,"F"))))}catch(e){throw wP(e,"limit()","Query.limit()")}var t},DP.prototype.limitToLast=function(e){try{return new DP(this.firestore,gx(this._delegate,(PN("limitToLast",t=e),new Sx("limitToLast",t,"L"))))}catch(e){throw wP(e,"limitToLast()","Query.limitToLast()")}var t},DP.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new DP(this.firestore,gx(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Tx("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw wP(e,"startAt()","Query.startAt()")}},DP.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new DP(this.firestore,gx(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Tx("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw wP(e,"startAfter()","Query.startAfter()")}},DP.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new DP(this.firestore,gx(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new kx("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw wP(e,"endBefore()","Query.endBefore()")}},DP.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new DP(this.firestore,gx(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new kx("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw wP(e,"endAt()","Query.endAt()")}},DP.prototype.isEqual=function(e){return HN(this._delegate,e._delegate)},DP.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=xN(e,MN);var t=xN(e.firestore,JN),n=tA(t),r=new Wx(t);return function(e,t){var n=this,r=new BE;return e.asyncQueue.enqueueAndForget((function(){return Yi(n,void 0,void 0,(function(){var n;return Xi(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o;return Xi(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,YS(e,t,!0)];case 1:return o=a.sent(),r=new aC(t,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=Fk(i,"Failed to execute query '"+t+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,oN(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new cx(t,r,e,n)}))}:"server"===(null==e?void 0:e.source)?function(e){e=xN(e,MN);var t=xN(e.firestore,JN),n=tA(t),r=new Wx(t);return lN(n,e._query,{source:"server"}).then((function(n){return new cx(t,r,e,n)}))}:function(e){e=xN(e,MN);var t=xN(e.firestore,JN),n=tA(t),r=new Wx(t);return vx(e._query),lN(n,e._query).then((function(n){return new cx(t,r,e,n)}))})(this._delegate).then((function(e){return new AP(t.firestore,new cx(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},DP.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=_P(t),i=EP(t,(function(t){return new AP(e.firestore,new cx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Qx(this._delegate,r,i)},DP.prototype.withConverter=function(e){return new DP(this.firestore,e?this._delegate.withConverter(pP.tu(this.firestore,e)):this._delegate.withConverter(null))},DP),NP=(Object.defineProperty(RP.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(RP.prototype,"doc",{get:function(){return new kP(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(RP.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(RP.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),RP),AP=(Object.defineProperty(OP.prototype,"query",{get:function(){return new CP(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(OP.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(OP.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(OP.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(OP.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new kP(e._firestore,t)}))},enumerable:!1,configurable:!0}),OP.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new NP(t._firestore,e)}))},OP.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new kP(n._firestore,r))}))},OP.prototype.isEqual=function(e){return px(this._delegate,e._delegate)},OP),xP=(Qi(PP,IP=CP),Object.defineProperty(PP.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(PP.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(PP.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new yP(this.firestore,e):null},enumerable:!1,configurable:!0}),PP.prototype.doc=function(e){try{return new yP(this.firestore,void 0===e?KN(this._delegate):KN(this._delegate,e))}catch(e){throw wP(e,"doc()","CollectionReference.doc()")}},PP.prototype.add=function(e){var t,n,r,i=this;return n=e,e=xN((t=this._delegate).firestore,JN),r=KN(t),n=Fx(t._converter,n),$x(e,[IA(EA(t.firestore),"addDoc",r._key,n,null!==t._converter,{}).toMutation(r._key,Kw.exists(!1))]).then((function(){return r})).then((function(e){return new yP(i.firestore,e)}))},PP.prototype.isEqual=function(e){return WN(this._delegate,e._delegate)},PP.prototype.withConverter=function(e){return new PP(this.firestore,e?this._delegate.withConverter(pP.tu(this.firestore,e)):this._delegate.withConverter(null))},PP);function PP(e,t){var n=this;return(n=IP.call(this,e,t)||this).firestore=e,n._delegate=t,n}function OP(e,t){this._firestore=e,this._delegate=t}function RP(e,t){this._firestore=e,this._delegate=t}function DP(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sP(e)}function LP(){return null!==SP&&SP.apply(this,arguments)||this}function MP(e,t){this._firestore=e,this._delegate=t}function FP(e){return xN(e,LN)}function jP(e){this._delegate=e}function UP(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(oA.bind.apply(oA,eo([void 0],e)))}UP.documentId=function(){return new UP(Ky.keyField().canonicalString())},UP.prototype.isEqual=function(e){return(e=Ho(e))instanceof oA&&this._delegate._internalPath.isEqual(e._internalPath)},kn=UP,jP.serverTimestamp=function(){var e=new OA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new jP(e)},jP.delete=function(){var e=new TA("deleteField");return e._methodName="FieldValue.delete",new jP(e)},jP.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new RA("arrayUnion",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayUnion",new jP(n)},jP.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new DA("arrayRemove",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayRemove",new jP(n)},jP.increment=function(e){return(e=new LA("increment",e))._methodName="FieldValue.increment",new jP(e)},jP.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)};var qP,VP,BP={Firestore:aP,GeoPoint:uA,Timestamp:Ry,Blob:iP,Transaction:fP,WriteBatch:dP,DocumentReference:yP,DocumentSnapshot:TP,Query:CP,QueryDocumentSnapshot:kP,QuerySnapshot:AP,CollectionReference:xP,FieldPath:kn,FieldValue:K=jP,setLogLevel:function(e){by.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(qP=_a).INTERNAL.registerComponent(new Go("firestore",(function(e){var t=e.getProvider("app").getImmediate();return t=t,e=e.getProvider("auth-internal"),new aP(t,new JN(t,e),new oP)}),"PUBLIC").setServiceProps(Object.assign({},BP))),qP.registerVersion("@firebase/firestore","2.2.5"),(VP=aP).prototype.loadBundle=function(e){return t=this._delegate,n=e,r=tA(t=xN(t,JN)),e=new XN,function(e,t,r){var i,o=this,a=(i=n,t=ek(t),i=function(e){if(e instanceof Uint8Array)return zC(e,void 0);if(e instanceof ArrayBuffer)return zC(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new WC(i,t));e.asyncQueue.enqueueAndForget((function(){return Yi(o,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return t=OC,[4,sN(e)];case 1:return t.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(r,t._databaseId,e),e;var t,n,r},VP.prototype.namedQuery=function(e){var t=this,n=this._delegate;return e=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Yi(n,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=e;return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,oN(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(tA(n=xN(n,JN)),e).then((function(e){return e?new MN(n,null,e.query):null})).then((function(e){return e?new CP(t,e):null}))};var zP,KP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},WP=(Qi(HP,zP=Error),HP);function HP(e,t,n){return t=zP.call(this,t)||this,Object.setPrototypeOf(t,HP.prototype),t.code=e,t.details=n,t}var GP=(QP.prototype.getAuthToken=function(){return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},QP.prototype.getInstanceIdToken=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},QP.prototype.getContext=function(){return Yi(this,void 0,void 0,(function(){var e,t;return Xi(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},QP);function QP(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}function $P(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}var YP=(XP.prototype.encode=function(e){var t=this;if(null==e)return null;if("number"==typeof(e=e instanceof Number?e.valueOf():e)&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return $P(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},XP.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?$P(e,(function(e){return t.decode(e)})):e},XP);function XP(){}var JP,ZP,eO,tO=(Object.defineProperty(nO.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),nO.prototype._url=function(e){var t=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e:this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e},nO.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},nO.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},nO.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},nO.prototype.postJSON=function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i;return Xi(this,(function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},nO.prototype.call=function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o,a,s;return Xi(this,(function(u){switch(u.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(e,t){l=setTimeout((function(){t(new WP("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([rO(s,this.postJSON(r,i,o)),a,rO(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new WP("cancelled","Firebase Functions instance was deleted.");if(s=function(e,t,n){var r=function(e){if(200<=e&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!KP[s])return new WP("internal","internal");r=KP[s],i=s}"string"==typeof(s=a.message)&&(i=s),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(e){}return"ok"===r?null:new WP(r,i,o)}(a.status,a.json,this.serializer))throw s;if(!a.json)throw new WP("internal","Response is not valid JSON object.");if(void 0===(s=void 0===(s=a.json.data)?a.json.result:s))throw new WP("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},nO);function nO(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new YP,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new GP(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=r}}function rO(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}function iO(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function oO(e,t,n){var r,i=new Promise((function(i,o){iO(r=e[t].apply(e,n)).then(i,o)}));return i.request=r,i}function aO(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function sO(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return oO(this[t],r,arguments)})}))}function uO(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function cO(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return e=this[t],(n=oO(e,r,arguments)).then((function(e){if(e)return new hO(e,n.request)}));var e,n})}))}function lO(e){this._index=e}function hO(e,t){this._cursor=e,this._request=t}function fO(e){this._store=e}function dO(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function pO(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new dO(n)}function vO(e){this._db=e}function gO(e,t,n){var r=(t=oO(indexedDB,"open",[e,t])).request;return r&&(r.onupgradeneeded=function(e){n&&n(new pO(r.result,e.oldVersion,r.transaction))}),t.then((function(e){return new vO(e)}))}function mO(e){return oO(indexedDB,"deleteDatabase",[e])}JP=_a,ZP=fetch.bind(self),eO={Functions:tO},JP.INTERNAL.registerComponent(new Go("functions",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return t=e.getProvider("auth-internal"),e=e.getProvider("messaging"),new tO(r,t,e,n,ZP)}),"PUBLIC").setServiceProps(eO).setMultipleInstances(!0)),_a.registerVersion("@firebase/functions","0.6.7"),aO(lO,"_index",["name","keyPath","multiEntry","unique"]),sO(lO,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),cO(lO,"_index",IDBIndex,["openCursor","openKeyCursor"]),aO(hO,"_cursor",["direction","key","primaryKey","value"]),sO(hO,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(hO.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),iO(t._request).then((function(e){if(e)return new hO(e,t._request)}))}))})})),fO.prototype.createIndex=function(){return new lO(this._store.createIndex.apply(this._store,arguments))},fO.prototype.index=function(){return new lO(this._store.index.apply(this._store,arguments))},aO(fO,"_store",["name","keyPath","indexNames","autoIncrement"]),sO(fO,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),cO(fO,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),uO(fO,"_store",IDBObjectStore,["deleteIndex"]),dO.prototype.objectStore=function(){return new fO(this._tx.objectStore.apply(this._tx,arguments))},aO(dO,"_tx",["objectStoreNames","mode"]),uO(dO,"_tx",IDBTransaction,["abort"]),pO.prototype.createObjectStore=function(){return new fO(this._db.createObjectStore.apply(this._db,arguments))},aO(pO,"_db",["name","version","objectStoreNames"]),uO(pO,"_db",IDBDatabase,["deleteObjectStore","close"]),vO.prototype.transaction=function(){return new dO(this._db.transaction.apply(this._db,arguments))},aO(vO,"_db",["name","version","objectStoreNames"]),uO(vO,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[fO,lO].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=(r=arguments,Array.prototype.slice.call(r)),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[lO,fO].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var yO="w:0.4.25",bO="FIS_v2",wO=((kn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kn["not-registered"]="Firebase Installation is not registered.",kn["installation-not-found"]="Firebase Installation not found.",kn["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',kn["app-offline"]="Could not process request. Application offline.",kn["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new So("installations","Installations",K=kn));function _O(e){return e instanceof Eo&&e.code.includes("request-failed")}function EO(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+(e=e.projectId)+"/installations"}function IO(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}function SO(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=(n=r.sent()).error,[2,wO.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function TO(e){return e=e.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function kO(e,t){return t=t.refreshToken,(e=TO(e)).append("Authorization",bO+" "+t),e}function CO(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return 500<=(t=n.sent()).status&&t.status<600?[2,e()]:[2,t]}}))}))}function NO(e){return new Promise((function(t){setTimeout(t,e)}))}var AO=/^[cdef][\w-]{21}$/;function xO(){try{var e=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16,e=function(e){return btoa(String.fromCharCode.apply(String,eo([],Zi(e)))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22),AO.test(e)?e:""}catch(e){return""}}function PO(e){return e.appName+"!"+e.appId}var OO=new Map;function RO(e,t){DO(e=PO(e),t),function(e,t){var n=MO();n&&n.postMessage({key:e,fid:t}),FO()}(e,t)}function DO(e,t){var n,r,i=OO.get(e);if(i)try{for(var o=Ji(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var LO=null;function MO(){return!LO&&"BroadcastChannel"in self&&((LO=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){DO(e.data.key,e.data.fid)}),LO}function FO(){0===OO.size&&LO&&(LO.close(),LO=null)}var jO,UO="firebase-installations-store",qO=null;function VO(){return qO=qO||gO("firebase-installations-database",1,(function(e){0===e.oldVersion&&e.createObjectStore(UO)}))}function BO(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o;return Xi(this,(function(a){switch(a.label){case 0:return n=PO(e),[4,VO()];case 1:return i=a.sent(),r=i.transaction(UO,"readwrite"),[4,(i=r.objectStore(UO)).get(n)];case 2:return o=a.sent(),[4,i.put(t,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===t.fid||RO(e,t.fid),[2,t]}}))}))}function zO(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return t=PO(e),[4,VO()];case 1:return[4,(n=(n=r.sent()).transaction(UO,"readwrite")).objectStore(UO).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function KO(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return n=PO(e),[4,VO()];case 1:return i=s.sent(),r=i.transaction(UO,"readwrite"),[4,(i=r.objectStore(UO)).get(n)];case 2:return o=s.sent(),void 0!==(a=t(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||RO(e,a.fid),[2,a]}}))}))}function WO(e){return Yi(this,void 0,void 0,(function(){var t,n,r;return Xi(this,(function(i){switch(i.label){case 0:return[4,KO(e,(function(n){return n=GO(n||{fid:xO(),registrationStatus:0}),n=function(e,t){return 0!==t.registrationStatus?1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return Yi(this,void 0,void 0,(function(){var t,n,r;return Xi(this,(function(i){switch(i.label){case 0:return[4,HO(e)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,NO(100)];case 3:return i.sent(),[4,HO(e)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,WO(e)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,t]}}))}))}(e)}:{installationEntry:t}:navigator.onLine?(e=function(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(e,t){var n=t.fid;return Yi(this,void 0,void 0,(function(){var t,r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return t=EO(e),r=TO(e),a={fid:n,authVersion:bO,appId:e.appId,sdkVersion:yO},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,CO((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:IO(a.authToken)}];case 3:return[4,SO("Create Installation",o)];case 4:throw s.sent()}}))}))}(e,t)];case 1:return n=i.sent(),[2,BO(e,n)];case 2:return _O(r=i.sent())&&409===r.customData.serverCode?[4,zO(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,BO(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:t,registrationPromise:e}):{installationEntry:t,registrationPromise:Promise.reject(wO.create("app-offline"))}}(e,n),t=n.registrationPromise,n.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function HO(e){return KO(e,(function(e){if(!e)throw wO.create("installation-not-found");return GO(e)}))}function GO(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function QO(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Yi(this,void 0,void 0,(function(){var e,i,o,a,s;return Xi(this,(function(u){switch(u.label){case 0:return e=function(e,t){return t=t.fid,EO(e)+"/"+t+"/authTokens:generate"}(n,t),i=kO(n,t),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:yO}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,CO((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,IO(s=u.sent())];case 3:return[4,SO("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function $O(e,t){return void 0===t&&(t=!1),Yi(this,void 0,void 0,(function(){var n,r,i;return Xi(this,(function(o){switch(o.label){case 0:return[4,KO(e.appConfig,(function(r){if(!XO(r))throw wO.create("not-registered");var i,o=r.authToken;if(t||2!==(i=o).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i)){if(1===o.requestStatus)return n=function(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return[4,YO(e.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,NO(100)];case 3:return r.sent(),[4,YO(e.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,$O(e,t)]:[2,n]}}))}))}(e,t),r;if(!navigator.onLine)throw wO.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=$i($i({},i),{authToken:o}),n=function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i;return Xi(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,QO(e,t)];case 1:return n=o.sent(),i=$i($i({},t),{authToken:n}),[4,BO(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!_O(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,zO(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=$i($i({},t),{authToken:{requestStatus:0}}),[4,BO(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function YO(e){return KO(e,(function(e){if(!XO(e))throw wO.create("not-registered");var t=e.authToken;return 1===(t=t).requestStatus&&t.requestTime+1e4<Date.now()?$i($i({},e),{authToken:{requestStatus:0}}):e}))}function XO(e){return void 0!==e&&2===e.registrationStatus}function JO(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i;return Xi(this,(function(o){switch(o.label){case 0:return n=function(e,t){return t=t.fid,EO(e)+"/"+t}(e,t),i=kO(e,t),r={method:"DELETE",headers:i},[4,CO((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,SO("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function ZO(e){return wO.create("missing-app-config-values",{valueName:e})}(jO=_a).INTERNAL.registerComponent(new Go("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw ZO("App Configuration");if(!e.name)throw ZO("App Name");try{for(var r=Ji(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw ZO(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return[4,WO(e.appConfig)];case 1:return t=r.sent(),n=t.installationEntry,(t.registrationPromise||$O(e)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Yi(this,void 0,void 0,(function(){return Xi(this,(function(n){switch(n.label){case 0:return[4,function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return[4,WO(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(e.appConfig)];case 1:return n.sent(),[4,$O(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return[4,KO(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw wO.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw wO.create("app-offline");case 3:return[4,JO(t,n)];case 4:return r.sent(),[4,zO(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){MO();var n=PO(e);(e=OO.get(n))||(e=new Set,OO.set(n,e)),e.add(t)}(n,t),function(){var e,r,i;r=t,i=PO(e=n),(e=OO.get(i))&&(e.delete(r),0===e.size&&OO.delete(i),FO())}}(n,e)}}}),"PUBLIC")),jO.registerVersion("@firebase/installations","0.4.25"),(kn={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kn["only-available-in-window"]="This method is available in a Window context.",kn["only-available-in-sw"]="This method is available in a service worker context.",kn["permission-default"]="The notification permission was not granted and dismissed instead.",kn["permission-blocked"]="The notification permission was not granted and blocked instead.",kn["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",kn["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",kn["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",kn["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",kn["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",kn["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",kn["token-update-no-token"]="FCM returned no token when updating the user to push.",kn["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",kn["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",kn["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",kn["invalid-vapid-key"]="The public VAPID key must be a string.",kn["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var eR,tR=new So("messaging","Messaging",K=kn),nR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rR="FCM_MSG",iR="google.c.a.c_id";function oR(e){return e=new Uint8Array(e),btoa(String.fromCharCode.apply(String,eo([],Zi(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(kn=eR=eR||{}).PUSH_RECEIVED="push-received",kn.NOTIFICATION_CLICKED="notification-clicked";var aR="fcm_token_details_db",sR="fcm_token_object_Store";function uR(e){return Yi(this,void 0,void 0,(function(){var t,n=this;return Xi(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(aR))return[2,null];r.label=2;case 2:return t=null,[4,gO(aR,5,(function(r){return Yi(n,void 0,void 0,(function(){var n,i,o;return Xi(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(sR)?[4,(o=r.transaction.objectStore(sR)).index("fcmSenderId").get(e)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];t={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:oR(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:oR(i.auth),p256dh:oR(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:oR(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,mO(aR)];case 4:return r.sent(),[4,mO("fcm_vapid_details_db")];case 5:return r.sent(),[4,mO("undefined")];case 6:return r.sent(),[2,function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(t)?t:null]}}))}))}var cR="firebase-messaging-store",lR=null;function hR(){return lR=lR||gO("firebase-messaging-database",1,(function(e){0===e.oldVersion&&e.createObjectStore(cR)}))}function fR(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return t=pR(e),[4,hR()];case 1:return[4,r.sent().transaction(cR).objectStore(cR).get(t)];case 2:return(t=r.sent())?[2,t]:[3,3];case 3:return[4,uR(e.appConfig.senderId)];case 4:return(n=r.sent())?[4,dR(e,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function dR(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return n=pR(e),[4,hR()];case 1:return[4,(r=(r=i.sent()).transaction(cR,"readwrite")).objectStore(cR).put(t,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,t]}}))}))}function pR(e){return e.appConfig.appId}function vR(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return[4,mR(e)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(gR(e.appConfig)+"/"+t,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,tR.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),tR.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function gR(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+(e=e.projectId)+"/registrations"}function mR(e){var t=e.appConfig,n=e.installations;return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function yR(e){var t=e.p256dh,n=e.auth;return t={web:{endpoint:e.endpoint,auth:n,p256dh:t}},(e=e.vapidKey)!==nR&&(t.web.applicationPubKey=e),t}function bR(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o;return Xi(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw tR.create("permission-blocked");return[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(t)})]}}))}))}(t,n)];case 1:return o=a.sent(),[4,fR(e)];case 2:return r=a.sent(),i={vapidKey:n,swScope:t.scope,endpoint:o.endpoint,auth:oR(o.getKey("auth")),p256dh:oR(o.getKey("p256dh"))},r?[3,3]:[2,_R(e,i)];case 3:if(s=r.subscriptionOptions,c=(u=i).vapidKey===s.vapidKey,l=u.endpoint===s.endpoint,h=u.auth===s.auth,s=u.p256dh===s.p256dh,c&&l&&h&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,vR(e,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,_R(e,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(e,t,n){return Yi(this,void 0,void 0,(function(){var r,i,o;return Xi(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o;return Xi(this,(function(a){switch(a.label){case 0:return[4,mR(e)];case 1:n=a.sent(),r=yR(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(gR(e.appConfig)+"/"+t.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),tR.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,tR.create("token-update-failed",{errorInfo:o});if(!i.token)throw tR.create("token-update-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return r=a.sent(),i=$i($i({},e),{token:r,createTime:Date.now()}),[4,dR(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,wR(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},e,t)]:[2,r.token];case 9:return[2]}var s,u,c,l,h}))}))}function wR(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return[4,fR(e)];case 1:return(n=r.sent())?[4,vR(e,n.token)]:[3,4];case 2:return r.sent(),[4,function(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return t=pR(e),[4,hR()];case 1:return[4,(n=(n=r.sent()).transaction(cR,"readwrite")).objectStore(cR).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(e)];case 3:r.sent(),r.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function _R(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return[4,function(e,t){return Yi(this,void 0,void 0,(function(){var n,r,i,o;return Xi(this,(function(a){switch(a.label){case 0:return[4,mR(e)];case 1:n=a.sent(),r=yR(t),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(gR(e.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),tR.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,tR.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw tR.create("token-subscribe-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:t},[4,dR(e,n)];case 2:return r.sent(),[2,n.token]}}))}))}function ER(e){return"object"==typeof e&&e&&iR in e}function IR(e){return new Promise((function(t){setTimeout(t,e)}))}var SR=(Object.defineProperty(TR.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),TR.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw tR.create("invalid-bg-handler");this.bgMessageHandler=e},TR.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},TR.prototype.getToken=function(){var e;return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,fR(this.firebaseDependencies)];case 1:t=n.sent(),this.vapidKey=null!==(e=null===(e=null==t?void 0:t.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:nR,n.label=2;case 2:return[2,bR(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},TR.prototype.deleteToken=function(){return wR(this.firebaseDependencies,self.registration)},TR.prototype.requestPermission=function(){throw tR.create("only-available-in-window")},TR.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw tR.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw tR.create("invalid-vapid-key");this.vapidKey=e},TR.prototype.useServiceWorker=function(){throw tR.create("only-available-in-window")},TR.prototype.onMessage=function(){throw tR.create("only-available-in-window")},TR.prototype.onTokenRefresh=function(){throw tR.create("only-available-in-window")},TR.prototype.onPush=function(e){return Yi(this,void 0,void 0,(function(){var t,n,r;return Xi(this,(function(i){switch(i.label){case 0:return(r=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,kR()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(t=i.sent()).some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))?[2,function(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=eR.PUSH_RECEIVED;try{for(var i=Ji(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(t,r)]:(n=!1,r.notification?[4,function(e){var t=e.actions,n=Notification.maxActions;return t&&n&&t.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=e.title)&&void 0!==n?n:"",e)}(((s=$i({},(o=r).notification)).data=((a={})[rR]=o,a),s))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(r=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n),(n=t.notification.body)&&(e.notification.body=n),(t=t.notification.image)&&(e.notification.image=t)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n),(t=t.fcmOptions.analytics_label)&&(e.fcmOptions.analyticsLabel=t)}}(t,e),t}(r),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,IR(1e3)]);case 4:return i.sent(),[2]}var o,a,s}))}))},TR.prototype.onSubChange=function(e){var t;return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return e.newSubscription?[3,2]:[4,wR(this.firebaseDependencies,self.registration)];case 1:return r.sent(),[2];case 2:return[4,fR(this.firebaseDependencies)];case 3:return n=r.sent(),[4,wR(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,bR(this.firebaseDependencies,self.registration,null!==(t=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:nR)];case 5:return r.sent(),[2]}}))}))},TR.prototype.onNotificationClick=function(e){var t;return Yi(this,void 0,void 0,(function(){var n,r,i,o,a;return Xi(this,(function(s){switch(s.label){case 0:return(n=null===(t=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===t?void 0:t[rR])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(r=function(e){var t,n=null!==(t=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==t?t:null===(n=e.notification)||void 0===n?void 0:n.click_action;return n||(ER(e.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(e){return Yi(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Xi(this,(function(u){switch(u.label){case 0:return[4,kR()];case 1:t=u.sent();try{for(n=Ji(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,IR(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=eR.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}}))}))},TR);function TR(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}function kR(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var CR=(Object.defineProperty(NR.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),NR.prototype.messageEventListener=function(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===eR.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},t)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},t))),ER(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},NR.prototype.getVapidKey=function(){return this.vapidKey},NR.prototype.getSwReg=function(){return this.swRegistration},NR.prototype.getToken=function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw tR.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,bR(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},NR.prototype.updateVapidKey=function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=nR),[2]}))}))},NR.prototype.updateSwReg=function(e){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw tR.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},NR.prototype.registerDefaultSw=function(){return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=t.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=t.sent(),tR.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},NR.prototype.deleteToken=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,wR(this.firebaseDependencies,this.swRegistration)]}}))}))},NR.prototype.requestPermission=function(){return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?tR.create("permission-blocked"):tR.create("permission-default")}}))}))},NR.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw tR.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw tR.create("invalid-vapid-key");this.vapidKey=e},NR.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw tR.create("invalid-sw-registration");if(this.swRegistration)throw tR.create("use-sw-after-get-token");this.swRegistration=e},NR.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},NR.prototype.setBackgroundMessageHandler=function(){throw tR.create("only-available-in-sw")},NR.prototype.onBackgroundMessage=function(){throw tR.create("only-available-in-sw")},NR.prototype.onTokenRefresh=function(){return function(){}},NR.prototype.logEvent=function(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case eR.NOTIFICATION_CLICKED:return"notification_open";case eR.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[iR],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},NR);function NR(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}function AR(e){return tR.create("missing-app-config-values",{valueName:e})}function xR(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}K={isSupported:xR},_a.INTERNAL.registerComponent(new Go("messaging",(function(e){var t=e.getProvider("app").getImmediate();if(e={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw AR("App Configuration Object");if(!e.name)throw AR("App Name");var r=e.options;try{for(var i=Ji(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw AR(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")},!xR())throw tR.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?SR:CR)(e)}),"PUBLIC").setServiceProps(K));var PR,OR="firebasestorage.googleapis.com",RR="storageBucket",DR=(Qi(LR,PR=Eo),LR.prototype._codeEquals=function(e){return MR(e)===this.code},Object.defineProperty(LR.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),LR);function LR(e,t){return(e=PR.call(this,MR(e),"Firebase Storage: "+t+" ("+MR(e)+")")||this).customData={serverResponse:null},e._baseMessage=e.message,Object.setPrototypeOf(e,LR.prototype),e}function MR(e){return"storage/"+e}function FR(){return new DR("unknown","An unknown error occurred, please check the error payload for server response.")}function jR(){return new DR("canceled","User canceled the upload/download.")}function UR(){return new DR("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qR(e){return new DR("invalid-argument",e)}function VR(){return new DR("app-deleted","The Firebase app was deleted.")}function BR(e){return new DR("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zR(e,t){return new DR("invalid-format","String does not match format '"+e+"': "+t)}function KR(e){throw new DR("internal-error","Internal error: "+e)}var WR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},HR=function(e,t){this.data=e,this.contentType=t||null};function GR(e,t){switch(e){case WR.RAW:return new HR(QR(t));case WR.BASE64:case WR.BASE64URL:return new HR($R(e,t));case WR.DATA_URL:return new HR(function(e){return(e=new XR(e)).base64?$R(WR.BASE64,e.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw zR(WR.DATA_URL,"Malformed data URL.")}return QR(t)}(e.rest)}(t),new XR(t).contentType)}throw FR()}function QR(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function $R(e,t){switch(e){case WR.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw zR(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case WR.BASE64URL:if(r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/"),r||n)throw zR(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw zR(e,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var YR,XR=function(e){var t;if(this.base64=!1,(this.contentType=null)===(t=e.match(/^data:([^,]+)?,/)))throw zR(WR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=";base64",(t=r).length>=n.length&&t.substring(t.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},JR={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ZR(e){switch(e){case"running":case"pausing":case"canceling":return JR.RUNNING;case"paused":return JR.PAUSED;case"success":return JR.SUCCESS;case"canceled":return JR.CANCELED;case"error":default:return JR.ERROR}}(kn=YR=YR||{})[kn.NO_ERROR=0]="NO_ERROR",kn[kn.NETWORK_ERROR=1]="NETWORK_ERROR",kn[kn.ABORT=2]="ABORT";var eD=(tD.prototype.send=function(e,t,n,r){if(this.sent_)throw KR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},tD.prototype.getErrorCode=function(){if(!this.sent_)throw KR("cannot .getErrorCode() before sending");return this.errorCode_},tD.prototype.getStatus=function(){if(!this.sent_)throw KR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},tD.prototype.getResponseText=function(){if(!this.sent_)throw KR("cannot .getResponseText() before sending");return this.xhr_.responseText},tD.prototype.abort=function(){this.xhr_.abort()},tD.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},tD.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},tD.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},tD);function tD(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=YR.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=YR.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=YR.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}var nD=(rD.prototype.createXhrIo=function(){return new eD},rD);function rD(){}var iD=(Object.defineProperty(oD.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(oD.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),oD.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},oD.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},oD.makeFromBucketSpec=function(e,t){var n;try{n=oD.makeFromUrl(e,t)}catch(t){return new oD(e,"")}if(""===n.path)return n;throw new DR("invalid-default-bucket","Invalid default bucket '"+e+"'.")},oD.makeFromUrl=function(e,t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(t===OR?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){n=new oD(l[c.indices.bucket],l[c.indices.path]||""),c.postModify(n);break}}if(null==n)throw new DR("invalid-url","Invalid URL '"+e+"'.");return n},oD);function oD(e,t){this.bucket=e,this.path_=t}var aD=(sD.prototype.getPromise=function(){return this.promise_},sD.prototype.cancel=function(e){},sD);function sD(e){this.promise_=Promise.reject(e)}function uD(e){return"string"==typeof e||e instanceof String}function cD(e){return lD()&&e instanceof Blob}function lD(){return"undefined"!=typeof Blob}function hD(e,t,n,r){if(r<t)throw qR("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(n<r)throw qR("Invalid value for '"+e+"'. Expected "+n+" or less.")}function fD(e,t){var n=t.match(/^(\w+):\/\/.+/);return(null==(null==n?void 0:n[1])?"https://"+t:t)+"/v0"+e}function dD(e){var t,n=encodeURIComponent,r="?";for(t in e)e.hasOwnProperty(t)&&(r=r+(n(t)+"=")+n(e[t])+"&");return r.slice(0,-1)}var pD=(vD.prototype.start_=function(){var e,t,n,r,i,o,a,s,u,c=this;function l(e,t){var n,r=c.resolve_,i=c.reject_,o=t.xhr;if(t.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(e){i(e)}else null!==o?((n=FR()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):t.canceled?i(n=(c.appDelete_?VR:jR)()):i(n=new DR("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s||(s=!0,t.apply(null,e))}function d(t){i=setTimeout((function(){i=null,e(p,h())}),t)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s||(e||h()||o?f.call.apply(f,eo([null,e],t)):(r<64&&(r*=2),d(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(e){u||(u=!0,s||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}this.canceled_?l(0,new gD(!1,null,!0)):this.backoffId_=(e=function(e,t){function n(e){var t=e.loaded;e=e.lengthComputable?e.total:-1,null!==c.progressCallback_&&c.progressCallback_(t,e)}t?e(!1,new gD(!1,null,!0)):(t=c.pool_.createXhrIo(),c.pendingXhr_=t,null!==c.progressCallback_&&t.addUploadProgressListener(n),t.send(c.url_,c.method_,c.body_,c.headers_).then((function(t){null!==c.progressCallback_&&t.removeUploadProgressListener(n),c.pendingXhr_=null;var r=t.getErrorCode()===YR.NO_ERROR,i=t.getStatus();r&&!c.isRetryStatusCode_(i)?(i=-1!==c.successCodes_.indexOf(i),e(!0,new gD(i,t))):(t=t.getErrorCode()===YR.ABORT,e(!1,new gD(!1,null,t)))})))},t=l,n=this.timeout_,i=null,u=s=o=!(r=1),d(a=0),setTimeout((function(){o=!0,v(!0)}),n),v)},vD.prototype.getPromise=function(){return this.promise_},vD.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},vD.prototype.isRetryStatusCode_=function(e){var t=500<=e&&e<600,n=-1!==[408,429].indexOf(e);return e=-1!==this.additionalRetryCodes_.indexOf(e),t||n||e},vD);function vD(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}var gD=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function mD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(lD())return new Blob(e);throw new DR("unsupported-environment","This browser doesn't seem to support creating Blobs")}var yD=(bD.prototype.size=function(){return this.size_},bD.prototype.type=function(){return this.type_},bD.prototype.slice=function(e,t){if(cD(this.data_)){var n=this.data_;return null===(r=e,i=t,i=(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new bD(i)}var r,i;return new bD(new Uint8Array(this.data_.buffer,e,t-e),!0)},bD.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(lD()){var n=e.map((function(e){return e instanceof bD?e.data_:e}));return new bD(mD.apply(null,n))}n=e.map((function(e){return uD(e)?GR(WR.RAW,e).data:e.data_}));var r=0;n.forEach((function(e){r+=e.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(e){for(var t=0;t<e.length;t++)i[o++]=e[t]})),new bD(i,!0)},bD.prototype.uploadData=function(){return this.data_},bD);function bD(e,t){var n=0,r="";cD(e)?(n=(this.data_=e).size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}function wD(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function _D(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ED(e,t){return t}var ID=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ED},SD=null;function TD(){if(SD)return SD;var e=[];e.push(new ID("bucket")),e.push(new ID("generation")),e.push(new ID("metageneration")),e.push(new ID("name","fullPath",!0));var t=new ID("name");return t.xform=function(e,t){return!uD(t=t)||t.length<2?t:_D(t)},e.push(t),(t=new ID("size")).xform=function(e,t){return void 0!==t?Number(t):t},e.push(t),e.push(new ID("timeCreated")),e.push(new ID("updated")),e.push(new ID("md5Hash",null,!0)),e.push(new ID("cacheControl",null,!0)),e.push(new ID("contentDisposition",null,!0)),e.push(new ID("contentEncoding",null,!0)),e.push(new ID("contentLanguage",null,!0)),e.push(new ID("contentType",null,!0)),e.push(new ID("metadata","customMetadata",!0)),SD=e}function kD(e,t,n){return null===(t=wD(t))?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath;return r=new iD(n,r),t._makeStorageReference(r)}})}(r,e),r}(e,t,n)}function CD(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var ND="prefixes",AD="items";var xD=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function PD(e){if(!e)throw FR()}function OD(e,t){return function(n,r){return PD(null!==(r=kD(e,r,t))),r}}function RD(e,t){return function(n,r){return PD(null!==(r=function(e,t,n){return null===(n=wD(n))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ND])for(var i=0,o=n[ND];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new iD(t,a));r.prefixes.push(s)}if(n[AD])for(var u=0,c=n[AD];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new iD(t,l.name)),r.items.push(s)}return r}(e,t,n)}(e,t,r))),r}}function DD(e){return function(t,n){var r,i=401===t.getStatus()?new DR("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,new DR("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,new DR("unauthorized","User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function LD(e){var t=DD(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(n=e.path,i=new DR("object-not-found","Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function MD(e,t,n){var r=fD(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime;return(i=new xD(r,"GET",OD(e,n),i)).errorHandler=LD(t),i}function FD(e,t,n){return(n=Object.assign({},n)).fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=(e=t,(t=null)&&t.contentType||e&&e.type()||"application/octet-stream")),n}var jD=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function UD(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){PD(!1)}return PD(!!n&&-1!==(t||["active"]).indexOf(n)),n}var qD=function(e,t,n){"function"==typeof e||null!=t||null!=n?(this.next=e,this.error=t,this.complete=n):(e=e,this.next=e.next,this.error=e.error,this.complete=e.complete)};function VD(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var BD=(zD.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},zD.prototype._shouldDoResumable=function(e){return 262144<e.size()},zD.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},zD.prototype._resolveToken=function(e){var t=this;this._ref.storage._getAuthToken().then((function(n){switch(t._state){case"running":e(n);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},zD.prototype._createResumable=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=FD(t,r,i);return i={name:a.fullPath},o=fD(o,e.host),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=CD(a,n),e=e.maxUploadRetryTime,(e=new xD(o,"POST",(function(e){var t;UD(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){PD(!1)}return PD(uD(t)),t}),e)).urlParams=i,e.headers=r,e.body=n,e.errorHandler=DD(t),e}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);t=e._ref.storage._makeRequest(n,t),(e._request=t).getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},zD.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n){var r=function(e,t,n,r){return e=e.maxUploadRetryTime,(e=new xD(n,"POST",(function(e){var t=UD(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){PD(!1)}n||PD(!1);var i=Number(n);return PD(!isNaN(i)),new jD(i,r.size(),"final"===t)}),e)).headers={"X-Goog-Upload-Command":"query"},e.errorHandler=DD(t),e}(e._ref.storage,e._ref._location,t,e._blob);n=e._ref.storage._makeRequest(r,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},zD.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new jD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=function(e,t,n,r,i,o,a,s){var u=new jD(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new DR("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),i=(a=u.current)+l,c={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},null===(a=r.slice(a,i)))throw UR();return i=t.maxUploadRetryTime,(i=new xD(n,"POST",(function(e,n){var i=UD(e,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?OD(t,o)(e,n):null,new jD(a,s,"final"===i,n)}),i)).headers=c,i.body=a.uploadData(),i.progressCallback=s||null,i.errorHandler=DD(e),i}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(i){return e._error=i,void e._transition("error")}i=e._ref.storage._makeRequest(o,i),(e._request=i).getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},zD.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},zD.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t){var n=MD(e._ref.storage,e._ref._location,e._mappings);t=e._ref.storage._makeRequest(n,t),(e._request=t).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},zD.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=FD(t,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+CD(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",s="\r\n--"+s+"--",null===(r=yD.getBlob(i,r,s)))throw UR();return s={name:u.fullPath},u=fD(o,e.host),o=e.maxUploadRetryTime,(o=new xD(u,"POST",OD(e,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=DD(t),o}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);t=e._ref.storage._makeRequest(n,t),(e._request=t).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},zD.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},zD.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=jR(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},zD.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(zD.prototype,"snapshot",{get:function(){var e=ZR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),zD.prototype.on=function(e,t,n,r){var i=this,o=new qD(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},zD.prototype.then=function(e,t){return this._promise.then(e,t)},zD.prototype.catch=function(e){return this.then(null,e)},zD.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},zD.prototype._removeObserver=function(e){-1!==(e=this._observers.indexOf(e))&&this._observers.splice(e,1)},zD.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},zD.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(ZR(this._state)){case JR.SUCCESS:VD(this._resolve.bind(null,this.snapshot))();break;case JR.CANCELED:case JR.ERROR:VD(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},zD.prototype._notifyObserver=function(e){switch(ZR(this._state)){case JR.RUNNING:case JR.PAUSED:e.next&&VD(e.next.bind(e,this.snapshot))();break;case JR.SUCCESS:e.complete&&VD(e.complete.bind(e))();break;case JR.CANCELED:case JR.ERROR:e.error&&VD(e.error.bind(e,this._error))();break;default:e.error&&VD(e.error.bind(e,this._error))()}},zD.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},zD.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},zD.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},zD);function zD(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=TD(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}var KD=(WD.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},WD.prototype._newRef=function(e,t){return new WD(e,t)},Object.defineProperty(WD.prototype,"root",{get:function(){var e=new iD(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(WD.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(WD.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(WD.prototype,"name",{get:function(){return _D(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(WD.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(WD.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);return null===e?null:(e=new iD(this._location.bucket,e),new WD(this._service,e))},enumerable:!1,configurable:!0}),WD.prototype._throwIfRoot=function(e){if(""===this._location.path)throw BR(e)},WD);function WD(e,t){this._service=e,this._location=t instanceof iD?t:iD.makeFromUrl(t,e.host)}function HD(e,t){return Yi(this,void 0,void 0,(function(){var n,r;return Xi(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&hD("options.maxResults",1,1e3,t.maxResults),[4,e.storage._getAuthToken()];case 1:return n=i.sent(),r=t||{},o=e.storage,a=e._location,"/",s=r.pageToken,u=r.maxResults,c={},a.isRoot?c.prefix="":c.prefix=a.path+"/",0<"/".length&&(c.delimiter="/"),s&&(c.pageToken=s),u&&(c.maxResults=u),s=fD(a.bucketOnlyServerUrl(),o.host),u=o.maxOperationRetryTime,(u=new xD(s,"GET",RD(o,a.bucket),u)).urlParams=c,u.errorHandler=DD(a),[2,e.storage._makeRequest(u,n).getPromise()]}var o,a,s,u,c}))}))}function GD(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage._getAuthToken()];case 1:return t=n.sent(),r=e.storage,i=e._location,o=TD(),a=fD(i.fullServerUrl(),r.host),s=r.maxOperationRetryTime,(s=new xD(a,"GET",function(e,t){return function(n,r){var i=kD(e,r,t);return PD(null!==i),function(e,t,n){if(null===(t=wD(t)))return null;if(!uD(t.downloadTokens))return null;if(0===(t=t.downloadTokens).length)return null;var r=encodeURIComponent;return t.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return fD("/b/"+r(i)+"/o/"+r(o),n)+dD({alt:"media",token:t})}))[0]}(i,r,e.host)}}(r,o),s)).errorHandler=LD(i),[2,e.storage._makeRequest(s,t).getPromise().then((function(e){if(null===e)throw new DR("no-download-url","The given file does not have any download URLs.");return e}))]}var r,i,o,a,s}))}))}function QD(e,t){var n;return n=e._location.path,t=(t=t).split("/").filter((function(e){return 0<e.length})).join("/"),t=0===n.length?t:n+"/"+t,t=new iD(e._location.bucket,t),new KD(e.storage,t)}function $D(e){return/^[A-Za-z]+:\/\//.test(e)}function YD(e,t){if(e instanceof ZD){var n=e;if(null==n._bucket)throw new DR("no-default-bucket","No default bucket found. Did you set the '"+RR+"' property when initializing the app?");return n=new KD(n,n._bucket),null!=t?YD(n,t):n}if(void 0===t)return e;if(t.includes(".."))throw qR('`path` param cannot contain ".."');return QD(e,t)}function XD(e,t){if(t&&$D(t)){if(e instanceof ZD)return new KD(e,t);throw qR("To use ref(service, url), the first argument must be a Storage instance.")}return YD(e,t)}function JD(e,t){return null==(t=null==t?void 0:t[RR])?null:iD.makeFromBucketSpec(t,e)}var ZD=(Object.defineProperty(eL.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=iD.makeFromBucketSpec(this._url,e):this._bucket=JD(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(eL.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){hD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(eL.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){hD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),eL.prototype._getAuthToken=function(){return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(t){switch(t.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(e=t.sent()))return[2,e.accessToken];t.label=2;case 2:return[2,null]}}))}))},eL.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},eL.prototype._makeStorageReference=function(e){return new KD(this,e)},eL.prototype._makeRequest=function(e,t){var n=this;if(this._deleted)return new aD(VR());var r,i,o,a,s,u,c=(r=e,i=this._appId,o=t,a=this._pool,s=this._firebaseVersion,u=dD(r.urlParams),e=r.url+u,u=t=Object.assign({},r.headers),(i=i)&&(u["X-Firebase-GMPID"]=i),i=t,null!==(o=o)&&0<o.length&&(i.Authorization="Firebase "+o),s=s,t["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager"),new pD(e,r.method,t,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a));return this._requests.add(c),c.getPromise().then((function(){return n._requests.delete(c)}),(function(){return n._requests.delete(c)})),c},eL);function eL(e,t,n,r,i){this.app=e,this._authProvider=t,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=OR,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?iD.makeFromBucketSpec(r,this._host):JD(this._host,this.app.options)}function tL(e,t){return XD(e=Ho(e),t)}var nL=(Object.defineProperty(rL.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(rL.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(rL.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(rL.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),rL);function rL(e,t,n){this._delegate=e,this.task=t,this.ref=n}var iL=(Object.defineProperty(oL.prototype,"snapshot",{get:function(){return new nL(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),oL.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new nL(t,n,n._ref))}),t)},oL.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new nL(e,i,i._ref))}:{next:t.next?function(e){return t.next(new nL(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},oL);function oL(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var aL=(Object.defineProperty(sL.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new uL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(sL.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new uL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(sL.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),sL);function sL(e,t){this._delegate=e,this._service=t}var uL=(Object.defineProperty(cL.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(cL.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(cL.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),cL.prototype.toString=function(){return this._delegate.toString()},cL.prototype.child=function(e){return new cL(QD(this._delegate,e),this.storage)},Object.defineProperty(cL.prototype,"root",{get:function(){return new cL(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(cL.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new cL(e,this.storage)},enumerable:!1,configurable:!0}),cL.prototype.put=function(e,t){return this._throwIfRoot("put"),new iL(function(e,t,n){return t=t,n=n,(e=e=Ho(e))._throwIfRoot("uploadBytesResumable"),new BD(e,new yD(t),n)}(this._delegate,e,t),this)},cL.prototype.putString=function(e,t,n){return void 0===t&&(t=WR.RAW),this._throwIfRoot("putString"),e=GR(t,e),null==(n=$i({},n)).contentType&&null!=e.contentType&&(n.contentType=e.contentType),new iL(new BD(this._delegate,new yD(e.data,!0),n),this)},cL.prototype.listAll=function(){var e=this;return function(e){var t={prefixes:[],items:[]};return function e(t,n,r){return Yi(this,void 0,void 0,(function(){var i,o;return Xi(this,(function(a){switch(a.label){case 0:return[4,HD(t,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}(Ho(this._delegate)).then((function(t){return new aL(t,e.storage)}))},cL.prototype.list=function(e){var t=this;return e=e||void 0,HD(Ho(this._delegate),e).then((function(e){return new aL(e,t.storage)}))},cL.prototype.getMetadata=function(){return function(e){return function(e){return Yi(this,void 0,void 0,(function(){var t,n;return Xi(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage._getAuthToken()];case 1:return t=r.sent(),n=MD(e.storage,e._location,TD()),[2,e.storage._makeRequest(n,t).getPromise()]}}))}))}(e=Ho(e))}(this._delegate)},cL.prototype.updateMetadata=function(e){return e=e,function(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage._getAuthToken()];case 1:return n=r.sent(),i=e.storage,o=e._location,a=t,s=TD(),u=fD(o.fullServerUrl(),i.host),c=CD(a,s),a=i.maxOperationRetryTime,(a=new xD(u,"PATCH",OD(i,s),a)).headers={"Content-Type":"application/json; charset=utf-8"},a.body=c,a.errorHandler=LD(o),[2,e.storage._makeRequest(a,n).getPromise()]}var i,o,a,s,u,c}))}))}(Ho(this._delegate),e)},cL.prototype.getDownloadURL=function(){return GD(Ho(this._delegate))},cL.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage._getAuthToken()];case 1:return t=n.sent(),r=e.storage,o=fD((i=e._location).fullServerUrl(),r.host),r=r.maxOperationRetryTime,(r=new xD(o,"DELETE",(function(e,t){}),r)).successCodes=[200,204],r.errorHandler=LD(i),[2,e.storage._makeRequest(r,t).getPromise()]}var r,i,o}))}))}(Ho(this._delegate))},cL.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw BR(e)},cL);function cL(e,t){this._delegate=e,this.storage=t}var lL,hL,fL=(Object.defineProperty(dL.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(dL.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),dL.prototype.ref=function(e){if($D(e))throw qR("ref() expected a child path but got a URL, use refFromURL instead.");return new uL(tL(this._delegate,e),this)},dL.prototype.refFromURL=function(e){if(!$D(e))throw qR("refFromURL() expected a full URL but got a child path, use ref() instead.");try{iD.makeFromUrl(e,this._delegate.host)}catch(e){throw qR("refFromUrl() expected a valid full URL but got an invalid one.")}return new uL(tL(this._delegate,e),this)},dL.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},dL.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},dL.prototype.useEmulator=function(e,t){e=e,t=t,this._delegate.host="http://"+e+":"+t},dL);function dL(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}hL={TaskState:JR,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:WR,Storage:ZD,Reference:uL},(lL=_a).INTERNAL.registerComponent(new Go("storage",(function(e,t){var n=t.instanceIdentifier;return t=e.getProvider("app").getImmediate(),e=e.getProvider("auth-internal"),new fL(t,new ZD(t,e,new nD,n,_a.SDK_VERSION))}),"PUBLIC").setServiceProps(hL).setMultipleInstances(!0)),lL.registerVersion("@firebase/storage","0.5.1");var pL,vL,gL="0.4.11",mL="FB-PERF-TRACE-MEASURE",yL="@firebase/performance/config",bL="@firebase/performance/configexpire",wL=(K="Performance",(kn={})["trace started"]="Trace {$traceName} was started before.",kn["trace stopped"]="Trace {$traceName} is not running.",kn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",kn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",kn["no window"]="Window is not available.",kn["no app id"]="App id is not available.",kn["no project id"]="Project id is not available.",kn["no api key"]="Api key is not available.",kn["invalid cc log"]="Attempted to queue invalid cc event",kn["FB not default"]="Performance can only start when Firebase app instance is the default one.",kn["RC response not ok"]="RC response is not ok",kn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",kn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",kn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",kn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new So("performance",K,kn=kn)),_L=new aa(K);_L.logLevel=ea.INFO;var EL,IL=(SL.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},SL.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},SL.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},SL.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},SL.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},SL.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},SL.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!yo()||(_L.info("IndexedDB is not supported by current browswer"),!1):(_L.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},SL.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},SL.getInstance=function(){return pL=void 0===pL?new SL(vL):pL},SL);function SL(e){if(!(this.window=e))throw wL.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}function TL(e,t){var n=e.length-t.length;if(n<0||1<n)throw wL.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var kL,CL,NL=(AL.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw wL.create("no app id");return e},AL.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw wL.create("no project id");return e},AL.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw wL.create("no api key");return e},AL.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},AL.getInstance=function(){return EL=void 0===EL?new AL:EL},AL);function AL(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=TL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=TL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(K=CL=CL||{})[K.UNKNOWN=0]="UNKNOWN",K[K.VISIBLE=1]="VISIBLE",K[K.HIDDEN=2]="HIDDEN";var xL=["firebase_","google_","ga_"],PL=new RegExp("^[a-zA-Z]\\w*$");function OL(){switch(IL.getInstance().document.visibilityState){case"visible":return CL.VISIBLE;case"hidden":return CL.HIDDEN;default:return CL.UNKNOWN}}var RL=!0;function DL(e){var t,n=function(){var e=IL.getInstance().localStorage;if(e){var t=e.getItem(bL);if(t&&function(e){return Number(e)>Date.now()}(t)){var n=e.getItem(yL);if(n)try{return JSON.parse(n)}catch(e){return}}}}();return n?(ML(n),Promise.resolve()):(t=e,function(){var e=NL.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+NL.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+NL.getInstance().getApiKey();return e=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:NL.getInstance().getAppId(),app_version:gL,sdk_version:"0.0.1"})}),fetch(e).then((function(e){if(e.ok)return e.json();throw wL.create("RC response not ok")}))})).catch((function(){_L.info(LL)})).then(ML).then((function(e){var t=IL.getInstance().localStorage;e&&t&&(t.setItem(yL,JSON.stringify(e)),t.setItem(bL,String(Date.now()+60*NL.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var LL="Could not fetch config, will use default configs";function ML(e){if(!e)return e;var t=NL.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):RL,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=FL(t.tracesSamplingRate),t.logNetworkAfterSampling=FL(t.networkRequestsSamplingRate),e}function FL(e){return Math.random()<=e}var jL,UL=1;function qL(){return UL=2,jL=jL||function(){var e=IL.getInstance().document;return new Promise((function(t){var n;e&&"complete"!==e.readyState?(n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())},e.addEventListener("readystatechange",n)):t()}))}().then((function(){return(e=NL.getInstance().installationsService.getId()).then((function(e){kL=e})),e;var e})).then(DL).then(VL,VL)}function VL(){UL=3}var BL,zL=1e4,KL=3,WL=[],HL=!1;function GL(e){setTimeout((function(){var e,t;if(0!==KL)return WL.length?(t=(e=WL.splice(0,1e3)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=NL.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||_L.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=zL;isNaN(n)||(r=Math.max(n,r)),e=e.logResponseDetails,Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(WL=eo(eo([],t),WL),_L.info("Retry transport request later.")),KL=3,GL(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:NL.getInstance().logSource,log_event:t},e).catch((function(){WL=eo(eo([],e),WL),KL--,_L.info("Tries left: "+KL+"."),GL(zL)}))):GL(zL)}),e)}function QL(e,t){(BL=BL||function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw wL.create("invalid cc log");WL=eo(eo([],WL),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}(XL))(e,t)}function $L(e){var t=NL.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&IL.getInstance().requiredApisAvailable()&&(e.isAuto&&OL()!==CL.VISIBLE||(3===UL?YL(e):qL().then((function(){return YL(e)}),(function(){return YL(e)}))))}function YL(e){var t;!kL||(t=NL.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return QL(e,1)}),0)}function XL(e,t){return(0===t?function(e){return e={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},e={application_info:JL(),network_request_metric:e},JSON.stringify(e)}:function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};return 0!==Object.keys(e.counters).length&&(t.counters=e.counters),e=e.getAttributes(),0!==Object.keys(e).length&&(t.custom_attributes=e),t={application_info:JL(),trace_metric:t},JSON.stringify(t)})(e)}function JL(){return{google_app_id:NL.getInstance().getAppId(),app_instance_id:kL,web_app_info:{sdk_version:gL,page_url:IL.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=IL.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:OL(),effective_connection_type:function(){var e=IL.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var e}var ZL=["_fp","_fcp","_fid"],eM=(tM.prototype.start=function(){if(1!==this.state)throw wL.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},tM.prototype.stop=function(){if(2!==this.state)throw wL.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$L(this)},tM.prototype.record=function(e,t,n){if(e<=0)throw wL.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw wL.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=$i({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}$L(this)},tM.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},tM.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<ZL.indexOf(n))&&n.startsWith("_"))throw wL.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=(e=t,(t=Math.floor(e))<e&&_L.info("Metric value should be an Integer, setting the value as : "+t+"."),t)},tM.prototype.getMetric=function(e){return this.counters[e]||0},tM.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||40<n.length||xL.some((function(e){return n.startsWith(e)}))||!n.match(PL)),i=0!==(i=t).length&&i.length<=100;if(r&&i)this.customAttributes[e]=t;else{if(!r)throw wL.create("invalid attribute name",{attributeName:e});if(!i)throw wL.create("invalid attribute value",{attributeValue:t})}},tM.prototype.getAttribute=function(e){return this.customAttributes[e]},tM.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},tM.prototype.getAttributes=function(){return $i({},this.customAttributes)},tM.prototype.setStartTime=function(e){this.startTimeUs=e},tM.prototype.setDuration=function(e){this.durationUs=e},tM.prototype.calculateTraceMetrics=function(){var e;(e=(e=this.api.getEntriesByName(this.traceMeasure))&&e[0])&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},tM.createOobTrace=function(e,t,n){var r,i=IL.getInstance().getUrl();i&&(r=new tM("_wt_"+i,!0),i=Math.floor(1e3*IL.getInstance().getTimeOrigin()),r.setStartTime(i),e&&e[0]&&(r.setDuration(Math.floor(1e3*e[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),t&&((e=t.find((function(e){return"first-paint"===e.name})))&&e.startTime&&r.putMetric("_fp",Math.floor(1e3*e.startTime)),(t=t.find((function(e){return"first-contentful-paint"===e.name})))&&t.startTime&&r.putMetric("_fcp",Math.floor(1e3*t.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),$L(r))},tM.createUserTimingTrace=function(e){$L(new tM(e,!1,e))},tM);function tM(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=IL.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||mL+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function nM(e){var t,n,r,i=e;i&&void 0!==i.responseStart&&(n=IL.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),e=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:e,timeToResponseCompletedUs:n},t=i,(r=NL.getInstance()).instrumentationEnabled&&(e=t.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],e!==n&&e!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return QL(t,0)}),0)))}function rM(){kL&&(setTimeout((function(){var e,t=IL.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");t.onFirstInputDelay?(e=setTimeout((function(){eM.createOobTrace(n,r),e=void 0}),5e3),t.onFirstInputDelay((function(t){e&&(clearTimeout(e),eM.createOobTrace(n,r,t))}))):eM.createOobTrace(n,r)}),0),setTimeout((function(){for(var e=IL.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)nM(n[t]);e.setupObserver("resource",nM)}),0),setTimeout((function(){for(var e=IL.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)iM(n[t]);e.setupObserver("measure",iM)}),0))}function iM(e){(e=e.name).substring(0,mL.length)!==mL&&eM.createUserTimingTrace(e)}var oM,aM=(sM.prototype.trace=function(e){return new eM(e)},Object.defineProperty(sM.prototype,"instrumentationEnabled",{get:function(){return NL.getInstance().instrumentationEnabled},set:function(e){NL.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(sM.prototype,"dataCollectionEnabled",{get:function(){return NL.getInstance().dataCollectionEnabled},set:function(e){NL.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),sM);function sM(e){this.app=e,IL.getInstance().requiredApisAvailable()&&bo().then((function(e){e&&(HL||(GL(5500),HL=!0),qL().then(rM,rM))})).catch((function(e){_L.info("Environment doesn't support IndexedDB: "+e)}))}(oM=_a).INTERNAL.registerComponent(new Go("performance",(function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw wL.create("FB not default");if("undefined"==typeof window)throw wL.create("no window");return vL=window,NL.getInstance().firebaseAppInstance=e,NL.getInstance().installationsService=t,new aM(e)}(e.getProvider("app").getImmediate(),e=e.getProvider("installations").getImmediate())}),"PUBLIC")),oM.registerVersion("@firebase/performance","0.4.11");var uM,cM,lM="https://www.googletagmanager.com/gtag/js";(K=uM=uM||{}).EVENT="event",K.SET="set",K.CONFIG="config",(K=cM=cM||{}).ADD_SHIPPING_INFO="add_shipping_info",K.ADD_PAYMENT_INFO="add_payment_info",K.ADD_TO_CART="add_to_cart",K.ADD_TO_WISHLIST="add_to_wishlist",K.BEGIN_CHECKOUT="begin_checkout",K.CHECKOUT_PROGRESS="checkout_progress",K.EXCEPTION="exception",K.GENERATE_LEAD="generate_lead",K.LOGIN="login",K.PAGE_VIEW="page_view",K.PURCHASE="purchase",K.REFUND="refund",K.REMOVE_FROM_CART="remove_from_cart",K.SCREEN_VIEW="screen_view",K.SEARCH="search",K.SELECT_CONTENT="select_content",K.SELECT_ITEM="select_item",K.SELECT_PROMOTION="select_promotion",K.SET_CHECKOUT_OPTION="set_checkout_option",K.SHARE="share",K.SIGN_UP="sign_up",K.TIMING_COMPLETE="timing_complete",K.VIEW_CART="view_cart",K.VIEW_ITEM="view_item",K.VIEW_ITEM_LIST="view_item_list",K.VIEW_PROMOTION="view_promotion",K.VIEW_SEARCH_RESULTS="view_search_results";var hM=new aa("@firebase/analytics");(K={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",K["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",K["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",K["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",K["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",K["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",K["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",K["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',K["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var fM=new So("analytics","Analytics",K=K);function dM(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}var pM=new(dM.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},dM.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},dM.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},dM);function vM(e){var t;return Yi(this,void 0,void 0,(function(){var n,r,i,o;return Xi(this,(function(a){switch(a.label){case 0:return n=e.appId,o=e.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(t=o.error)&&void 0!==t&&t.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw fM.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function gM(e,t,n){return void 0===t&&(t=pM),Yi(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return Xi(this,(function(c){if(a=e.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw fM.create("no-app-id");if(i)return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new yM,setTimeout((function(){return Yi(u,void 0,void 0,(function(){return Xi(this,(function(e){return s.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,function e(t,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=pM),Yi(this,void 0,void 0,(function(){var n,s,u,c,l;return Xi(this,(function(h){switch(h.label){case 0:n=t.appId,s=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,mM(r,o)];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return hM.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,vM(t)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(function(e){if(e instanceof Eo&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}(u=h.sent()))return c=503===Number(u.customData.httpStatus)?Wo(a,i.intervalMillis,30):Wo(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),hM.debug("Calling attemptFetch again in "+c+" millis"),[2,e(t,l,r,i)];if(i.deleteThrottleMetadata(n),s)return hM.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}}))}))}({appId:r,apiKey:i,measurementId:o},a,s,t)];if(o)return[2,{measurementId:o,appId:r}];throw fM.create("no-api-key")}))}))}function mM(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(fM.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var yM=(bM.prototype.addEventListener=function(e){this.listeners.push(e)},bM.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},bM);function bM(){this.listeners=[]}var wM,_M,EM={},IM=[],SM={},TM="dataLayer",kM="gtag",CM=!1;function NM(e,t){i=[],vo()&&i.push("This is a browser extension environment."),wo()||i.push("Cookies are not available."),0<i.length&&(i=i.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),i=fM.create("invalid-analytics-context",{errorInfo:i}),hM.warn(i.message));var n,r,i,o,a,s,u=e.options.appId;if(!u)throw fM.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw fM.create("no-api-key");hM.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=EM[u])throw fM.create("already-exists",{id:u});return CM||(a=TM,s=[],Array.isArray(window[a])?s=window[a]:window[a]=s,n=EM,r=IM,i=SM,o=TM,a=kM,s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[o].push(arguments)},window[a]&&"function"==typeof window[a]&&(s=window[a]),window[a]=function(e,t,n,r){return function(i,o,a){return Yi(this,void 0,void 0,(function(){var s;return Xi(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==uM.EVENT?[3,2]:[4,function(e,t,n,r,i){return Yi(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Xi(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(e){var n;if(!(n=(n=a.find((function(t){return t.measurementId===e})))&&t[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return f.sent(),e(uM.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),hM.error(h),[3,5];case 5:return[2]}}))}))}(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==uM.CONFIG?[3,4]:[4,function(e,t,n,r,i,o){return Yi(this,void 0,void 0,(function(){var a,s;return Xi(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(e){return e.measurementId===i})))?[4,t[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),hM.error(s),[3,8];case 8:return e(uM.CONFIG,i,o),[2]}}))}))}(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(uM.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),hM.error(s),[3,7];case 7:return[2]}}))}))}}(s,n,r,i),a={gtagCore:s,wrappedGtag:window[a]},_M=a.wrappedGtag,wM=a.gtagCore,CM=!0),EM[u]=function(e,t,n,r,i,o){return Yi(this,void 0,void 0,(function(){var a,s,u;return Xi(this,(function(c){switch(c.label){case 0:return(a=gM(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&hM.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return hM.error(e)})),t.push(a),s=function(){return Yi(this,void 0,void 0,(function(){var e;return Xi(this,(function(t){switch(t.label){case 0:return yo()?[3,1]:(hM.warn(fM.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,bo()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),hM.warn(fM.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){if(e)return r.getId()})),[4,Promise.all([a,s])];case 1:return u=c.sent(),a=u[0],s=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(lM))return r}}()||(l=o,h=a.measurementId,(f=document.createElement("script")).src=lM+"?l="+l+"&id="+h,f.async=!0,document.head.appendChild(f)),i("js",new Date),(u={}).origin="firebase",u.update=!0,u=u,null!=s&&(u.firebase_id=s),i(uM.CONFIG,a.measurementId,u),[2,a.measurementId]}var l,h,f}))}))}(e,IM,SM,t,wM,TM),{app:e,logEvent:function(e,t,n){(function(e,t,n,r,i){return Yi(this,void 0,void 0,(function(){var o;return Xi(this,(function(a){switch(a.label){case 0:return i&&i.global?(e(uM.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=a.sent(),o=$i($i({},r),{send_to:o}),e(uM.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(_M,EM[u],e,t,n).catch((function(e){return hM.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i;return Xi(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(uM.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(uM.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(_M,EM[u],e,t).catch((function(e){return hM.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i;return Xi(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(uM.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(uM.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(_M,EM[u],e,t).catch((function(e){return hM.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Yi(this,void 0,void 0,(function(){var i,o,a,s,u;return Xi(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(uM.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(uM.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(_M,EM[u],e,t).catch((function(e){return hM.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Yi(this,void 0,void 0,(function(){var n;return Xi(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(EM[u],e).catch((function(e){return hM.error(e)}))},INTERNAL:{delete:function(){return delete EM[u],Promise.resolve()}}}}var AM,xM="analytics";(AM=_a).INTERNAL.registerComponent(new Go(xM,(function(e){return NM(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:function(e){if(CM)throw fM.create("already-initialized");e.dataLayerName&&(TM=e.dataLayerName),e.gtagName&&(kM=e.gtagName)},EventName:cM,isSupported:function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:if(vo())return[2,!1];if(!wo())return[2,!1];if(!yo())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,bo()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}})),AM.INTERNAL.registerComponent(new Go("analytics-internal",(function(e){try{return{logEvent:e.getProvider(xM).getImmediate().logEvent}}catch(e){throw fM.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),AM.registerVersion("@firebase/analytics","0.6.9");var PM=(OM.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t;return t=n<=e,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+t+"."),t},OM.prototype.fetch=function(e){return Yi(this,void 0,void 0,(function(){var t,n,r;return Xi(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),t=r[0],(r=r[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},OM);function OM(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}(K={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",K["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",K["registration-api-key"]="Undefined API key. Check Firebase app initialization.",K["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",K["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",K["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",K["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",K["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",K["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",K["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',K["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',K["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",K["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var RM=new So("remoteconfig","Remote Config",K=K),DM=(LM.prototype.fetch=function(e){return Yi(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l;return Xi(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),t=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:r,app_id:this.appId,language_code:(f=void 0===f?navigator:f).languages&&f.languages[0]||f.language},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),RM.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),RM.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw RM.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},LM);function LM(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var MM=(FM.prototype.addEventListener=function(e){this.listeners.push(e)},FM.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},FM);function FM(){this.listeners=[]}var jM=["1","true","t","yes","y","on"],UM=(qM.prototype.asString=function(){return this._value},qM.prototype.asBoolean=function(){return"static"!==this._source&&0<=jM.indexOf(this._value.toLowerCase())},qM.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)?0:e},qM.prototype.getSource=function(){return this._source},qM);function qM(e,t){void 0===t&&(t=""),this._source=e,this._value=t}var VM=(BM.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ea.DEBUG;break;case"silent":this._logger.logLevel=ea.SILENT;break;default:this._logger.logLevel=ea.ERROR}},Object.defineProperty(BM.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(BM.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),BM.prototype.activate=function(){return Yi(this,void 0,void 0,(function(){var e,t;return Xi(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=n.sent(),e=t[0],t=t[1],e&&e.config&&e.eTag&&e.eTag!==t?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},BM.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},BM.prototype.fetch=function(){return Yi(this,void 0,void 0,(function(){var e,t,n,r=this;return Xi(this,(function(i){switch(i.label){case 0:e=new MM,setTimeout((function(){return Yi(r,void 0,void 0,(function(){return Xi(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),"fetch-throttle",n=(o=t)instanceof Eo&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o}))}))},BM.prototype.fetchAndActivate=function(){return Yi(this,void 0,void 0,(function(){return Xi(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},BM.prototype.getAll=function(){var e=this;return function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.keys($i($i({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},BM.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},BM.prototype.getNumber=function(e){return this.getValue(e).asNumber()},BM.prototype.getString=function(e){return this.getValue(e).asString()},BM.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new UM("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new UM("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new UM("static"))},BM);function BM(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function zM(e,t){return e=e.target.error||void 0,RM.create(t,{originalErrorMessage:e&&e.message})}var KM="app_namespace_store",WM=(HM.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},HM.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},HM.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},HM.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},HM.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},HM.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},HM.prototype.getActiveConfig=function(){return this.get("active_config")},HM.prototype.setActiveConfig=function(e){return this.set("active_config",e)},HM.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},HM.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},HM.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},HM.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},HM.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},HM.prototype.get=function(e){return Yi(this,void 0,void 0,(function(){var t,n=this;return Xi(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([KM],"readonly").objectStore(KM),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(zM(e,"storage-get"))},s.onsuccess=function(e){e=e.target.result,r(e?e.value:void 0)}}catch(o){i(RM.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},HM.prototype.set=function(e,t){return Yi(this,void 0,void 0,(function(){var n,r=this;return Xi(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([KM],"readwrite").objectStore(KM),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(zM(e,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(RM.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},HM.prototype.delete=function(e){return Yi(this,void 0,void 0,(function(){var t,n=this;return Xi(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([KM],"readwrite").objectStore(KM),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(zM(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(RM.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},HM.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},HM);function HM(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(zM(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(KM,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}var GM=(QM.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},QM.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},QM.prototype.getActiveConfig=function(){return this.activeConfig},QM.prototype.loadFromStorage=function(){return Yi(this,void 0,void 0,(function(){var e,t,n;return Xi(this,(function(r){switch(r.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(e=r.sent())&&(this.lastFetchStatus=e),[4,t];case 2:return(t=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=t),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},QM.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},QM.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},QM.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},QM);function QM(e){this.storage=e}var $M=(YM.prototype.fetch=function(e){return Yi(this,void 0,void 0,(function(){var t;return Xi(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},YM.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Yi(this,void 0,void 0,(function(){var t,i;return Xi(this,(function(o){switch(o.label){case 0:return[4,(a=e.signal,s=n,new Promise((function(e,t){var n=Math.max(s-Date.now(),0),r=setTimeout(e,n);a.addEventListener((function(){clearTimeout(r),t(RM.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,t];case 5:if(!function(e){if(e instanceof Eo&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+Wo(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(e,i)];case 7:return[2]}var a,s}))}))},YM);function YM(e,t){this.client=e,this.storage=t}var XM,JM="@firebase/remote-config";return(XM=_a).INTERNAL.registerComponent(new Go("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw RM.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw RM.create("registration-project-id");if(!s)throw RM.create("registration-api-key");if(!u)throw RM.create("registration-app-id");return n=n||"firebase",t=new WM(u,r.name,n),e=new GM(t),(o=new aa(JM)).logLevel=ea.ERROR,u=new DM(i,XM.SDK_VERSION,n,a,s,u),u=new $M(u,t),u=new PM(u,t,e,o),(o=new VM(r,u,e,t,o)).ensureInitialized(),o}),"PUBLIC").setMultipleInstances(!0)),XM.registerVersion(JM,"0.1.36"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),_a.registerVersion("firebase","8.4.2","cdn"),_a}()},679:(e,t,n)=>{"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!(o[m]||r&&r[m]||v&&v[m]||s&&s[m])){var y=f(n,m);try{c(t,m,y)}catch(e){}}}}return t}},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,I=60106,S=60107,T=60108,k=60114,C=60109,N=60110,A=60112,x=60113,P=60120,O=60115,R=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),I=U("react.portal"),S=U("react.fragment"),T=U("react.strict_mode"),k=U("react.profiler"),C=U("react.provider"),N=U("react.context"),A=U("react.forward_ref"),x=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var q,V="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===q)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case k:return"Profiler";case T:return"StrictMode";case x:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,ge=(ve=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ce=null,Ne=null;function Ae(e){if(e=Zr(e)){if("function"!=typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ti(t),ke(e.stateNode,e.type,t))}}function xe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Oe,Me=!1,Fe=!1;function je(){null===Ce&&null===Ne||(De(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(h)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){qe=!1}function Be(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Ke=null,We=!1,He=null,Ge={onError:function(e){ze=!0,Ke=e}};function Qe(e,t,n,r,i,o,a,s,u){ze=!1,Ke=null,Be.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=Zr(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Jr(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Zr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=Zr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},St={},Tt={};function kt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=kt("animationend"),Nt=kt("animationiteration"),At=kt("animationstart"),xt=kt("transitionend"),Pt=new Map,Ot=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ut(10,t):e;case 10:return 0===(e=qt(192&~t))?Ut(8,t):e;case 8:return 0===(e=qt(3584&~t))&&0===(e=qt(4186112&~t))&&(e=512),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Me||De();var i=Xt,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||je()}}function Yt(e,t,n,r){Gt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=vt(at,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,vt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=Jr(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),dn=i({},hn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(vn),mn=sn(i({},vn,{dataTransfer:0})),yn=sn(i({},dn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=sn(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return Tn}var Cn=sn(i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Nn=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),xn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=sn(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),On=[9,13,27,32],Rn=h&&"CompositionEvent"in window,Dn=null;h&&"documentMode"in document&&(Dn=document.documentMode);var Ln=h&&"TextEvent"in window&&!Dn,Mn=h&&(!Rn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Rr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Gn(e){Tr(e,0)}function Qn(e){if(X(ei(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(h){var Xn;if(h){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Hn=Wn=null)}function tr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];if(Kn(t,Hn,e,Te(e)),e=Gn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,je()}}}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ir(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ar="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},sr=Object.prototype.hasOwnProperty;function ur(e,t){if(ar(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!sr.call(t,n[r])||!ar(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var pr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,mr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==J(r)||(r="selectionStart"in(r=vr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Rr(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<wr.length;_r++)Ot.set(wr[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=Ke;ze=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Sr(i,s,c),o=u}}}if(We)throw e=He,We=!1,He=null,e}function kr(e,t){var n=ni(t),r=e+"__bubble";n.has(r)||(xr(t,e,2,!1),n.add(r))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){Ir.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ni(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),xr(o,e,i,t),a.add(s))}function xr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Jr(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Pt.get(e);if(void 0!==s){var u=fn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ct:case Nt:case At:u=bn;break;case xt:u=xn;break;case"scroll":u=pn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!=(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&null!=(v=Ue(p,f))&&l.push(Or(p,v,d))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!Jr(c)&&!c[Yr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jr(c):null)&&(c!==(h=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ei(u),d=null==c?s:ei(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,Jr(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Dr(d))p++;for(d=0,v=f;v;v=Dr(v))d++;for(;0<p-d;)l=Dr(l),p--;for(;0<d-p;)f=Dr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Dr(l),f=Dr(f)}l=null}else l=null;null!==u&&Lr(a,s,u,l,!1),null!==c&&null!==h&&Lr(a,h,c,l,!0)}if("select"===(u=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=$n;else if(zn(s))if(Yn)g=or;else{g=rr;var m=nr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ei(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(vr=m,gr=r,mr=null);break;case"focusout":mr=gr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(m=Rr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:m}),(y||null!==(y=qn(n)))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&Un(e,t)?(e=nn(),tn=en=Zt=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(r=Rr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Tr(a,t)}))}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Or(e,o,i)),null!=(o=Ue(e,t))&&r.push(Or(e,o,i))),e=e.return}return r}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,o))&&a.unshift(Or(n,u,s)):i||null!=(u=Ue(n,o))&&a.push(Or(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Mr(){}var Fr=null,jr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,Br="function"==typeof clearTimeout?clearTimeout:void 0;function zr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,Gr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Gr,$r="__reactProps$"+Gr,Yr="__reactContainer$"+Gr,Xr="__reactEvents$"+Gr;function Jr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Qr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function Zr(e){return!(e=e[Qr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ti(e){return e[$r]||null}function ni(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Set),t}var ri=[],ii=-1;function oi(e){return{current:e}}function ai(e){0>ii||(e.current=ri[ii],ri[ii]=null,ii--)}function si(e,t){ii++,ri[ii]=e.current,e.current=t}var ui={},ci=oi(ui),li=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function di(e){return null!=e.childContextTypes}function pi(){ai(li),ai(ci)}function vi(e,t,n){if(ci.current!==ui)throw Error(a(168));si(ci,t),si(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,si(ci,e),si(li,li.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ci),si(ci,e)):ai(li),si(li,n)}var bi=null,wi=null,_i=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ti=o.unstable_requestPaint,ki=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,xi=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Ri={},Di=void 0!==Ti?Ti:function(){},Li=null,Mi=null,Fi=!1,ji=ki(),Ui=1e4>ji?ki:function(){return ki()-ji};function qi(){switch(Ci()){case Ni:return 99;case Ai:return 98;case xi:return 97;case Pi:return 96;case Oi:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Ni;case 98:return Ai;case 97:return xi;case 96:return Pi;case 95:return Oi;default:throw Error(a(332))}}function Bi(e,t){return e=Vi(e),_i(e,t)}function zi(e,t,n){return e=Vi(e),Ei(e,t,n)}function Ki(){if(null!==Mi){var e=Mi;Mi=null,Ii(e)}Wi()}function Wi(){if(!Fi&&null!==Li){Fi=!0;var e=0;try{var t=Li;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ei(Ni,Ki),t}finally{Fi=!1}}}var Hi=_.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=oi(null),$i=null,Yi=null,Xi=null;function Ji(){Xi=Yi=$i=null}function Zi(e){var t=Qi.current;ai(Qi),e.type._context._currentValue=t}function eo(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function to(e,t){$i=e,Xi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ra=!0),e.firstContext=null)}function no(e,t){if(Xi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Xi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===$i)throw Error(a(308));Yi=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var ro=!1;function io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function co(e,t,n,r){var o=e.updateQueue;ro=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"==typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=v.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:ro=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Ls|=s,e.lanes=s,e.memoizedState=f}}function lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var ho=(new r.Component).refs;function fo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=au(),i=su(e),o=ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),so(e,o),uu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=au(),r=su(e),i=ao(n,r);i.tag=2,null!=t&&(i.callback=t),so(e,i),uu(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&ur(n,r)&&ur(i,o))}function go(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=di(t)?hi:ci.current,o=(r=null!=(r=t.contextTypes))?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,io(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=di(t)?hi:ci.current,i.context=fi(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&po.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Vu(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Vu(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case I:return(t=Wu(t,e.mode,n)).return=e,t}if(bo(t)||B(t))return(t=Bu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===S?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(bo(n)||B(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===S?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var m=d(i,h,s[v],u);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,h=g}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=B(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,v=m}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,c))&&(s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===S){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===S?((r=Bu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Vu(o.type,o.key,o.props,null,e.mode,u)).ref=wo(e,r,o),u.return=e,e=u)}return s(e);case I:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Wu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ku(o,e.mode,u)).return=e,e=r),s(e);if(bo(o))return v(e,r,o,u);if(B(o))return g(e,r,o,u);if(l&&_o(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Io=Eo(!0),So=Eo(!1),To={},ko=oi(To),Co=oi(To),No=oi(To);function Ao(e){if(e===To)throw Error(a(174));return e}function xo(e,t){switch(si(No,t),si(Co,e),si(ko,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(ko),si(ko,t)}function Po(){ai(ko),ai(Co),ai(No)}function Oo(e){Ao(No.current);var t=Ao(ko.current),n=de(t,e.type);t!==n&&(si(Co,e),si(ko,n))}function Ro(e){Co.current===e&&(ai(ko),ai(Co))}var Do=oi(0);function Lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=null,Fo=null,jo=!1;function Uo(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Vo(e){if(jo){var t=Fo;if(t){var n=t;if(!qo(e,t)){if(!(t=Kr(n.nextSibling))||!qo(e,t))return e.flags=-1025&e.flags|2,jo=!1,void(Mo=e);Uo(Mo,n)}Mo=e,Fo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,jo=!1,Mo=e}}function Bo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Mo=e}function zo(e){if(e!==Mo)return!1;if(!jo)return Bo(e),jo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Fo;t;)Uo(e,t),t=Kr(t.nextSibling);if(Bo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Mo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Fo=Mo=null,jo=!1}var Wo=[];function Ho(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Go=_.ReactCurrentDispatcher,Qo=_.ReactCurrentBatchConfig,$o=0,Yo=null,Xo=null,Jo=null,Zo=!1,ea=!1;function ta(){throw Error(a(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){if($o=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=null===e||null===e.memoizedState?Aa:xa,e=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Jo=Xo=null,t.updateQueue=null,Go.current=Pa,e=n(r,i)}while(ea)}if(Go.current=Na,t=null!==Xo&&null!==Xo.next,$o=0,Jo=Xo=Yo=null,Zo=!1,t)throw Error(a(300));return e}function ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e,Jo}function oa(){if(null===Xo){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Xo.next;var t=null===Jo?Yo.memoizedState:Jo.next;if(null!==t)Jo=t,Xo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Xo=e).memoizedState,baseState:Xo.baseState,baseQueue:Xo.baseQueue,queue:Xo.queue,next:null},null===Jo?Yo.memoizedState=Jo=e:Jo=Jo.next=e}return Jo}function aa(e,t){return"function"==typeof t?t(e):t}function sa(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Xo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if(($o&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,Yo.lanes|=l,Ls|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,ar(r,t.memoizedState)||(Ra=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ua(e){var t=oa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(Ra=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ca(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($o&e)===e)&&(t._workInProgressVersionPrimary=r,Wo.push(t))),e)return n(t._source);throw Wo.push(t),Error(a(350))}function la(e,t,n,r){var i=Cs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Go.current,c=u.useState((function(){return ca(i,t,n)})),l=c[1],h=c[0];c=Jo;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var g=Yo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!ar(s,e)){e=n(t._source),ar(h,e)||(l(e),e=su(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=su(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ar(p,n)&&ar(v,t)&&ar(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:h}).dispatch=l=Ca.bind(null,Yo,e),c.queue=e,c.baseQueue=null,h=ca(i,t,n),c.memoizedState=c.baseState=h),h}function ha(e,t,n){return la(oa(),e,t,n)}function fa(e){var t=ia();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e}).dispatch=Ca.bind(null,Yo,e),[t.memoizedState,e]}function da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pa(e){return e={current:e},ia().memoizedState=e}function va(){return oa().memoizedState}function ga(e,t,n,r){var i=ia();Yo.flags|=e,i.memoizedState=da(1|t,n,void 0,void 0===r?null:r)}function ma(e,t,n,r){var i=oa();r=void 0===r?null:r;var o=void 0;if(null!==Xo){var a=Xo.memoizedState;if(o=a.destroy,null!==r&&na(r,a.deps))return void da(t,n,o,r)}Yo.flags|=e,i.memoizedState=da(1|t,n,o,r)}function ya(e,t){return ga(516,4,e,t)}function ba(e,t){return ma(516,4,e,t)}function wa(e,t){return ma(4,2,e,t)}function _a(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(e,t,n){return n=null!=n?n.concat([e]):null,ma(4,2,_a.bind(null,t,e),n)}function Ia(){}function Sa(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ka(e,t){var n=qi();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ca(e,t,n){var r=au(),i=su(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Yo||null!==a&&a===Yo)ea=Zo=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,ar(u,s))return}catch(e){}uu(e,i,r)}}var Na={readContext:no,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useMutableSource:ta,useOpaqueIdentifier:ta,unstable_isNewReconciler:!1},Aa={readContext:no,useCallback:function(e,t){return ia().memoizedState=[e,void 0===t?null:t],e},useContext:no,useEffect:ya,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ga(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ca.bind(null,Yo,e),[r.memoizedState,e]},useRef:pa,useState:fa,useDebugValue:Ia,useDeferredValue:function(e){var t=fa(e),n=t[0],r=t[1];return ya((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(!1),t=e[0];return pa(e=ka.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ia();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},la(r,e,t,n)},useOpaqueIdentifier:function(){if(jo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(a(355))})),n=fa(t)[1];return 0==(2&Yo.mode)&&(Yo.flags|=516,da(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return fa(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},xa={readContext:no,useCallback:Sa,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Ta,useReducer:sa,useRef:va,useState:function(){return sa(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=sa(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=sa(aa)[0];return[va().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return sa(aa)[0]},unstable_isNewReconciler:!1},Pa={readContext:no,useCallback:Sa,useContext:no,useEffect:ba,useImperativeHandle:Ea,useLayoutEffect:wa,useMemo:Ta,useReducer:ua,useRef:va,useState:function(){return ua(aa)},useDebugValue:Ia,useDeferredValue:function(e){var t=ua(aa),n=t[0],r=t[1];return ba((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ua(aa)[0];return[va().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return ua(aa)[0]},unstable_isNewReconciler:!1},Oa=_.ReactCurrentOwner,Ra=!1;function Da(e,t,n,r){t.child=null===e?So(t,null,n,r):Io(t,e.child,n,r)}function La(e,t,n,r,i){n=n.render;var o=t.ref;return to(t,i),r=ra(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Uu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?Za(e,t,o):(t.flags|=1,(e=qu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ra=!1,0==(o&i))return t.lanes=e.lanes,Za(e,t,o);0!=(16384&e.flags)&&(Ra=!0)}return qa(e,t,n,r,o)}function ja(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gu(0,e),null;t.memoizedState={baseLanes:0},gu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,gu(0,r);return Da(e,t,i,n),t.child}function Ua(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qa(e,t,n,r,i){var o=di(n)?hi:ci.current;return o=fi(t,o),to(t,i),n=ra(e,t,n,r,o,i),null===e||Ra?(t.flags|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Za(e,t,i))}function Va(e,t,n,r,i){if(di(n)){var o=!0;mi(t)}else o=!1;if(to(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),go(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?no(c):fi(t,c=di(n)?hi:ci.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&mo(t,a,r,c),ro=!1;var f=t.memoizedState;a.state=f,co(t,r,a,i),u=t.memoizedState,s!==r||f!==u||li.current||ro?("function"==typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=ro||vo(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Gi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,u="object"==typeof(u=n.contextType)&&null!==u?no(u):fi(t,u=di(n)?hi:ci.current);var d=n.getDerivedStateFromProps;(l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||f!==u)&&mo(t,a,r,u),ro=!1,f=t.memoizedState,a.state=f,co(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||li.current||ro?("function"==typeof d&&(fo(t,n,d,r),p=t.memoizedState),(c=ro||vo(t,n,c,r,f,p,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){Ua(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&yi(t,n,!1),Za(e,t,o);r=t.stateNode,Oa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function za(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),xo(e,t.containerInfo)}var Ka,Wa,Ha,Ga={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Do.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),si(Do,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,e):"number"==typeof i.unstable_expectedLoadTime?(e=$a(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ga,t.lanes=33554432,e):((n=zu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qu(a,s),null!==e?r=qu(e,r):(r=Bu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ga,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=qu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function $a(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=zu(t,i,0,null),n=Bu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Ya(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),eo(e.return,t)}function Xa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function Ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ya(e,n);else if(19===e.tag)Ya(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function es(e,t){if(!jo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&pi(),null;case 3:return Po(),ai(li),ai(ci),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ro(t);var o=Ao(No.current);if(n=t.type,null!==e&&null!=t.stateNode)Wa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ao(ko.current),zo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[$r]=s,n){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)kr(Er[e],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":ee(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":ue(r,s),kr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&kr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Mr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[$r]=r,Ka(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":kr("cancel",e),kr("close",e),o=r;break;case"iframe":case"object":case"embed":kr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)kr(Er[o],e);o=r;break;case"source":kr("error",e),o=r;break;case"img":case"image":case"link":kr("error",e),kr("load",e),o=r;break;case"details":kr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),kr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),kr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),kr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&me(e,h):"number"==typeof h&&me(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&kr("scroll",e):null!=h&&w(e,s,h,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Mr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Ao(No.current),Ao(ko.current),zo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ai(Do),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&zo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?0===Os&&(Os=3):(0!==Os&&3!==Os||(Os=4),null===Cs||0==(134217727&Ls)&&0==(134217727&Ms)||fu(Cs,As))),(r||n)&&(t.flags|=4),null);case 4:return Po(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return Zi(t),null;case 17:return di(t.type)&&pi(),null;case 19:if(ai(Do),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)es(r,!1);else{if(0!==Os||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Lo(e))){for(t.flags|=64,es(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return si(Do,1&Do.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>qs&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Lo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),es(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!jo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,es(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=Do.current,si(Do,s?1&t|2:1&t),n):null;case 23:case 24:return mu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ns(e){switch(e.tag){case 1:di(e.type)&&pi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Po(),ai(li),ai(ci),Ho(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ro(e),null;case 13:return ai(Do),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ai(Do),null;case 4:return Po(),null;case 10:return Zi(e),null;case 23:case 24:return mu(),null;default:return null}}function rs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function is(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ao(ko.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Mr)}for(h in Ie(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&kr("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ha=function(e,t,n,r){n!==r&&(t.flags|=4)};var os="function"==typeof WeakMap?WeakMap:Map;function as(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),is(0,t)},n}function ss(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return is(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this),is(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var us="function"==typeof WeakSet?WeakSet:Set;function cs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Du(e,t)}else t.current=null}function ls(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&zr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pu(n,e),xu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&lo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}lo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function fs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ds(e,t){if(wi&&"function"==typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pu(t,n);else{r=t;try{i()}catch(e){Du(r,e)}}n=n.next}while(n!==e)}break;case 1:if(cs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Du(t,e)}break;case 5:cs(t);break;case 4:bs(e,t)}}function ps(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(vs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ms(e,n,t):ys(e,n,t)}function ms(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Mr));else if(4!==r&&null!==(e=e.child))for(ms(e,t,n),e=e.sibling;null!==e;)ms(e,t,n),e=e.sibling}function ys(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function bs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ds(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ds(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?me(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Us=Ui(),fs(t.child,!0)),void _s(t);case 19:return void _s(t);case 17:return;case 23:case 24:return void fs(t,null!==t.memoizedState)}throw Error(a(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=Mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Is=Math.ceil,Ss=_.ReactCurrentDispatcher,Ts=_.ReactCurrentOwner,ks=0,Cs=null,Ns=null,As=0,xs=0,Ps=oi(0),Os=0,Rs=null,Ds=0,Ls=0,Ms=0,Fs=0,js=null,Us=0,qs=1/0;function Vs(){qs=Ui()+500}var Bs,zs=null,Ks=!1,Ws=null,Hs=null,Gs=!1,Qs=null,$s=90,Ys=[],Xs=[],Js=null,Zs=0,eu=null,tu=-1,nu=0,ru=0,iu=null,ou=!1;function au(){return 0!=(48&ks)?Ui():-1!==tu?tu:tu=Ui()}function su(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===qi()?1:2;if(0===nu&&(nu=Ds),0!==Hi.transition){0!==ru&&(ru=null!==js?js.pendingLanes:0),e=nu;var t=4186112&~ru;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=qi(),e=Ut(0!=(4&ks)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nu)}function uu(e,t,n){if(50<Zs)throw Zs=0,eu=null,Error(a(185));if(null===(e=cu(e,t)))return null;Bt(e,t,n),e===Cs&&(Ms|=t,4===Os&&fu(e,As));var r=qi();1===t?0!=(8&ks)&&0==(48&ks)?du(e):(lu(e,n),0===ks&&(Vs(),Ki())):(0==(4&ks)||98!==r&&99!==r||(null===Js?Js=new Set([e]):Js.add(e)),lu(e,n)),js=e}function cu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function lu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Cs?As:0),t=Lt,0===r)null!==n&&(n!==Ri&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&Ii(n)}15===t?(n=du.bind(null,e),null===Li?(Li=[n],Mi=Ei(Ni,Wi)):Li.push(n),n=Ri):n=14===t?zi(99,du.bind(null,e)):zi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),hu.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(tu=-1,ru=nu=0,0!=(48&ks))throw Error(a(327));var t=e.callbackNode;if(Au()&&e.callbackNode!==t)return null;var n=Ft(e,e===Cs?As:0);if(0===n)return null;var r=n,i=ks;ks|=16;var o=wu();for(Cs===e&&As===r||(Vs(),yu(e,r));;)try{Iu();break}catch(t){bu(e,t)}if(Ji(),Ss.current=o,ks=i,null!==Ns?r=0:(Cs=null,As=0,r=Os),0!=(Ds&Ms))yu(e,0);else if(0!==r){if(2===r&&(ks|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(n=jt(e))&&(r=_u(e,n))),1===r)throw t=Rs,yu(e,0),fu(e,n),lu(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:ku(e);break;case 3:if(fu(e,n),(62914560&n)===n&&10<(r=Us+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){au(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(ku.bind(null,e),r);break}ku(e);break;case 4:if(fu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=Vr(ku.bind(null,e),n);break}ku(e);break;case 5:ku(e);break;default:throw Error(a(329))}}return lu(e,Ui()),e.callbackNode===t?hu.bind(null,e):null}function fu(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!=(48&ks))throw Error(a(327));if(Au(),e===Cs&&0!=(e.expiredLanes&As)){var t=As,n=_u(e,t);0!=(Ds&Ms)&&(n=_u(e,t=Ft(e,t)))}else n=_u(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(ks|=64,e.hydrate&&(e.hydrate=!1,zr(e.containerInfo)),0!==(t=jt(e))&&(n=_u(e,t))),1===n)throw n=Rs,yu(e,0),fu(e,t),lu(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e),lu(e,Ui()),null}function pu(e,t){var n=ks;ks|=1;try{return e(t)}finally{0===(ks=n)&&(Vs(),Ki())}}function vu(e,t){var n=ks;ks&=-2,ks|=8;try{return e(t)}finally{0===(ks=n)&&(Vs(),Ki())}}function gu(e,t){si(Ps,xs),xs|=t,Ds|=t}function mu(){xs=Ps.current,ai(Ps)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&pi();break;case 3:Po(),ai(li),ai(ci),Ho();break;case 5:Ro(r);break;case 4:Po();break;case 13:case 19:ai(Do);break;case 10:Zi(r);break;case 23:case 24:mu()}n=n.return}Cs=e,Ns=qu(e.current,null),As=xs=Ds=t,Os=0,Rs=null,Fs=Ms=Ls=0}function bu(e,t){for(;;){var n=Ns;try{if(Ji(),Go.current=Na,Zo){for(var r=Yo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Zo=!1}if($o=0,Jo=Xo=Yo=null,ea=!1,Ts.current=null,null===n||null===n.return){Os=1,Rs=t,Ns=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=As,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Do.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var m=new Set;m.add(c),f.updateQueue=m}else g.add(c);if(0==(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ao(-1,1);y.tag=2,so(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new os,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Lu.bind(null,o,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Os&&(Os=2),u=rs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,uo(f,as(0,o,t));break e;case 1:o=u;var _=f.type,E=f.stateNode;if(0==(64&f.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Hs||!Hs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,uo(f,ss(f,o,t));break e}}f=f.return}while(null!==f)}Tu(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function wu(){var e=Ss.current;return Ss.current=Na,null===e?Na:e}function _u(e,t){var n=ks;ks|=16;var r=wu();for(Cs===e&&As===t||yu(e,t);;)try{Eu();break}catch(t){bu(e,t)}if(Ji(),ks=n,Ss.current=r,null!==Ns)throw Error(a(261));return Cs=null,As=0,Os}function Eu(){for(;null!==Ns;)Su(Ns)}function Iu(){for(;null!==Ns&&!Si();)Su(Ns)}function Su(e){var t=Bs(e.alternate,e,xs);e.memoizedProps=e.pendingProps,null===t?Tu(e):Ns=t,Ts.current=null}function Tu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ts(n,t,xs)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&xs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ns(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Os&&(Os=5)}function ku(e){var t=qi();return Bi(99,Cu.bind(null,e,t)),null}function Cu(e,t){do{Au()}while(null!==Qs);if(0!=(48&ks))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==Js&&0==(24&r)&&Js.has(e)&&Js.delete(e),e===Cs&&(Ns=Cs=null,As=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=ks,ks|=32,Ts.current=null,Fr=Qt,dr(s=fr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,g=s,m=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(d=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===s)break t;if(m===u&&++p===o&&(f=h),m===c&&++v===l&&(d=h),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;jr={focusedElem:s,selectionRange:u},Qt=!1,iu=null,ou=!1,zs=r;do{try{Nu()}catch(e){if(null===zs)throw Error(a(330));Du(zs,e),zs=zs.nextEffect}}while(null!==zs);iu=null,zs=r;do{try{for(s=e;null!==zs;){var b=zs.flags;if(16&b&&me(zs.stateNode,""),128&b){var w=zs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:gs(zs),zs.flags&=-3;break;case 6:gs(zs),zs.flags&=-3,ws(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,ws(zs.alternate,zs);break;case 4:ws(zs.alternate,zs);break;case 8:bs(s,u=zs);var E=u.alternate;ps(u),null!==E&&ps(E)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Du(zs,e),zs=zs.nextEffect}}while(null!==zs);if(_=jr,w=fr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&dr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!_.extend&&E>s&&(u=s,s=E,E=u),u=lr(b,E),o=lr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qt=!!Fr,jr=Fr=null,e.current=n,zs=r;do{try{for(b=e;null!==zs;){var I=zs.flags;if(36&I&&hs(b,zs.alternate,zs),128&I){w=void 0;var S=zs.ref;if(null!==S){var T=zs.stateNode;switch(zs.tag){case 5:w=T;break;default:w=T}"function"==typeof S?S(w):S.current=w}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Du(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Di(),ks=i}else e.current=n;if(Gs)Gs=!1,Qs=e,$s=t;else for(zs=r;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((I=zs).sibling=null,I.stateNode=null),zs=t;if(0===(r=e.pendingLanes)&&(Hs=null),1===r?e===eu?Zs++:(Zs=0,eu=e):Zs=0,n=n.stateNode,wi&&"function"==typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64==(64&n.current.flags))}catch(e){}if(lu(e,Ui()),Ks)throw Ks=!1,e=Ws,Ws=null,e;return 0!=(8&ks)||Ki(),null}function Nu(){for(;null!==zs;){var e=zs.alternate;ou||null===iu||(0!=(8&zs.flags)?Ze(zs,iu)&&(ou=!0):13===zs.tag&&Es(e,zs)&&Ze(zs,iu)&&(ou=!0));var t=zs.flags;0!=(256&t)&&ls(e,zs),0==(512&t)||Gs||(Gs=!0,zi(97,(function(){return Au(),null}))),zs=zs.nextEffect}}function Au(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Bi(e,Ou)}return!1}function xu(e,t){Ys.push(t,e),Gs||(Gs=!0,zi(97,(function(){return Au(),null})))}function Pu(e,t){Xs.push(t,e),Gs||(Gs=!0,zi(97,(function(){return Au(),null})))}function Ou(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&ks))throw Error(a(331));var t=ks;ks|=32;var n=Xs;Xs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Du(o,e)}}for(n=Ys,Ys=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Du(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return ks=t,Ki(),!0}function Ru(e,t,n){so(e,t=as(0,t=rs(n,t),1)),t=au(),null!==(e=cu(e,1))&&(Bt(e,1,t),lu(e,t))}function Du(e,t){if(3===e.tag)Ru(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ru(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){var i=ss(n,e=rs(t,e),1);if(so(n,i),i=au(),null!==(n=cu(n,1)))Bt(n,1,i),lu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Hs||!Hs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Lu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=au(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(As&n)===n&&(4===Os||3===Os&&(62914560&As)===As&&500>Ui()-Us?yu(e,0):Fs|=n),lu(e,t)}function Mu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===qi()?1:2:(0===nu&&(nu=Ds),0===(t=qt(62914560&~nu))&&(t=4194304))),n=au(),null!==(e=cu(e,t))&&(Bt(e,t,n),lu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Fu(e,t,n,r)}function Uu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Uu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Bu(n.children,i,o,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case k:return(e=ju(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case x:return(e=ju(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case P:return(e=ju(19,n,t,i)).elementType=P,e.lanes=o,e;case F:return zu(n,i,o,t);case j:return(e=ju(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case N:s=9;break e;case A:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ju(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function zu(e,t,n,r){return(e=ju(23,e,r,t)).elementType=F,e.lanes=n,e}function Ku(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Wu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Gu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e,t,n,r){var i=t.current,o=au(),s=su(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(di(c)){n=gi(n,c,u);break e}}n=u}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),so(i,t),uu(i,s,o),s}function $u(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Yu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Ju(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,io(t),e[Yr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=$u(a);s.call(e)}}Qu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ju(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=$u(a);u.call(e)}}vu((function(){Qu(t,a,e,i)}))}return $u(a)}function tc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(a(200));return Gu(e,t,null,n)}Bs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||li.current)Ra=!0;else{if(0==(n&r)){switch(Ra=!1,t.tag){case 3:za(t),Ko();break;case 5:Oo(t);break;case 1:di(t.type)&&mi(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;si(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(si(Do,1&Do.current),null!==(t=Za(e,t,n))?t.sibling:null);si(Do,1&Do.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return Ja(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),si(Do,Do.current),r)break;return null;case 23:case 24:return t.lanes=0,ja(e,t,n)}return Za(e,t,n)}Ra=0!=(16384&e.flags)}else Ra=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),to(t,n),i=ra(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)){var o=!0;mi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,io(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&fo(t,r,s,e),i.updater=po,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Uu(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=qa(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=La(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,Gi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(za(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oo(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=Za(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Kr(t.stateNode.containerInfo.firstChild),Mo=t,o=jo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Da(e,t,r,n),Ko();t=t.child}return t;case 5:return Oo(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==o&&qr(r,o)&&(t.flags|=16),Ua(e,t),Da(e,t,s,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Qa(e,t,n);case 4:return xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(si(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=ar(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!li.current){t=Za(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=ao(-1,n&-n)).tag=2,so(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),eo(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,to(t,n),r=r(i=no(i,o.unstable_observedBits)),t.flags|=1,Da(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),Ma(e,t,i,o=Gi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(r)?(e=!0,mi(t)):e=!1,to(t,n),go(t,r,i),yo(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return Ja(e,t,n);case 23:case 24:return ja(e,t,n)}throw Error(a(156,t.tag))},Ju.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},Ju.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(uu(e,4,au()),Xu(e,4))},tt=function(e){13===e.tag&&(uu(e,67108864,au()),Xu(e,67108864))},nt=function(e){if(13===e.tag){var t=au(),n=su(e);uu(e,n,t),Xu(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ti(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=pu,Re=function(e,t,n,r,i){var o=ks;ks|=4;try{return Bi(98,e.bind(null,t,n,r,i))}finally{0===(ks=o)&&(Vs(),Ki())}},De=function(){0==(49&ks)&&(function(){if(null!==Js){var e=Js;Js=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,lu(e,Ui())}))}Ki()}(),Au())},Le=function(e,t){var n=ks;ks|=2;try{return e(t)}finally{0===(ks=n)&&(Vs(),Ki())}};var nc={Events:[Zr,ei,ti,xe,Pe,Au,{current:!1}]},rc={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{bi=oc.inject(ic),wi=oc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=tc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ks;if(0!=(48&n))return e(t);ks|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{ks=n,Ki()}},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(vu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=pu,t.unstable_createPortal=function(e,t){return tc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===f},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=_},864:(e,t,n)=>{"use strict";e.exports=n(921)},585:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},658:(e,t,n)=>{var r=n(585);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],o=0;o<t.length;o++)i.push(e(t[o],n,r).source);return l(new RegExp("(?:"+i.join("|")+")",h(r)),n)}(t,n,i):function(e,t,n){return f(o(e,n),t,n)}(t,n,i)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],v=n[2],g=n[3],m=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var _=null!=v&&null!=p&&p!==v,E="+"===b||"*"===b,I="?"===b||"*"===b,S=n[2]||l,T=m||y;r.push({name:g||o++,prefix:v||"",delimiter:S,optional:I,repeat:E,partial:_,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+u(S)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var b=y.prototype=new m;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+k(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+k(s=e[c],c);u+=C(s,t,n,l,a)}else if("function"==typeof(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+k(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function P(){var e=x.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(v=!1,g=null)}catch(e){throw _.postMessage(null),e}}else v=!1},n=function(e){g=e,v||(v=!0,_.postMessage(null))},r=function(e,n){m=f((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],C=[],N=1,A=null,x=3,P=!1,O=!1,R=!1;function D(e){for(var t=I(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,E(k,t)}t=I(C)}}function L(e){if(R=!1,D(e),!O)if(null!==I(k))O=!0,n(M);else{var t=I(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,R&&(R=!1,i()),P=!0;var o=x;try{for(D(n),A=I(k);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"==typeof a){A.callback=null,x=A.priorityLevel;var s=a(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?A.callback=s:A===I(k)&&S(k),D(n)}else S(k);A=I(k)}if(null!==A)var u=!0;else{var c=I(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,x=o,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return I(k)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var n=x;x=t;try{return e()}finally{x=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=x;x=e;try{return t()}finally{x=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===I(k)&&e===I(C)&&(R?i():R=!0,r(L,a-s))):(e.sortIndex=u,E(k,e),O||P||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=x;return function(){var n=x;x=t;try{return e.apply(this,arguments)}finally{x=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},379:(e,t,n)=>{"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],u=t.base?s[0]+t.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var h=a(l),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(f)):o.push({identifier:l,updater:v(f,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,p=0;function v(e,t){var n,r,i;if(t.singleton){var o=p++;n=d||(d=u(t)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=u(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var u=s(e,t),c=0;c<n.length;c++){var l=a(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=u}}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";var e=n(294),t=n(935);function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var o=n(697),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function c(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const l=function(e,t){if(!e)throw new Error("Invariant failed")};function h(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function v(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function g(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=s({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&u(e),a=t&&u(t),s=o||a;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=i.length;f>=0;f--){var d=i[f];"."===d?c(i,f):".."===d?(c(i,f),h++):h&&(c(i,f),h--)}if(!s)for(;h--;h)i.unshift("..");!s||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p}(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function m(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="hashchange",_={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:h},slash:{encodePath:h,decodePath:h}};function E(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function I(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function S(e){window.location.replace(E(window.location.href)+"#"+e)}function T(e){void 0===e&&(e={}),y||l(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?b:r,o=n.hashType,a=void 0===o?"slash":o,u=e.basename?p(h(e.basename)):"",c=_[a],f=c.encodePath,T=c.decodePath;function k(){var e=T(I());return u&&(e=d(e,u)),g(e)}var C=m();function N(e){s(q,e),q.length=t.length,C.notifyListeners(q.location,q.action)}var A=!1,x=null;function P(){var e,t,n=I(),r=f(n);if(n!==r)S(r);else{var o=k(),a=q.location;if(!A&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(x===v(o))return;x=null,function(e){if(A)A=!1,N();else{C.confirmTransitionTo(e,"POP",i,(function(t){t?N({action:"POP",location:e}):function(e){var t=q.location,n=L.lastIndexOf(v(t));-1===n&&(n=0);var r=L.lastIndexOf(v(e));-1===r&&(r=0);var i=n-r;i&&(A=!0,M(i))}(e)}))}}(o)}}var O=I(),R=f(O);O!==R&&S(R);var D=k(),L=[v(D)];function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(w,P):0===F&&window.removeEventListener(w,P)}var U=!1,q={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=E(window.location.href)),n+"#"+f(u+v(e))},push:function(e,t){var n="PUSH",r=g(e,void 0,void 0,q.location);C.confirmTransitionTo(r,n,i,(function(e){if(e){var t=v(r),i=f(u+t);if(I()!==i){x=t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(v(q.location)),a=L.slice(0,o+1);a.push(t),L=a,N({action:n,location:r})}else N()}}))},replace:function(e,t){var n="REPLACE",r=g(e,void 0,void 0,q.location);C.confirmTransitionTo(r,n,i,(function(e){if(e){var t=v(r),i=f(u+t);I()!==i&&(x=t,S(i));var o=L.indexOf(v(q.location));-1!==o&&(L[o]=t),N({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=C.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=C.appendListener(e);return j(1),function(){j(-1),t()}}};return q}var k=1073741823,C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{};function N(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}const A=e.createContext||function(t,n){var r,o,s,u="__create-react-context-"+((C[s="__global_unique_id__"]=(C[s]||0)+1)+"__"),c=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=N(t.props.value),t}i(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[u]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o==1/a:o!=o&&a!=a)?t=0:(t="function"==typeof n?n(r,i):k,0!=(t|=0)&&this.emitter.set(e.value,t))}var o,a},r.render=function(){return this.props.children},t}(e.Component);c.childContextTypes=((r={})[u]=a().object.isRequired,r);var l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!=((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}i(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?k:t},r.componentDidMount=function(){this.context[u]&&this.context[u].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?k:e},r.componentWillUnmount=function(){this.context[u]&&this.context[u].off(this.onUpdate)},r.getValue=function(){return this.context[u]?this.context[u].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return l.contextTypes=((o={})[u]=a().object,o),{Provider:c,Consumer:l}};var x=n(658),P=n.n(x);function O(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(864),n(679);var R=function(e){var t=A();return t.displayName="Router-History",t}(),D=function(e){var t=A();return t.displayName="Router",t}(),L=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}i(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(D.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(R.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component,e.Component;var M={},F=0;function j(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=M[n]||(M[n]={});if(r[e])return r[e];var i=[],o={regexp:P()(e,i,t),keys:i};return F<1e4&&(r[e]=o,F++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],h=u.slice(1),f=e===l;return o&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var U=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(D.Consumer,null,(function(n){n||l(!1);var r=t.props.location||n.location,i=s({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?j(r.pathname,t.props):n.match}),o=t.props,a=o.children,u=o.component,c=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(D.Provider,{value:i},i.match?a?"function"==typeof a?a(i):a:u?e.createElement(u,i):c?c(i):null:"function"==typeof a?a(i):null)}))},n}(e.Component);e.Component;var q=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(D.Consumer,null,(function(n){n||l(!1);var r,i,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var a=t.props.path||t.props.from;i=a?j(o.pathname,s({},t.props,{path:a})):n.match}})),i?e.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(e.Component);e.useContext,e.Component;var V=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=T(e.props),e}return i(n,t),n.prototype.render=function(){return e.createElement(L,{history:this.history,children:this.props.children})},n}(e.Component),B=function(e,t){return"function"==typeof e?e(t):e},z=function(e,t){return"string"==typeof e?g(e,null,null,t):e},K=function(e){return e},W=e.forwardRef;void 0===W&&(W=K);var H=W((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=O(t,["innerRef","navigate","onClick"]),u=a.target,c=s({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=K!==W&&n||r,e.createElement("a",c)})),G=W((function(t,n){var r=t.component,i=void 0===r?H:r,o=t.replace,a=t.to,u=t.innerRef,c=O(t,["component","replace","to","innerRef"]);return e.createElement(D.Consumer,null,(function(t){t||l(!1);var r=t.history,h=z(B(a,t.location),t.location),f=h?r.createHref(h):"",d=s({},c,{href:f,navigate:function(){var e=B(a,t.location);(o?r.replace:r.push)(e)}});return K!==W?d.ref=n||u:d.innerRef=u,e.createElement(i,d)}))})),Q=function(e){return e},$=e.forwardRef;void 0===$&&($=Q),$((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,u=t.activeStyle,c=t.className,h=t.exact,f=t.isActive,d=t.location,p=t.sensitive,v=t.strict,g=t.style,m=t.to,y=t.innerRef,b=O(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(D.Consumer,null,(function(t){t||l(!1);var r=d||t.location,o=z(B(m,r),r),w=o.pathname,_=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=_?j(r.pathname,{path:_,exact:h,sensitive:p,strict:v}):null,I=!!(f?f(E,r):E),S=I?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,a):c,T=I?s({},g,{},u):g,k=s({"aria-current":I&&i||null,className:S,style:T,to:o},b);return Q!==$?k.ref=n||y:k.innerRef=y,e.createElement(G,k)}))}));var Y=n(379),X=n.n(Y),J=n(340);X()(J.Z,{insert:"head",singleton:!1}),J.Z.locals;var Z=n(550);X()(Z.Z,{insert:"head",singleton:!1}),Z.Z.locals;const ee=function(){return e.createElement("footer",{className:"page-footer grey-background"},e.createElement("article",{className:"container"},e.createElement("ul",{className:"social flex"},e.createElement("li",null,e.createElement("a",{href:"#"},e.createElement("i",{className:"fab fa-facebook"}))),e.createElement("li",null,e.createElement("a",{href:"#"},e.createElement("i",{className:"fab fa-instagram"}))),e.createElement("li",null,e.createElement("a",{href:"#"},e.createElement("i",{className:"fab fa-twitter"})))),e.createElement("nav",{"aria-label":"Legal"},e.createElement("ul",{className:"legal flex"},e.createElement("li",null,e.createElement("a",{href:"#"},"Terms of Use 1")),e.createElement("span",null,"Â |Â "),e.createElement("li",null,e.createElement("a",{href:"#"},"Privacy Policy")),e.createElement("span",null,"Â |Â "),e.createElement("li",null,e.createElement("a",{href:"#"},"Accessibility Policy")))),e.createElement("p",{className:"copyright text-right"},e.createElement("strong",null,"Flone.")," Â© Copyright, 2021.")))},te=function(){var t=n(35).Z;return e.createElement("header",{className:"page-header pad-top-4"},e.createElement("article",{className:"container"},e.createElement("article",{className:"grid grid-2"},e.createElement(G,{to:"/",className:"logo text-left"},e.createElement("img",{src:t,alt:"Flont."})),e.createElement("article",{className:"text-right icons"},e.createElement("ul",{className:"your-products flex text-right"},e.createElement("li",{className:"hidden-on-mobile-view show-on-webview"},e.createElement(G,{className:"font-bold",id:"shop-submenu",to:"/products"},"Shop",e.createElement("i",{className:"fas fa-chevron-down shop-arrow"})),e.createElement("ul",{className:"hidden submenu shop-submenu-options",id:"shop-submenu-options"},e.createElement("li",null,e.createElement("a",{href:"#"},"Top Wear")),e.createElement("li",null,e.createElement("a",{href:"#"},"Bottom Wear")))),e.createElement("li",{className:"hidden-on-mobile-view show-on-webview"},e.createElement(G,{className:"font-bold",to:"/about"},"About")),e.createElement("li",{className:"hidden-on-mobile-view show-on-webview"},e.createElement("a",{className:"font-bold",href:"#"},"Contact")),e.createElement("li",{className:"hidden-on-mobile-view show-on-webview"},e.createElement("input",{className:"search-text",type:"text",placeholder:"Search..."}),e.createElement("i",{className:"fas fa-search search-icon"})),e.createElement("li",null,e.createElement("a",{className:"pad-left-10",href:"#"},e.createElement("i",{className:"fa-icon far fa-heart"}))),e.createElement("li",null,e.createElement("a",{href:"#"},e.createElement("i",{className:"fa-icon fas fa-shopping-basket"}))),e.createElement("li",{className:"hide-on-webview show-on-tablet"},e.createElement("a",{id:"nav-icon",href:"#"},e.createElement("i",{className:"fa-icon fas fa-bars"})))),e.createElement("nav",{"aria-label":"Primary",id:"nav-options",className:"navigation hidden"},e.createElement("ul",{className:"menu"},e.createElement("li",null,e.createElement("input",{className:"search-text",type:"text",placeholder:"Search..."}),e.createElement("i",{className:"fas fa-search search-icon"})),e.createElement("li",null,e.createElement("a",{className:"font-bold",href:"#"},"Shop",e.createElement("i",{className:"fas fa-chevron-down shop-arrow"})),e.createElement("ul",{className:"submenu"},e.createElement("li",null,e.createElement("a",{href:"#"},"Top Wear")),e.createElement("li",null,e.createElement("a",{href:"#"},"Bottom Wear")))),e.createElement("li",null,e.createElement(G,{className:"font-bold",to:"/about"},"About")),e.createElement("li",null,e.createElement("a",{className:"font-bold",href:"#"},"Contact"))))))))};var ne=n(538);X()(ne.Z,{insert:"head",singleton:!1}),ne.Z.locals;var re=n(402);X()(re.Z,{insert:"head",singleton:!1}),re.Z.locals;var ie=n(583);X()(ie.Z,{insert:"head",singleton:!1}),ie.Z.locals;var oe=n(149),ae=n.n(oe),se=function(e,t){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ce(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function le(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function he(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}Object.create,Object.create;function fe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=fe(e[n],t[n]));return e}var de=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function pe(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}var ve=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ge.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),ge=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?me(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new ve(i,s,r);return u},e}();function me(e,t){return e.replace(ye,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var ye=/\{\$([^}]+)}/g;function be(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function we(e,t){var n=new _e(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782),i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295,h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i;this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var _e=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=Ee),void 0===r.error&&(r.error=Ee),void 0===r.complete&&(r.complete=Ee);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Ee(){}var Ie,Se=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Te="[DEFAULT]",ke=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=Te);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new de;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=ue({identifier:Te,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Te})}catch(e){}try{for(var r=ce(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=le(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Te),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(he(he([],le(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),le(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Te),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?Te:r,o=e.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(i);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=ce(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=le(l.value,2),f=h[0],d=h[1];s===this.normalizeInstanceIdentifier(f)&&d.resolve(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Te?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Te:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),Ce=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ke(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Ne(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var Ae,xe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ae||(Ae={}));var Pe,Oe={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Re=Ae.INFO,De=((Ie={})[Ae.DEBUG]="log",Ie[Ae.VERBOSE]="log",Ie[Ae.INFO]="info",Ie[Ae.WARN]="warn",Ie[Ae.ERROR]="error",Ie),Le=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=De[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Ne(["["+i+"]  "+e.name+":"],n))}},Me=function(){function e(e){this.name=e,this._logLevel=Re,this._logHandler=Le,this._userLogHandler=null,xe.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ae))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Oe[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ne([this,Ae.DEBUG],e)),this._logHandler.apply(this,Ne([this,Ae.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ne([this,Ae.VERBOSE],e)),this._logHandler.apply(this,Ne([this,Ae.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ne([this,Ae.INFO],e)),this._logHandler.apply(this,Ne([this,Ae.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ne([this,Ae.WARN],e)),this._logHandler.apply(this,Ne([this,Ae.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ne([this,Ae.ERROR],e)),this._logHandler.apply(this,Ne([this,Ae.ERROR],e))},e}();function Fe(e){xe.forEach((function(t){t.setLogLevel(e)}))}var je,Ue=((Pe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Pe["bad-app-name"]="Illegal App name: '{$appName}",Pe["duplicate-app"]="Firebase App named '{$appName}' already exists",Pe["app-deleted"]="Firebase App named '{$appName}' already deleted",Pe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Pe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Pe),qe=new ge("app","Firebase",Ue),Ve="@firebase/app",Be="[DEFAULT]",ze=((je={})[Ve]="fire-core",je["@firebase/analytics"]="fire-analytics",je["@firebase/auth"]="fire-auth",je["@firebase/database"]="fire-rtdb",je["@firebase/functions"]="fire-fn",je["@firebase/installations"]="fire-iid",je["@firebase/messaging"]="fire-fcm",je["@firebase/performance"]="fire-perf",je["@firebase/remote-config"]="fire-rc",je["@firebase/storage"]="fire-gcs",je["@firebase/firestore"]="fire-fst",je["fire-js"]="fire-js",je["firebase-wrapper"]="fire-js-all",je),Ke=new Me("@firebase/app"),We=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=fe(void 0,e),this.container=new Ce(t.name),this._addComponent(new Se("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=Be),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Be),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){Ke.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw qe.create("app-deleted",{appName:this.name_})},e}();We.prototype.name&&We.prototype.options||We.prototype.delete||console.log("dc");var He=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=Be);var a=o.name;if("string"!=typeof a||!a)throw qe.create("bad-app-name",{appName:String(a)});if(be(t,a))throw qe.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ze[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Ke.warn(u.join(" "))}o(new Se(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Fe,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw qe.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Oe[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Ae[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=xe;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.4.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!be(t,e=e||Be))throw qe.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Ke.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw qe.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&fe(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(We);return t.INTERNAL=ue(ue({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){fe(t,e)},createSubscribe:we,ErrorFactory:ge,deepExtend:fe}),t}(),Ge=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ke.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&Ke.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $e=He.initializeApp;He.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return pe()&&Ke.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),$e.apply(void 0,e)};var Ye=He;function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){e.INTERNAL.registerComponent(new Se("platform-logger",(function(e){return new Ge(e)}),"PRIVATE")),e.registerVersion(Ve,"0.6.20",void 0),e.registerVersion("fire-js","")}(Ye),Ye.registerVersion("firebase","8.4.2","app"),ae().initializeApp({apiKey:"AIzaSyDPFJ56SRsS4w2AwFM-aMf4yecfDnNfb9s",authDomain:"mycart-4c660.firebaseapp.com",projectId:"mycart-4c660",storageBucket:"mycart-4c660.appspot.com",messagingSenderId:"399725197557",appId:"1:399725197557:web:09bf2fe96ffa91c381edbc"});var Ze=(0,e.createContext)(),et=function(t){var n=t.children,r=Xe((0,e.useState)([]),2),i=r[0],o=r[1],a=Xe((0,e.useState)(i),2),s=a[0],u=a[1];(0,e.useEffect)((function(){i.length>0&&u(i)}),[i]);var c=Xe((0,e.useState)({query:"all",isFloneAssured:"all",reset:"false"}),2),l=c[0],h=c[1];return(0,e.useEffect)((function(){var e=i;if("all"!==l.isFloneAssured)switch(l.isFloneAssured){case!0:e=e.filter((function(e){return 1==e.IsFloneAssured}));break;default:e=e.filter((function(e){return 0==e.IsFloneAssured}))}"all"!==l.query&&(e=e.filter((function(e){return e.name.toLowerCase().includes(l.query.toLowerCase().trim())}))),"true"===l.reset&&(e=i),u(e)}),[l]),(0,e.useEffect)((function(){ae().firestore().collection("products").onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(e.data())})),o(t)}))}),[]),e.createElement(Ze.Provider,{value:{products:i,setProducts:o,filters:l,setFilters:h,filteredProducts:s,setFilteredProducts:u}},n)};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const it=function(){var t=(0,e.useContext)(Ze),r=t.filters,i=t.setFilters,o=n(529).Z;return e.createElement("form",{className:"filters container"},e.createElement("h2",{className:"subheading text-left pad-3"},"Filters",e.createElement("a",{className:"hide-on-webview",href:"#",id:"toggle-filter"},e.createElement("i",{className:"fas fa-filter"}))),e.createElement("article",{id:"filter-options",className:"filter-options hidden-on-mobile-view"},e.createElement("fieldset",{className:""},e.createElement("legend",{className:"pad-top-10 font-bold"},"Flone Assured"),e.createElement("label",{className:"switch"},e.createElement("input",{type:"checkbox",value:r.isFloneAssured,defaultChecked:!0,onChange:function(e){i(nt(nt({},r),{},{isFloneAssured:!r.isFloneAssured}))}}),e.createElement("span",{className:"slider round"})),e.createElement("img",{src:o,className:"verified-image-filter",alt:""})),e.createElement("fieldset",null,e.createElement("legend",{className:"pad-top-10 font-bold"},"Filter By"),e.createElement("input",{type:"text",onKeyUp:function(e){i(nt(nt({},r),{},{query:e.target.value}))}})),e.createElement("fieldset",null,e.createElement("button",{className:"cart-button top-width-5",onChange:function(e){i(nt(nt({},r),{},{reset:"true"}))}},"Reset"))))},ot=function(t){var r=t.values,i=r.Rating.map((function(t,n){return e.createElement("i",{key:n,className:1===t?"fas fa-star":0===t?"hidden":"fas fa-star-half-alt"})})),o=r.Colors.map((function(t){return e.createElement("li",{key:t.id},e.createElement("input",{type:"radio",name:"colour",id:"Color_".concat(t.name,"_").concat(t.id),value:t.name})," ",e.createElement("label",{htmlFor:"Color_".concat(t.name,"_").concat(t.id)},t.name))})),a=r.Sizes.map((function(t){return e.createElement("li",{key:t.id},e.createElement("input",{type:"radio",name:"size",id:"Size_".concat(t.name,"_").concat(t.id),value:t.name})," ",e.createElement("label",{htmlFor:"Size_".concat(t.name,"_").concat(t.id)},t.name))})),s=n(529).Z;return e.createElement("article",{className:"product"},e.createElement("header",null,e.createElement("h3",{className:"pad-top-4"},r.name,e.createElement("span",{className:"float-right"},e.createElement("i",{className:r.isLiked?"fas fa-heart color-red":"far fa-heart"}))),e.createElement("data",{className:"pad-top-4",value:"39"},e.createElement("del",null,"$",r.actualPrice)," ",e.createElement("ins",null,"$",r.sellingPrice)),e.createElement("p",{className:"pad-top-4"},r.description),e.createElement("dl",{className:r.IsFloneAssured?"pad-top-4":"hidden"},e.createElement("dt",{className:"font-bold"},e.createElement("img",{title:"Flone Assured",src:s,className:"verified-image",alt:""}))),e.createElement("dl",{className:r.Rating.length>0?"pad-top-4":"hidden"},e.createElement("dt",{className:"font-bold"},"Rating"),i)),e.createElement("form",null,e.createElement("fieldset",{className:r.Colors.length>0?"":"hidden"},e.createElement("legend",{className:"pad-top-4 font-bold"},"Colours"),e.createElement("ul",{className:"color-variant-fields pad-top-4"},o)),e.createElement("fieldset",{className:r.Sizes.length>0?"":"hidden"},e.createElement("legend",{className:"pad-top-4 font-bold"},"Select Size"),e.createElement("ul",{className:"size-fields pad-top-4"},a))),e.createElement("footer",{className:"product-footer"},e.createElement("button",{id:"Cart_".concat(r.id),className:r.Sizes.length>0?"cart-button":"cart-button disabled",type:"button"},e.createElement("i",{className:"fas fa-cart-plus"})," Add to Cart")))},at=function(t){var n=t.products.map((function(t,n){return e.createElement(ot,{key:n,values:t})}));return e.createElement("header",{className:"grid grid-1 grid-webview-products"},n)},st=function(t){var n=t.products;return e.createElement("main",{className:"products"},e.createElement("header",{className:"hero-header"},e.createElement("article",{className:"container"},e.createElement("article",{className:"heading-header pad-left-3"},e.createElement("h3",null,"Final Sale for",e.createElement("br",null),"Winters"),e.createElement("button",{className:"btn-red mar-top-10"},"Show More")))),e.createElement("article",{className:""},e.createElement("article",{className:"container"},e.createElement("article",{className:"grid grid-1 grid-webview"},e.createElement(it,null),e.createElement("section",{className:"full-product-view grid-webview-product-section"},e.createElement("article",{className:"results container"},e.createElement("article",{className:"grid grid-2"},e.createElement("h2",{className:"subheading text-left  pad-3"},"Top Wear")),e.createElement(at,{products:n})),e.createElement("nav",{"aria-label":"Pagination",className:"pagination text-center"},e.createElement("p",null,"Showing ",n.length," of ",n.length," products"),e.createElement("ol",{className:"pages flex flex-gap"},e.createElement("li",{className:"disabled-page"},e.createElement("a",{href:"#","aria-label":"Previous Page"},"<")),e.createElement("li",{className:"active-page"},e.createElement("a",{href:"#","aria-label":"Current Page, Page 1","aria-current":"true"},"1")),e.createElement("li",{className:"disabled-page"},e.createElement("a",{href:"#","aria-label":"Next Page"},">")))))))))},ut=function(){return e.createElement("h1",null,"Error")},ct=function(){return e.createElement(e.Fragment,null,e.createElement(te,null),e.createElement("h1",null,"Hello Flone!!"),e.createElement(ee,null))},lt=function(){var t=(0,e.useContext)(Ze).filteredProducts;return e.createElement(q,null,e.createElement(U,{exact:!0,path:"/",component:ct}),e.createElement(U,{exact:!0,path:"/products"},e.createElement(st,{products:t})),e.createElement(U,{path:"*"},e.createElement(ut,null)))};t.render(e.createElement(V,null,e.createElement(et,null,e.createElement(lt,null))),document.getElementById("root"))})()})();